<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-09-01 Sun 22:47 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Xiaojie's Emacs Init File Written in Org-Mode</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Xiaojie Feng" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="./assets/page.css" type="text/css">
<link class="s-css-s--style" rel="stylesheet"           title="Default"               href="./assets/themes/default.css">
<link class="s-css-s--style" rel="stylesheet alternate" title="Default high contrast" href="./assets/themes/default-high-contrast.css">
<link class="s-css-s--style" rel="stylesheet alternate" title="Solarized dark xterm"  href="./assets/themes/solarized-dark-xterm.css">
<link class="s-css-s--style" rel="stylesheet alternate" title="Black on white"        href="./assets/themes/black-on-white.css">
<script src="./assets/js/simple-css-switch.js"></script>
<body lang="en" onload="simpleCssSwitch()">
<div id="s-css-s--menu"></div>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Xiaojie's Emacs Init File Written in Org-Mode</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org40c22d1">1. About</a>
<ul>
<li><a href="#orgf0035b6">1.1. My Emacs Init File</a></li>
<li><a href="#orgdce6b94">1.2. License</a></li>
<li><a href="#org299f508">1.3. Commentary</a></li>
<li><a href="#orgf87c615">1.4. What I Want to Say</a></li>
<li><a href="#org2bba385">1.5. How to Use This Document</a></li>
</ul>
</li>
<li><a href="#orgd5215fe">2. Personal Information</a></li>
<li><a href="#orgb9513ad">3. Bootstraping</a>
<ul>
<li><a href="#orga0d3e90">3.1. Load Multiple Emacs Files</a>
<ul>
<li><a href="#org3d15ef9">3.1.1. My Directory Location</a></li>
<li><a href="#org9f8789d">3.1.2. Directory Structure</a></li>
<li><a href="#orgd3d9c9d">3.1.3. Customization</a></li>
<li><a href="#org309d8a1">3.1.4. Setting up the Load Path</a></li>
</ul>
</li>
<li><a href="#org18fd979">3.2. Package Management</a>
<ul>
<li><a href="#orgf721e53">3.2.1. <code>ELPA</code> - Packages Installer and Manager</a></li>
<li><a href="#org1f3c6bd">3.2.2. <code>Use-Package</code> - Package Configuration Macro</a></li>
</ul>
</li>
<li><a href="#org7e1da8b">3.3. Library Dependency</a></li>
<li><a href="#org8bd18a2">3.4. Environment fixup</a></li>
<li><a href="#orgc24e85d">3.5. Keyboard settings for macOS users</a></li>
</ul>
</li>
<li><a href="#org42f6bca">4. Basic settings used everywhere</a>
<ul>
<li><a href="#orgd6c5d0f">4.1. General user interface and appearance</a>
<ul>
<li><a href="#org2bc15ec">4.1.1. Startup screen and errors reporting</a></li>
<li><a href="#org2d3134e">4.1.2. Set frames title with buffer name</a></li>
<li><a href="#org7f4fcf3">4.1.3. Distinguish buffers with the same file name</a></li>
<li><a href="#orge04d36c">4.1.4. Menu bar, tool bar, scroll bar. No!</a></li>
<li><a href="#orgb6fcc0a">4.1.5. Modeline settings</a></li>
<li><a href="#org1172639">4.1.6. Put empty line markers into the left hand side</a></li>
<li><a href="#org1878779">4.1.7. Display Line Numbers</a></li>
<li><a href="#orgb4dd24c">4.1.8. Cursor and mouse</a></li>
<li><a href="#orgd6d495d">4.1.9. Sweet highlight</a></li>
<li><a href="#org14da4d0">4.1.10. Nice scrolling</a></li>
<li><a href="#orgb5d969d">4.1.11. No <code>#autosave#</code> and <code>backup~</code> files</a></li>
<li><a href="#org3507206">4.1.12. Change "yes or no" to "y or n"</a></li>
<li><a href="#org9dbac5d">4.1.13. Confirm before quit</a></li>
</ul>
</li>
<li><a href="#orgab416a9">4.2. Commands - useful interactive functions</a>
<ul>
<li><a href="#org1fe34dd">4.2.1. Reload emacs initialization file</a></li>
<li><a href="#org9805775">4.2.2. macOS swap Meta and Super</a></li>
<li><a href="#orge0bc6b6">4.2.3. Copy filename to clipboard</a></li>
<li><a href="#org2363f2e">4.2.4. Open File in external app</a></li>
</ul>
</li>
<li><a href="#org245dd46">4.3. Navigation</a>
<ul>
<li><a href="#orgdb07faa">4.3.1. <code>Projectile</code> - project interaction</a></li>
<li><a href="#org580f8ae">4.3.2. <code>Dired</code> - directory editor</a></li>
<li><a href="#orga141e17">4.3.3. <code>Neotree</code> - tree layout directory explorer</a></li>
<li><a href="#orgfe23ace">4.3.4. <code>Winner</code> - undo and redo window configuration</a></li>
<li><a href="#orgf9d4ba6">4.3.5. <code>Windmove</code> - switch between windows</a></li>
<li><a href="#org24da4a3">4.3.6. <code>Buffer-move</code> - move or swap buffer to other window</a></li>
<li><a href="#org31b6d98">4.3.7. <code>C-x o</code> : Moving to another window</a></li>
<li><a href="#org4f0a77a">4.3.8. <code>C-x k</code> : Quick kill buffer</a></li>
<li><a href="#org0b3c712">4.3.9. <code>Avy</code> - fast cursor movement</a></li>
<li><a href="#org55a7e4a">4.3.10. <code>C-a</code> : Smart beginning of line</a></li>
<li><a href="#org2e38be9">4.3.11. <code>C-w</code> and <code>M-w</code> : Smart cut and copy</a></li>
<li><a href="#org199dea3">4.3.12. <code>M-\</code> : Smart delete whitespaces around cursor</a></li>
<li><a href="#org41bfc13">4.3.13. <code>C-k</code> : Smart kill entire lines</a></li>
<li><a href="#org195504f">4.3.14. <code>Expand-region</code> - Smart region selection</a></li>
<li><a href="#org1d4939e">4.3.15. <code>Fancy-narrow</code> - Smart narrowing</a></li>
<li><a href="#org2cf1f28">4.3.16. <code>M-;</code> : Smart Comment</a></li>
<li><a href="#org391a8f6">4.3.17. <code>M-p</code> and <code>M-n</code> : Smart Scan</a></li>
<li><a href="#orge19c167">4.3.18. Better Searching and Visual Regular Expressions</a></li>
</ul>
</li>
<li><a href="#org72f0f95">4.4. Editing</a>
<ul>
<li><a href="#orgac74a56">4.4.1. Coding - always UTF-8</a></li>
<li><a href="#orgb2ec81d">4.4.2. Tabs, spaces, enters</a></li>
<li><a href="#org3ebc4a3">4.4.3. Delete the selection with a keypress</a></li>
<li><a href="#org65416a8">4.4.4. <code>Whitespace</code> - show and clean devil</a></li>
<li><a href="#org6e6e11b">4.4.5. <code>Smartparents</code> - Insert closing parens automagically</a></li>
<li><a href="#orgc2500ab">4.4.6. <code>Undo-tree</code> - visualize your undos and branches</a></li>
<li><a href="#org7b7cc7d">4.4.7. <code>Auto-fill</code> - warp long lines</a></li>
<li><a href="#org83349b1">4.4.8. <code>Hippie-expand</code> - Text Expansion</a></li>
<li><a href="#org326bef5">4.4.9. <code>Company</code> - Completion for Anything</a></li>
<li><a href="#org5ef5f99">4.4.10. <code>Yasnippet</code> - Code Templates</a></li>
<li><a href="#org3ee95e6">4.4.11. <code>Flyspell</code> - Spelling Checking</a></li>
<li><a href="#org0282cbd">4.4.12. <code>Multiple Cursors</code> - edit with multiple cursors</a></li>
</ul>
</li>
<li><a href="#orgcc09406">4.5. Helm - interactive completion and selection</a>
<ul>
<li><a href="#org53da2a4">4.5.1. Helm core - amazing utils used everywhere</a></li>
<li><a href="#org9eae549">4.5.2. Helm-projectile - project maintaining</a></li>
<li><a href="#org182d2bf">4.5.3. Helm-swoop - searching tool</a></li>
<li><a href="#org438c6ae">4.5.4. Helm-describe - keybings describe</a></li>
<li><a href="#org3bf20ef">4.5.5. Helm-flyspell - flyspell correct</a></li>
</ul>
</li>
<li><a href="#orgcfa53fb">4.6. Backup and autosave</a></li>
<li><a href="#org550bef9">4.7. Persistence and history</a>
<ul>
<li><a href="#orge820de4">4.7.1. Recentf - recent files</a></li>
<li><a href="#org0583cee">4.7.2. Saveplace - save file position</a></li>
<li><a href="#org19fedd5">4.7.3. Savehist - save history</a></li>
<li><a href="#orgdf00bf0">4.7.4. Desktop - save and restore opened files and windows config</a></li>
<li><a href="#orge73dee1">4.7.5. Bookmark - emacs bookmark</a></li>
<li><a href="#org9776cf4">4.7.6. Eshell - emacs shell</a></li>
</ul>
</li>
<li><a href="#orge5721e4">4.8. Global Key Bindings</a>
<ul>
<li><a href="#org3822179">4.8.1. Function keys</a></li>
<li><a href="#org7d2b14d">4.8.2. Easy keys for frequently used commands</a></li>
<li><a href="#org62b05f7">4.8.3. Toggles</a></li>
<li><a href="#org2a1b9c9">4.8.4. Miscellaneous</a></li>
<li><a href="#org515152b">4.8.5. <code>Which-key</code> - keys cheat sheet</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org95ee843">5. Aesthetics</a>
<ul>
<li><a href="#org7b2d953">5.1. Color Themes</a></li>
<li><a href="#orgb3cea75">5.2. Modeline Theme</a></li>
<li><a href="#org1fec352">5.3. Icons</a></li>
<li><a href="#orgd0174c6">5.4. Fonts</a></li>
<li><a href="#org3aa3f60">5.5. <code>Nyan-mode</code> - Nyan cat in modeline</a></li>
<li><a href="#org7879fca">5.6. <code>Rainbow-delimiters</code> - color delimiters for LISP</a></li>
<li><a href="#org5023f55">5.7. <code>Rainbow-mode</code> - color words for CSS</a></li>
</ul>
</li>
<li><a href="#org2d45e76">6. Programming Environment</a>
<ul>
<li><a href="#orgbbdbc3c">6.1. Editing Support</a>
<ul>
<li><a href="#orga4e314f">6.1.1. Aggressive Indent</a></li>
<li><a href="#org84a6db2">6.1.2. Indent Guide</a></li>
<li><a href="#org51c57ee">6.1.3. Code Folding</a></li>
</ul>
</li>
<li><a href="#org60a6ee2">6.2. Document</a></li>
<li><a href="#org454e553">6.3. Error checking</a></li>
</ul>
</li>
<li><a href="#orgbaf193b">7. Programming Languages</a>
<ul>
<li><a href="#org6bcb334">7.1. Shell</a></li>
</ul>
</li>
<li><a href="#orgaaeb5c0">8. Typesetting Languages</a>
<ul>
<li><a href="#org41d9938">8.1. Markdown</a></li>
<li><a href="#org5550191">8.2. LaTeX</a></li>
</ul>
</li>
<li><a href="#org8a7daa7">9. Git and Magit</a>
<ul>
<li><a href="#org7c5bf1e">9.1. Git basic settings</a></li>
<li><a href="#org3dde1b7">9.2. Magit - git interface</a></li>
</ul>
</li>
<li><a href="#orgd9cb109">10. Org-Mode</a>
<ul>
<li><a href="#org48f0163">10.1. Exporter Setup</a></li>
</ul>
</li>
<li><a href="#orgffdc68a">11. Acknowledges</a></li>
</ul>
</div>
</div>

<div id="outline-container-org40c22d1" class="outline-2">
<h2 id="org40c22d1"><span class="section-number-2">1</span> About</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgf0035b6" class="outline-3">
<h3 id="orgf0035b6"><span class="section-number-3">1.1</span> My Emacs Init File</h3>
<div class="outline-text-3" id="text-1-1">
<p>
This is my Emacs configuration file. Inspired by <a href="http://pages.sachachua.com/.emacs.d/Sacha.html">Sacha</a> and <a href="http://doc.norang.ca/org-mode.html">Bernt</a>, l written it
using <a href="https://orgmode.org/worg/org-contrib/babel/intro.html">Org-babel</a> in literate style, to make it easy to explain.
</p>

<div class="org-src-container">
<pre class="src src-org">Author: Xiaojie Feng
Keywords: emacs, dotfile, config

   <span style="text-decoration: underline;">___</span> _ <span style="text-decoration: underline;">__ </span><span style="text-decoration: underline;">___</span>   <span style="text-decoration: underline;">__ _  </span><span style="text-decoration: underline;">___</span> <span style="text-decoration: underline;">___</span>
  / _ \ '_ ` _ \ / _` |/ __/ __|
 <span style="color: #9FC59F;">|  __/ | | | | | (_| | (</span><span style="color: #9FC59F; text-decoration: underline;">__\__</span><span style="color: #9FC59F;"> \</span>
(<span style="text-decoration: underline;">_)___|_| |_| |_|\__</span>,_|\___|___/
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdce6b94" class="outline-3">
<h3 id="orgdce6b94"><span class="section-number-3">1.2</span> License</h3>
<div class="outline-text-3" id="text-1-2">
<blockquote>
<p>
Copyright (C) 2016-2019 Xiaojie Feng
</p>

<p>
Permission is granted to copy, distribute and/or modify this document under the
terms of the GNU Free Documentation License, Version 1.3 or any later version
published by the Free Software Foundation; with no Invariant Sections, no
Front-Cover Texts, and no Back-Cover Texts.
</p>

<p>
Code in this document is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by the Free
Software Foundation, either version 3 of the License, or (at your option) any
later version.
</p>

<p>
This code is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for more details.
</p>
</blockquote>
</div>
</div>
<div id="outline-container-org299f508" class="outline-3">
<h3 id="org299f508"><span class="section-number-3">1.3</span> Commentary</h3>
<div class="outline-text-3" id="text-1-3">
<blockquote>
<p>
Emacs outshines all other editing software in approximately the same way that
the noonday sun does the stars. It is not just bigger and brighter; it simply
makes everything else vanish.
                                                             [Neal Stephenson]
</p>

<p>
People talk about getting used to a new editor, but over time, it is precisely
the opposite that should happen — the editor should get used to us.
                                                                [Vivek Haldar]
</p>

<p>
"Show me your ~/.emacs and I will tell you who you are."
                                                             [Bogdan Maryniuk]
</p>

<p>
"Emacs is like a laser guided missile. It only has to be slightly
mis-configured to ruin your whole day."
                                                                [Sean McGrath]
</p>

<p>
"While any text editor can save your files, only Emacs can save your
soul."
                                                              [Per Abrahamsen]
</p>
</blockquote>
</div>
</div>
<div id="outline-container-orgf87c615" class="outline-3">
<h3 id="orgf87c615"><span class="section-number-3">1.4</span> What I Want to Say</h3>
<div class="outline-text-3" id="text-1-4">
<p>
If you are not familiar with the Emacs basic usage, I highly recommend you to
read some sophisticated Emacs users' Emacs guide, such as <a href="http://tuhdo.github.io/emacs-tutor.html">Tuhdo's Emacs Mini
Manual (PART 1) - THE BASICS</a> and <a href="http://ergoemacs.org/emacs/emacs.html">Xah Lee's Practical Emacs Tutorial</a>, instead of
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/">the official Emacs Manual</a>. The official manual is too long to read for Emacs
newbies.
</p>

<p>
You can always use my init file as long as you master the basic usage of Emacs,
even though my configuration contains something a little advanced to Emacs (and
Emacs Lisp) beginners. As I think, the init file was well organized in
structural and code blocks (<code>setq</code>, <code>defun</code>, package configuration etc.) were
written together with plenty explanation about why and how to use, thanks to
the <a href="https://en.wikipedia.org/wiki/Literate_programming">Literate programming paradigm</a> introduced by Donald Knuth.
</p>
</div>
</div>

<div id="outline-container-org2bba385" class="outline-3">
<h3 id="org2bba385"><span class="section-number-3">1.5</span> How to Use This Document</h3>
<div class="outline-text-3" id="text-1-5">
<p>
This document is available as an org file which you can load in Emacs and
tangle with <code>M-x org-babel-tangle (C-c C-v C-t)</code> which will create
<code>org-mode.el</code> in the same directory as the <code>org-mode.org</code> file. This will
extract all of the elisp examples in this document into a file you can include
in your <code>$HOME/.emacs.d/init.el</code> file.
</p>

<p>
If you're new to <a href="https://www.gnu.org/software/emacs/manual/html_node/eintr/index.html">Emacs Lisp</a>, you probably don't want to copy and paste large
chunks of this code. Instead, copy small parts of it (always making sure to
copy a complete set of parentheses) into your <code>*scratch*</code> buffer or some other
buffer in <code>emacs-lisp-mode</code>. Use <code>M-x eval-buffer</code> to evaluate the code and see
if you like the way that Emacs behaves.
</p>

<p>
If you're viewing the Org file, you can open source code blocks (those are the
ones in begin_src) in a separate buffer by moving your point inside them and
typing C-c ' (<code>M-x org-edit-special</code>). This opens another buffer in
<code>emacs-lisp-mode</code>, so you can use <code>M-x eval-buffer</code> to load the changes.
</p>
</div>
</div>
</div>

<div id="outline-container-orgd5215fe" class="outline-2">
<h2 id="orgd5215fe"><span class="section-number-2">2</span> Personal Information</h2>
<div class="outline-text-2" id="text-2">
<p>
Emacs will normally pick this up automatically, but this way I can be sure the
right information is always present.
</p>

<p>
<b>Note: You should modify this with your personal info.</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> user-full-name <span style="color: #CC9393;">"Xiaojie Feng"</span>
      user-mail-address <span style="color: #CC9393;">"fengxiaojie1997@gmail.com"</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb9513ad" class="outline-2">
<h2 id="orgb9513ad"><span class="section-number-2">3</span> Bootstraping</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orga0d3e90" class="outline-3">
<h3 id="orga0d3e90"><span class="section-number-3">3.1</span> Load Multiple Emacs Files</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-org3d15ef9" class="outline-4">
<h4 id="org3d15ef9"><span class="section-number-4">3.1.1</span> My Directory Location</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Conventionally, additional per-user Emacs-specific files are placed in
<code>.emacs.d</code> directory in the <code>HOME</code> directory. The variable
<code>user-emacs-directory</code> holds that.
</p>

<p>
Structure the <code>.emacs.d</code> directory by putting some sub-directories in it.
Following functions make it easy to get the location (whole path) of these
sub-directories (and files):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">user-emacs-subdirectory</span> <span style="color: #bf62a6;">(</span>d<span style="color: #bf62a6;">)</span> <span style="color: #bf62a6;">(</span>expand-file-name d user-emacs-directory<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">user-emacs-file</span> <span style="color: #bf62a6;">(</span>f<span style="color: #bf62a6;">)</span> <span style="color: #bf62a6;">(</span>expand-file-name f user-emacs-directory<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
But, in practice, I didn't use them.
</p>
</div>
</div>

<div id="outline-container-org9f8789d" class="outline-4">
<h4 id="org9f8789d"><span class="section-number-4">3.1.2</span> Directory Structure</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
In case this is the first time running this on a computer, we need to make sure
the following directories have been created.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defconst</span> <span style="color: #DFAF8F;">user-emacs-savefile-dir</span>
  <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"savefile"</span> user-emacs-directory<span style="color: #bf62a6;">)</span>
  <span style="color: #9FC59F;">"This folder stores all the history and cache files"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defconst</span> <span style="color: #DFAF8F;">user-emacs-backup-dir</span>
  <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"backup"</span> user-emacs-directory<span style="color: #bf62a6;">)</span>
  <span style="color: #9FC59F;">"This folder stores all the backup~ files"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defconst</span> <span style="color: #DFAF8F;">user-emacs-autosave-dir</span>
  <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"autosave"</span> user-emacs-directory<span style="color: #bf62a6;">)</span>
  <span style="color: #9FC59F;">"This folder stores all the #autosave# files"</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">unless</span> <span style="color: #bf62a6;">(</span>file-exists-p user-emacs-savefile-dir<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>make-directory user-emacs-savefile-dir<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">unless</span> <span style="color: #bf62a6;">(</span>file-exists-p user-emacs-backup-dir<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>make-directory user-emacs-backup-dir<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">unless</span> <span style="color: #bf62a6;">(</span>file-exists-p user-emacs-autosave-dir<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>make-directory user-emacs-autosave-dir<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd3d9c9d" class="outline-4">
<h4 id="orgd3d9c9d"><span class="section-number-4">3.1.3</span> Customization</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
While I would rather program my configurations, sometimes the Emacs
menu system is "good enough", but I want it in its own file:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> custom-file <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"custom.el"</span> user-emacs-directory<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> <span style="color: #bf62a6;">(</span>file-exists-p custom-file<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>load custom-file<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org309d8a1" class="outline-4">
<h4 id="org309d8a1"><span class="section-number-4">3.1.4</span> Setting up the Load Path</h4>
<div class="outline-text-4" id="text-3-1-4">
<p>
Extra packages not available via the package manager go in my personal stash at
<code>$HOME/.emacs.d/elisp</code>. As long as they're in a directory in my <code>load-path</code>,
Emacs can find them.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>add-to-list 'load-path <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"elisp"</span> user-emacs-directory<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org18fd979" class="outline-3">
<h3 id="org18fd979"><span class="section-number-3">3.2</span> Package Management</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-orgf721e53" class="outline-4">
<h4 id="orgf721e53"><span class="section-number-4">3.2.1</span> <code>ELPA</code> - Packages Installer and Manager</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
Emacs has become like every other operating system, and now has a package
manager called <a href="http://tromey.com/elpa/">Emacs Lisp Package Archive (ELPA)</a> with its own collection
repository. This provides a nice way to <a href="http://ergoemacs.org/emacs/emacs_package_system.html">install additional packages</a>. But since
it is so conservative, we need to add more package source.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">package</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> package-archives
      '<span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"gnu"</span> . <span style="color: #CC9393;">"https://elpa.gnu.org/packages/"</span><span style="color: #459ba8;">)</span>
        <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"org"</span> . <span style="color: #CC9393;">"http://orgmode.org/elpa/"</span><span style="color: #459ba8;">)</span>
        <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"melpa"</span> . <span style="color: #CC9393;">"https://melpa.org/packages/"</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>package-initialize<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> package-enable-at-startup nil<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
<b>Note:</b> As a Chinese user, I use the following mirrors instead. If you want to
use my emacs init file directly, you should change the value <code>yes</code> and <code>no</code>
after variable <code>:tangle</code> in the org file, then tangle the org file with
<code>org-babel</code> to use the official package source.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">package</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> package-archives
      '<span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"gnu"</span>   . <span style="color: #CC9393;">"http://elpa.emacs-china.org/gnu/"</span><span style="color: #459ba8;">)</span>
        <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"melpa"</span> . <span style="color: #CC9393;">"http://elpa.emacs-china.org/melpa/"</span><span style="color: #459ba8;">)</span>
        <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"org"</span>   . <span style="color: #CC9393;">"http://elpa.emacs-china.org/org/"</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>package-initialize<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> package-enable-at-startup nil<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1f3c6bd" class="outline-4">
<h4 id="org1f3c6bd"><span class="section-number-4">3.2.2</span> <code>Use-Package</code> - Package Configuration Macro</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
This <a href="https://github.com/jwiegley/use-package">use-package</a> macro provides more concise ways to setup package autoloads,
keybindings, and various mode configuration. The focus is on decreasing startup
time by <i>autoloading</i> packages instead loading them on startup.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">unless</span> <span style="color: #bf62a6;">(</span>package-installed-p 'use-package<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>package-refresh-contents<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>package-install 'use-package<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> use-package-verbose t
      use-package-always-ensure t<span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">eval-when-compile</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">use-package</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Please don't load outdated byte code</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> load-prefer-newer t<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org7e1da8b" class="outline-3">
<h3 id="org7e1da8b"><span class="section-number-3">3.3</span> Library Dependency</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Load up a collection of enhancements to Emacs Lisp, to make the configuration
and its dependencies work properly.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">cl</span><span style="color: #78c5d6;">)</span>                           <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">provides useful things like `</span><span style="color: #BFEBBF;">loop</span><span style="color: #7F9F7F;">' and `</span><span style="color: #BFEBBF;">setf</span><span style="color: #7F9F7F;">'</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">dash</span> <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t<span style="color: #78c5d6;">)</span>            <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">a modern list library</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">diminish</span> <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t<span style="color: #78c5d6;">)</span>        <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">diminish keeps the modeline tidy</span>
</pre>
</div>

<p>
Benefiting from org-mode's contrib:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">org</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> org-plus-contrib<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8bd18a2" class="outline-3">
<h3 id="org8bd18a2"><span class="section-number-3">3.4</span> Environment fixup</h3>
<div class="outline-text-3" id="text-3-4">
<p>
On macOS, Emacs doesn't use the shell PATH if it's not started from the shell
(started from the GUI). <a href="https://github.com/purcell/exec-path-from-shell">Exec-path-from-shell</a> can fix this problem. It ensure
environment variables inside Emacs look the same as in the user's shell.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">exec-path-from-shell</span>
  <span style="color: #DCDCCC; font-weight: bold;">:defer</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> <span style="color: #e868a2;">(</span>memq window-system '<span style="color: #79c267;">(</span>mac ns<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span>exec-path-from-shell-initialize<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc24e85d" class="outline-3">
<h3 id="orgc24e85d"><span class="section-number-3">3.5</span> Keyboard settings for macOS users</h3>
<div class="outline-text-3" id="text-3-5">
<p>
Set keys for Apple keyboard, for Emacs in macOS.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> <span style="color: #bf62a6;">(</span>eq system-type 'darwin<span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> mac-command-modifier 'meta<span style="color: #bf62a6;">)</span>     <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">make command key do Meta</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> mac-option-modifier 'super<span style="color: #bf62a6;">)</span>     <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">make option key do Super</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> mac-control-modifier 'control<span style="color: #bf62a6;">)</span>  <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">make control key do Control</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> ns-function-modifier 'hyper<span style="color: #bf62a6;">)</span>    <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">make fn key do Hyper</span>
  <span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org42f6bca" class="outline-2">
<h2 id="org42f6bca"><span class="section-number-2">4</span> Basic settings used everywhere</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgd6c5d0f" class="outline-3">
<h3 id="orgd6c5d0f"><span class="section-number-3">4.1</span> General user interface and appearance</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-org2bc15ec" class="outline-4">
<h4 id="org2bc15ec"><span class="section-number-4">4.1.1</span> Startup screen and errors reporting</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
Turn off the startup messages when entering Emacs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> inhibit-startup-screen t<span style="color: #78c5d6;">)</span>         <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">disable startup screen</span>
</pre>
</div>

<p>
No beep when reporting errors.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> ring-bell-function <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #459ba8;">()</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>   <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">disable the annoying bell ring</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2d3134e" class="outline-4">
<h4 id="org2d3134e"><span class="section-number-4">4.1.2</span> Set frames title with buffer name</h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
Use project and buffer name as frame title.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> frame-title-format
      <span style="color: #bf62a6;">(</span>list <span style="color: #CC9393;">"["</span> '<span style="color: #459ba8;">(</span><span style="color: #DCDCCC; font-weight: bold;">:eval</span> <span style="color: #e868a2;">(</span>projectile-project-name<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span> <span style="color: #CC9393;">"]"</span>
            <span style="color: #CC9393;">" &#968;&#969;ET&#969;&#968; &#9678; %b"</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7f4fcf3" class="outline-4">
<h4 id="org7f4fcf3"><span class="section-number-4">4.1.3</span> Distinguish buffers with the same file name</h4>
<div class="outline-text-4" id="text-4-1-3">
<p>
Make two buffers with the same file name distinguishable. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">uniquify</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> uniquify-buffer-name-style 'forward<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> uniquify-separator <span style="color: #CC9393;">"/"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> uniquify-after-kill-buffer-p t<span style="color: #78c5d6;">)</span>    <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">rename after killing uniquified</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> uniquify-ignore-buffers-re <span style="color: #CC9393;">"^\\*"</span><span style="color: #78c5d6;">)</span> <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">don't muck with special buffers</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge04d36c" class="outline-4">
<h4 id="orge04d36c"><span class="section-number-4">4.1.4</span> Menu bar, tool bar, scroll bar. No!</h4>
<div class="outline-text-4" id="text-4-1-4">
<p>
Get rid of the menu bar, tool bar, and scroll bar. Useless!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>menu-bar-mode -1<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>tool-bar-mode -1<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>scroll-bar-mode -1<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb6fcc0a" class="outline-4">
<h4 id="orgb6fcc0a"><span class="section-number-4">4.1.5</span> Modeline settings</h4>
<div class="outline-text-4" id="text-4-1-5">
<p>
Show current line and cursor column position.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>line-number-mode 1<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>column-number-mode 1<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Indicate current file size.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>size-indication-mode t<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Display the time.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>display-time-mode 1<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1172639" class="outline-4">
<h4 id="org1172639"><span class="section-number-4">4.1.6</span> Put empty line markers into the left hand side</h4>
<div class="outline-text-4" id="text-4-1-6">
<p>
Put empty line markers into the left hand side to see when a file actually
ends.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq-default</span> indicate-empty-lines t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> <span style="color: #bf62a6;">(</span>not indicate-empty-lines<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>toggle-indicate-empty-lines<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1878779" class="outline-4">
<h4 id="org1878779"><span class="section-number-4">4.1.7</span> Display Line Numbers</h4>
<div class="outline-text-4" id="text-4-1-7">
<p>
According to <a href="http://ergoemacs.org/emacs/emacs_line_number_mode.html">this article</a>, Emacs now has two line numbers mode: <code>linum-mode</code>
and <code>display-line-numbers-mode</code> (Emacs 26). Use the new one :)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>global-display-line-numbers-mode<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
With the <code>display-line-numbers-mode</code> turned on, we can use <code>M-g g</code>
(<code>goto-line</code>) to go to the desired line quickly.
</p>
</div>
</div>

<div id="outline-container-orgb4dd24c" class="outline-4">
<h4 id="orgb4dd24c"><span class="section-number-4">4.1.8</span> Cursor and mouse</h4>
<div class="outline-text-4" id="text-4-1-8">
<p>
The blinking cursor is nothing, but an annoyance.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>blink-cursor-mode -1<span style="color: #78c5d6;">)</span>                  <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">No blinking cursor</span>
</pre>
</div>

<p>
Hide the mouse while typing.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> make-pointer-invisible t<span style="color: #78c5d6;">)</span>         <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">Hide the mouse while typing</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd6d495d" class="outline-4">
<h4 id="orgd6d495d"><span class="section-number-4">4.1.9</span> Sweet highlight</h4>
<div class="outline-text-4" id="text-4-1-9">
<p>
Hightlight something sweet.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>global-font-lock-mode 1<span style="color: #78c5d6;">)</span>               <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">Syntax highlight</span>
<span style="color: #78c5d6;">(</span>global-hl-line-mode 1<span style="color: #78c5d6;">)</span>                 <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">Highlight cursor line</span>
</pre>
</div>

<p>
<code>Show-paren-mode</code> highlights the matching parenthesis on point.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>show-paren-mode 1<span style="color: #78c5d6;">)</span>                      <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">Highlight parenthesis pairs</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> show-paren-delay 0<span style="color: #78c5d6;">)</span>                <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">No delay</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> blink-matching-paren-distance nil<span style="color: #78c5d6;">)</span> <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">Blinking parenthesis</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> show-paren-style 'expression<span style="color: #78c5d6;">)</span>      <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">Highlight text between parenthesis</span>
</pre>
</div>

<p>
<code>Volatile-highlights</code> highlight things like undo, copy, paste, etc.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">volatile-highlights</span>
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> <span style="color: #CC9393;">""</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>volatile-highlights-mode<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
<code>Hl-todo</code> highlight annotations like <i>TODO</i> in source code.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">hl-todo</span>
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> <span style="color: #CC9393;">""</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>global-hl-todo-mode<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org14da4d0" class="outline-4">
<h4 id="org14da4d0"><span class="section-number-4">4.1.10</span> Nice scrolling</h4>
<div class="outline-text-4" id="text-4-1-10">
<p>
Scroll the screen in a better way.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> scroll-margin 0
      scroll-conservatively 100000
      scroll-preserve-screen-position 1<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb5d969d" class="outline-4">
<h4 id="orgb5d969d"><span class="section-number-4">4.1.11</span> No <code>#autosave#</code> and <code>backup~</code> files</h4>
<div class="outline-text-4" id="text-4-1-11">
<p>
Stop creating <code>backup~</code> files and <code>#autosave#</code> files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> auto-save-default nil<span style="color: #78c5d6;">)</span>            <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">No #autosave# files</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> make-backup-files nil<span style="color: #78c5d6;">)</span>            <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">No backup~ files</span>
</pre>
</div>

<p>
Emacs backup is so annoying. This will completely stop Emacs from creating
temoporary symbolic link files (lock file) named <code>#.something</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> create-lockfiles nil<span style="color: #78c5d6;">)</span>             <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">No #.something symbolic link files</span>
</pre>
</div>

<p>
<b>Warning:</b> Disable lock file may be a problem if you have situations where a
file is being edited by different people or instances of Emacs. (So I didn't
disable it.)
</p>
</div>
</div>

<div id="outline-container-org3507206" class="outline-4">
<h4 id="org3507206"><span class="section-number-4">4.1.12</span> Change "yes or no" to "y or n"</h4>
<div class="outline-text-4" id="text-4-1-12">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defalias</span> '<span style="color: #93E0E3;">yes-or-no-p</span> 'y-or-n-p<span style="color: #78c5d6;">)</span>       <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">y/n instead of yes/no</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9dbac5d" class="outline-4">
<h4 id="org9dbac5d"><span class="section-number-4">4.1.13</span> Confirm before quit</h4>
<div class="outline-text-4" id="text-4-1-13">
<p>
Confirmation is required before exiting Emacs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> confirm-kill-emacs 'yes-or-no-p<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgab416a9" class="outline-3">
<h3 id="orgab416a9"><span class="section-number-3">4.2</span> Commands - useful interactive functions</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-org1fe34dd" class="outline-4">
<h4 id="org1fe34dd"><span class="section-number-4">4.2.1</span> Reload emacs initialization file</h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Here are the commands I used frequently when I writing this Emacs configuration
in <code>org-mode</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">my/reload-emacs-init-el-file</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>load-file <span style="color: #459ba8;">(</span>expand-file-name <span style="color: #CC9393;">"init.el"</span> user-emacs-directory<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">my/reload-emacs-init-org-file</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>org-babel-load-file <span style="color: #459ba8;">(</span>expand-file-name <span style="color: #CC9393;">"init.org"</span> user-emacs-directory<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9805775" class="outline-4">
<h4 id="org9805775"><span class="section-number-4">4.2.2</span> macOS swap Meta and Super</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
Swap the mapping of <code>Meta</code> and <code>Super</code> if necessary (<a href="https://github.com/bbatsov/prelude/blob/master/core/prelude-macos.el">taken form Prelude
project</a>):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">prelude-swap-meta-and-super</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #9FC59F;">"Swap the mapping of Meta and Super.</span>
<span style="color: #9FC59F;">Very useful for people using their Mac with a</span>
<span style="color: #9FC59F;">Windows external keyboard from time to time."</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #459ba8;">(</span>eq mac-command-modifier 'super<span style="color: #459ba8;">)</span>
      <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
        <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> mac-command-modifier 'meta<span style="color: #e868a2;">)</span>
        <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> mac-option-modifier 'super<span style="color: #e868a2;">)</span>
        <span style="color: #e868a2;">(</span>message <span style="color: #CC9393;">"Command is now bound to META and Option is bound to SUPER."</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> mac-command-modifier 'super<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> mac-option-modifier 'meta<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>message <span style="color: #CC9393;">"Command is now bound to SUPER and Option is bound to META."</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge0bc6b6" class="outline-4">
<h4 id="orge0bc6b6"><span class="section-number-4">4.2.3</span> Copy filename to clipboard</h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
Sometimes I need to copy the name of the currently visited file to the
clipboard. Emacs does not have a built-in command for that, but <a href="https://emacsredux.com/blog/2013/03/27/copy-filename-to-the-clipboard/">cooking one</a> is
pretty straightforward:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">copy-file-name-to-clipboard</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #9FC59F;">"Copy the current buffer file name to the clipboard."</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">let</span> <span style="color: #459ba8;">(</span><span style="color: #e868a2;">(</span>filename <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #f28c33;">(</span>equal major-mode 'dired-mode<span style="color: #f28c33;">)</span>
                      default-directory
                    <span style="color: #f28c33;">(</span>buffer-file-name<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> filename
      <span style="color: #e868a2;">(</span>kill-new filename<span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span>message <span style="color: #CC9393;">"Copied buffer file name '%s' to the clipboard."</span> filename<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2363f2e" class="outline-4">
<h4 id="org2363f2e"><span class="section-number-4">4.2.4</span> Open File in external app</h4>
<div class="outline-text-4" id="text-4-2-4">
<p>
Here's a command to <a href="http://ergoemacs.org/emacs/emacs_dired_open_file_in_ext_apps.html">open the current file or marked dired files in external
app</a>. (as if you double-clicked the file on desktop) It's useful for image
files, PDF file, video, audio files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">xah-open-in-external-app</span> <span style="color: #bf62a6;">(</span><span style="color: #7CB8BB;">&amp;optional</span> @fname<span style="color: #bf62a6;">)</span>
  <span style="color: #9FC59F;">"Open the current file or dired marked files in external app.</span>
<span style="color: #9FC59F;">The app is chosen from your OS's preference.</span>

<span style="color: #9FC59F;">When called in emacs lisp, if @fname is given, open that.</span>

<span style="color: #9FC59F;">URL `</span><span style="color: #BFEBBF;">http://ergoemacs.org/emacs/emacs_dired_open_file_in_ext_apps.html</span><span style="color: #9FC59F;">'</span>
<span style="color: #9FC59F;">Version 2019-01-18"</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">let*</span> <span style="color: #459ba8;">(</span>
         <span style="color: #e868a2;">(</span>$file-list
          <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> @fname
              <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span> <span style="color: #c5d647;">(</span>list @fname<span style="color: #c5d647;">)</span><span style="color: #f28c33;">)</span>
            <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #c5d647;">(</span>string-equal major-mode <span style="color: #CC9393;">"dired-mode"</span><span style="color: #c5d647;">)</span>
                <span style="color: #c5d647;">(</span>dired-get-marked-files<span style="color: #c5d647;">)</span>
              <span style="color: #c5d647;">(</span>list <span style="color: #f5d63d;">(</span>buffer-file-name<span style="color: #f5d63d;">)</span><span style="color: #c5d647;">)</span><span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
         <span style="color: #e868a2;">(</span>$do-it-p <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #f28c33;">(</span>&lt;= <span style="color: #c5d647;">(</span>length $file-list<span style="color: #c5d647;">)</span> 5<span style="color: #f28c33;">)</span>
                       t
                     <span style="color: #f28c33;">(</span>y-or-n-p <span style="color: #CC9393;">"Open more than 5 files? "</span><span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> $do-it-p
      <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">cond</span>
       <span style="color: #79c267;">(</span><span style="color: #f28c33;">(</span>string-equal system-type <span style="color: #CC9393;">"windows-nt"</span><span style="color: #f28c33;">)</span>
        <span style="color: #f28c33;">(</span>mapc
         <span style="color: #c5d647;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #f5d63d;">(</span>$fpath<span style="color: #f5d63d;">)</span>
           <span style="color: #f5d63d;">(</span>w32-shell-execute <span style="color: #CC9393;">"open"</span> <span style="color: #78c5d6;">(</span>replace-regexp-in-string <span style="color: #CC9393;">"/"</span> <span style="color: #CC9393;">"\\"</span> $fpath t t<span style="color: #78c5d6;">)</span><span style="color: #f5d63d;">)</span><span style="color: #c5d647;">)</span> <span style="color: #D0BF8F; font-weight: bold;">$file-list</span><span style="color: #f28c33; font-weight: bold;">)</span><span style="color: #79c267; font-weight: bold;">)</span>
       <span style="color: #79c267;">(</span><span style="color: #f28c33;">(</span>string-equal system-type <span style="color: #CC9393;">"darwin"</span><span style="color: #f28c33;">)</span>
        <span style="color: #f28c33;">(</span>mapc
         <span style="color: #c5d647;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #f5d63d;">(</span>$fpath<span style="color: #f5d63d;">)</span>
           <span style="color: #f5d63d;">(</span>shell-command
            <span style="color: #78c5d6;">(</span>concat <span style="color: #CC9393;">"open "</span> <span style="color: #78c5d6;">(</span>shell-quote-argument $fpath<span style="color: #78c5d6;">)</span><span style="color: #78c5d6;">)</span><span style="color: #f5d63d;">)</span><span style="color: #c5d647;">)</span>  <span style="color: #D0BF8F; font-weight: bold;">$file-list</span><span style="color: #f28c33; font-weight: bold;">)</span><span style="color: #79c267; font-weight: bold;">)</span>
       <span style="color: #79c267;">(</span><span style="color: #f28c33;">(</span>string-equal system-type <span style="color: #CC9393;">"gnu/linux"</span><span style="color: #f28c33;">)</span>
        <span style="color: #f28c33;">(</span>mapc
         <span style="color: #c5d647;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #f5d63d;">(</span>$fpath<span style="color: #f5d63d;">)</span> <span style="color: #f5d63d;">(</span><span style="color: #F0DFAF; font-weight: bold;">let</span> <span style="color: #78c5d6;">(</span><span style="color: #78c5d6;">(</span>process-connection-type nil<span style="color: #78c5d6;">)</span><span style="color: #78c5d6;">)</span>
                            <span style="color: #78c5d6;">(</span>start-process <span style="color: #CC9393;">""</span> nil <span style="color: #CC9393;">"xdg-open"</span> $fpath<span style="color: #78c5d6;">)</span><span style="color: #f5d63d;">)</span><span style="color: #c5d647;">)</span> <span style="color: #D0BF8F; font-weight: bold;">$file-list</span><span style="color: #f28c33; font-weight: bold;">)</span><span style="color: #79c267; font-weight: bold;">)</span><span style="color: #e868a2; font-weight: bold;">)</span><span style="color: #459ba8; font-weight: bold;">)</span><span style="color: #bf62a6; font-weight: bold;">)</span><span style="color: #78c5d6; font-weight: bold;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org245dd46" class="outline-3">
<h3 id="org245dd46"><span class="section-number-3">4.3</span> Navigation</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-orgdb07faa" class="outline-4">
<h4 id="orgdb07faa"><span class="section-number-4">4.3.1</span> <code>Projectile</code> - project interaction</h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
The <a href="https://github.com/bbatsov/projectile">Projectile</a> project is a nifty way to run commands and search for files in a
particular "project". All projectile keybindings is placed under <code>C-x p</code>. And,
the most used commands by myself are <code>C-x p p</code> to switch-project, and <code>C-x p f</code>
to find a file and <code>C-x p d</code> to find a directory.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">projectile</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> projectile-mode
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>projectile-global-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">caching can speedup file and directory listings</span>
  <span style="color: #5F7F5F;">;;</span><span style="color: #7F9F7F;">(setq projectile-enable-caching t)</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">projectile cache file location</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> projectile-cache-file <span style="color: #459ba8;">(</span>expand-file-name  <span style="color: #CC9393;">"projectile.cache"</span> user-emacs-savefile-dir<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:commands</span> projectile-ag
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span>define-key projectile-mode-map <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"s-p"</span><span style="color: #459ba8;">)</span> 'projectile-command-map<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>define-key projectile-mode-map <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"C-x p"</span><span style="color: #459ba8;">)</span> 'projectile-command-map<span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> projectile-completion-system 'helm <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">`</span><span style="color: #BFEBBF;">ido</span><span style="color: #7F9F7F;">' or `</span><span style="color: #BFEBBF;">helm</span><span style="color: #7F9F7F;">' interface?</span>
        projectile-switch-project-action 'projectile-commander
        projectile-create-missing-test-files t<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>add-to-list 'projectile-globally-ignored-files <span style="color: #CC9393;">".DS_Store"</span><span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">def-projectile-commander-method</span> ?d
    <span style="color: #CC9393;">"Open project root in dired."</span>
    <span style="color: #459ba8;">(</span>projectile-dired<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">def-projectile-commander-method</span> ?s
    <span style="color: #CC9393;">"Open a *shell* buffer for the project."</span>
    <span style="color: #459ba8;">(</span>projectile-run-shell<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">def-projectile-commander-method</span> ?c
    <span style="color: #CC9393;">"Run `</span><span style="color: #BFEBBF;">compile</span><span style="color: #CC9393;">' in the project."</span>
    <span style="color: #459ba8;">(</span>projectile-compile-project nil<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">def-projectile-commander-method</span> ?F
    <span style="color: #CC9393;">"Git fetch."</span>
    <span style="color: #459ba8;">(</span>magit-status<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>call-interactively #'magit-fetch-current<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Much of the section came from <a href="http://endlessparentheses.com/improving-projectile-with-extra-commands.html">this essay</a>. Read it for config details and usage.
</p>
</div>
</div>

<div id="outline-container-org580f8ae" class="outline-4">
<h4 id="org580f8ae"><span class="section-number-4">4.3.2</span> <code>Dired</code> - directory editor</h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
Install GNU Coreutils (and add it to your $PATH correctly) to make sure "ls"
program support "&#x2013;dired" option:
</p>

<div class="org-src-container">
<pre class="src src-sh">brew install coreutils
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> ls-lisp-use-insert-directory-program nil<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Alternatively, you might want to use Emacs’s own emulation of "ls", by using:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> ls-lisp-use-insert-directory-program t<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
After <code>dired-x</code> mode turned on. <code>C-x C-j</code> (<code>dired-jump</code>) can jump to the
directory of any current buffer:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">direx</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-x j"</span> . direx:jump-to-directory<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-x C-j"</span> . direx:jump-to-directory<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Tell <code>dired</code> to stop asking me whether I want to recursively delete or copy,
since I never respond to that question with <code>no</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> dired-recursive-copies 'always<span style="color: #78c5d6;">)</span>   <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">recursive copies without asking</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> dired-recursive-deletes 'top<span style="color: #78c5d6;">)</span>     <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">recursive deletes with asked only once</span>
</pre>
</div>

<p>
Enables <i>Do What I Mean</i> mode for dired: If I'm in a split frame with two dired
buffers, the default target to copy (and rename) will be the other window.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> dired-dwim-target t<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
This <code>dired-hide-details-mode</code> enhancement to dired hides the ugly details
(owner permission info) until you hit <code>(</code> and shows the details with <code>)</code> hit
again. I want it always on:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>add-hook 'dired-mode-hook <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #459ba8;">()</span> <span style="color: #459ba8;">(</span>dired-hide-details-mode 1<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> dired-listing-switches <span style="color: #CC9393;">"-alh"</span><span style="color: #78c5d6;">)</span>    <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">human readable format</span>
</pre>
</div>

<p>
I also want dired to automatically revert, but to be quiet about it. The first
line actually enables auto-revert for any buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>global-auto-revert-mode 1<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> global-auto-revert-non-file-buffers t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> auto-revert-verbose nil<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
The ability to create a dired buffer based on searching for files in a
directory tree with <code>find-name-dired</code> is fantastic. The <a href="http://www.masteringemacs.org/articles/2011/03/25/working-multiple-files-dired/">following magic</a>
optimizes this approach:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">find-dired</span>
   <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
   <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> find-ls-option '<span style="color: #459ba8;">(</span><span style="color: #CC9393;">"-print0 | xargs -0 ls -od"</span> . <span style="color: #CC9393;">"-od"</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
The <a href="http://pragmaticemacs.com/emacs/quickly-preview-images-and-other-files-with-peep-dired/">peep project</a> allows you to preview files before loading them into a
dedicated buffer:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">peep-dired</span>
  <span style="color: #DCDCCC; font-weight: bold;">:defer</span> t <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">don't access `</span><span style="color: #BFEBBF;">dired-mode-map</span><span style="color: #7F9F7F;">' until `</span><span style="color: #BFEBBF;">peep-dired</span><span style="color: #7F9F7F;">' is loaded</span>
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #DCDCCC; font-weight: bold;">:map</span> dired-mode-map
              <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"P"</span> . peep-dired<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga141e17" class="outline-4">
<h4 id="orga141e17"><span class="section-number-4">4.3.3</span> <code>Neotree</code> - tree layout directory explorer</h4>
<div class="outline-text-4" id="text-4-3-3">
<p>
The <a href="https://github.com/jaypei/emacs-neotree">NeoTree</a> project provides a nice tree layout file explorer, and it gives an
<i>ide-like</i> look and feel.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">neotree</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:defer</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"C-x t n"</span> . neotree-toggle<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> projectile-switch-project-action 'neotree-projectile-action<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> neo-show-hidden-files t<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> neo-smart-open t<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>f2<span style="color: #bf62a6;">]</span> 'neotree-toggle<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>f8<span style="color: #bf62a6;">]</span> 'neotree-toggle<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfe23ace" class="outline-4">
<h4 id="orgfe23ace"><span class="section-number-4">4.3.4</span> <code>Winner</code> - undo and redo window configuration</h4>
<div class="outline-text-4" id="text-4-3-4">
<p>
Change window configuration and then return to the old configuration with
<a href="http://www.emacswiki.org/emacs/WinnerMode">winner-mode</a>. Use <code>Control-C Arrow</code> keys to cycle through window/frame
configurations. This is handy when something has popped up a buffer that you
want to look at briefly before returning to whatever you were working on. When
you're done, press <code>C-c &lt;left&gt;</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>winner-mode 1<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf9d4ba6" class="outline-4">
<h4 id="orgf9d4ba6"><span class="section-number-4">4.3.5</span> <code>Windmove</code> - switch between windows</h4>
<div class="outline-text-4" id="text-4-3-5">
<p>
<code>Windmove</code> lets you move between windows with something more natural than
cycling through <code>C-x o</code> (<code>other-window</code>).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">windmove</span>
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span>
  <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"s-&lt;right&gt;"</span> . windmove-right<span style="color: #459ba8;">)</span>
   <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"s-&lt;left&gt;"</span> . windmove-left<span style="color: #459ba8;">)</span>
   <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"s-&lt;up&gt;"</span> . windmove-up<span style="color: #459ba8;">)</span>
   <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"s-&lt;down&gt;"</span> . windmove-down<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org24da4a3" class="outline-4">
<h4 id="org24da4a3"><span class="section-number-4">4.3.6</span> <code>Buffer-move</code> - move or swap buffer to other window</h4>
<div class="outline-text-4" id="text-4-3-6">
<p>
<code>Buffer-move</code> is similar to <code>windmove</code>, but more powerful. It can swap the
buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">buffer-move</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"&lt;C-s-up&gt;"</span><span style="color: #459ba8;">)</span>     'buf-move-up<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"&lt;C-s-down&gt;"</span><span style="color: #459ba8;">)</span>   'buf-move-down<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"&lt;C-s-left&gt;"</span><span style="color: #459ba8;">)</span>   'buf-move-left<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"&lt;C-s-right&gt;"</span><span style="color: #459ba8;">)</span>  'buf-move-right<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org31b6d98" class="outline-4">
<h4 id="org31b6d98"><span class="section-number-4">4.3.7</span> <code>C-x o</code> : Moving to another window</h4>
<div class="outline-text-4" id="text-4-3-7">
<p>
A visual replacement for <code>C-x o</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">switch-window</span>
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-x o"</span> . switch-window<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4f0a77a" class="outline-4">
<h4 id="org4f0a77a"><span class="section-number-4">4.3.8</span> <code>C-x k</code> : Quick kill buffer</h4>
<div class="outline-text-4" id="text-4-3-8">
<p>
I rarely want to kill any buffer but the one I'm looking at. And, I usually
want to kill buffers even if modified unconditionally. <a href="https://stackoverflow.com/questions/6467002/how-to-kill-buffer-in-emacs-without-answering-confirmation">Code from this
discussion</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">kill-this-buffer-volatile</span> <span style="color: #bf62a6;">()</span>
    <span style="color: #9FC59F;">"Kill current buffer unconditionally, even if it has been modified."</span>
    <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
    <span style="color: #bf62a6;">(</span>set-buffer-modified-p nil<span style="color: #bf62a6;">)</span>
    <span style="color: #bf62a6;">(</span>kill-this-buffer<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Kill the current visible buffer without confirmation unless the buffer has</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">been modified. In this last case, you have to answer y/n.</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x k"</span><span style="color: #bf62a6;">)</span> 'kill-this-buffer<span style="color: #78c5d6;">)</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Unconditionally kill unmodified buffers.</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x K"</span><span style="color: #bf62a6;">)</span> 'kill-this-buffer-volatile<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0b3c712" class="outline-4">
<h4 id="org0b3c712"><span class="section-number-4">4.3.9</span> <code>Avy</code> - fast cursor movement</h4>
<div class="outline-text-4" id="text-4-3-9">
<p>
<a href="https://github.com/abo-abo/avy">Avy</a> enable fast cursor movement to visible text using a char-based decision
tree. <b>Avy is fast!</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">avy</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> avy-background t<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"s-;"</span><span style="color: #459ba8;">)</span> 'avy-goto-line<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"s-l"</span><span style="color: #459ba8;">)</span> 'avy-goto-line<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"s-."</span><span style="color: #459ba8;">)</span> 'avy-goto-char-timer<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"s-j"</span><span style="color: #459ba8;">)</span> 'avy-goto-char-timer<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"s-,"</span><span style="color: #459ba8;">)</span> 'avy-pop-mark<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"s-J"</span><span style="color: #459ba8;">)</span> 'avy-pop-mark<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org55a7e4a" class="outline-4">
<h4 id="org55a7e4a"><span class="section-number-4">4.3.10</span> <code>C-a</code> : Smart beginning of line</h4>
<div class="outline-text-4" id="text-4-3-10">
<p>
This <a href="http://emacsredux.com/blog/2013/05/22/smarter-navigation-to-the-beginning-of-a-line/">Emacs Redux article</a> has a great suggestion for having <code>C-a</code> go to the
beginning of the line's content instead of the actual beginning of the line.
Hit <code>C-a</code> a second to get to the actual beginning.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">my/smarter-move-beginning-of-line</span> <span style="color: #bf62a6;">(</span>arg<span style="color: #bf62a6;">)</span>
  <span style="color: #9FC59F;">"Move point back to indentation of beginning of line.</span>

<span style="color: #9FC59F;">Move point to the first non-whitespace character on this line.</span>
<span style="color: #9FC59F;">If point is already there, move to the beginning of the line.</span>
<span style="color: #9FC59F;">Effectively toggle between the first non-whitespace character and</span>
<span style="color: #9FC59F;">the beginning of the line.</span>

<span style="color: #9FC59F;">If ARG is not nil or 1, move forward ARG - 1 lines first.  If</span>
<span style="color: #9FC59F;">point reaches the beginning or end of the buffer, stop there."</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span> <span style="color: #CC9393;">"^p"</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> arg <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">or</span> arg 1<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Move lines first</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> <span style="color: #459ba8;">(</span>/= arg 1<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">let</span> <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>line-move-visual nil<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span>forward-line <span style="color: #79c267;">(</span>1- arg<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">let</span> <span style="color: #459ba8;">(</span><span style="color: #e868a2;">(</span>orig-point <span style="color: #79c267;">(</span>point<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>back-to-indentation<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> <span style="color: #e868a2;">(</span>= orig-point <span style="color: #79c267;">(</span>point<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span>move-beginning-of-line 1<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">remap C-a to `</span><span style="color: #BFEBBF;">smarter-move-beginning-of-line</span><span style="color: #7F9F7F;">'</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>remap move-beginning-of-line<span style="color: #bf62a6;">]</span>
                'my/smarter-move-beginning-of-line<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2e38be9" class="outline-4">
<h4 id="org2e38be9"><span class="section-number-4">4.3.11</span> <code>C-w</code> and <code>M-w</code> : Smart cut and copy</h4>
<div class="outline-text-4" id="text-4-3-11">
<p>
Here's a <a href="http://ergoemacs.org/emacs/emacs_copy_cut_current_line.html">function</a> to cut current line if there's no text selection:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">xah-cut-line-or-region</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #9FC59F;">"Cut current line, or text selection.</span>
<span style="color: #9FC59F;">When `</span><span style="color: #BFEBBF;">universal-argument</span><span style="color: #9FC59F;">' is called first, cut whole buffer (respects `</span><span style="color: #BFEBBF;">narrow-to-region</span><span style="color: #9FC59F;">').</span>

<span style="color: #9FC59F;">URL `</span><span style="color: #BFEBBF;">http://ergoemacs.org/emacs/emacs_copy_cut_current_line.html</span><span style="color: #9FC59F;">'</span>
<span style="color: #9FC59F;">Version 2015-06-10"</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> current-prefix-arg
      <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span> <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">not using kill-region because we don't want to include previous kill</span>
        <span style="color: #e868a2;">(</span>kill-new <span style="color: #79c267;">(</span>buffer-string<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
        <span style="color: #e868a2;">(</span>delete-region <span style="color: #79c267;">(</span>point-min<span style="color: #79c267;">)</span> <span style="color: #79c267;">(</span>point-max<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span> <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #79c267;">(</span>use-region-p<span style="color: #79c267;">)</span>
               <span style="color: #79c267;">(</span>kill-region <span style="color: #f28c33;">(</span>region-beginning<span style="color: #f28c33;">)</span> <span style="color: #f28c33;">(</span>region-end<span style="color: #f28c33;">)</span> t<span style="color: #79c267;">)</span>
             <span style="color: #79c267;">(</span>kill-region <span style="color: #f28c33;">(</span>line-beginning-position<span style="color: #f28c33;">)</span> <span style="color: #f28c33;">(</span>line-beginning-position 2<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-w"</span><span style="color: #bf62a6;">)</span> 'xah-cut-line-or-region<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Here is a <a href="http://ergoemacs.org/emacs/emacs_copy_cut_current_line.html">function</a> copy current line if there is no text selection. If called
again, it'll append-copy next line. So you can press a key repeatedly to keep
copying lines.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">xah-copy-line-or-region</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #9FC59F;">"Copy current line, or text selection.</span>
<span style="color: #9FC59F;">When called repeatedly, append copy subsequent lines.</span>
<span style="color: #9FC59F;">When `</span><span style="color: #BFEBBF;">universal-argument</span><span style="color: #9FC59F;">' is called first, copy whole buffer (respects `</span><span style="color: #BFEBBF;">narrow-to-region</span><span style="color: #9FC59F;">').</span>

<span style="color: #9FC59F;">URL `</span><span style="color: #BFEBBF;">http://ergoemacs.org/emacs/emacs_copy_cut_current_line.html</span><span style="color: #9FC59F;">'</span>
<span style="color: #9FC59F;">Version 2018-09-10"</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> current-prefix-arg
      <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
        <span style="color: #e868a2;">(</span>copy-region-as-kill <span style="color: #79c267;">(</span>point-min<span style="color: #79c267;">)</span> <span style="color: #79c267;">(</span>point-max<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #e868a2;">(</span>use-region-p<span style="color: #e868a2;">)</span>
        <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
          <span style="color: #79c267;">(</span>copy-region-as-kill <span style="color: #f28c33;">(</span>region-beginning<span style="color: #f28c33;">)</span> <span style="color: #f28c33;">(</span>region-end<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #79c267;">(</span>eq last-command this-command<span style="color: #79c267;">)</span>
          <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #f28c33;">(</span>eobp<span style="color: #f28c33;">)</span>
              <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span> <span style="color: #f28c33;">)</span>
            <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
              <span style="color: #c5d647;">(</span>kill-append <span style="color: #CC9393;">"\n"</span> nil<span style="color: #c5d647;">)</span>
              <span style="color: #c5d647;">(</span>kill-append
               <span style="color: #f5d63d;">(</span>buffer-substring-no-properties <span style="color: #78c5d6;">(</span>line-beginning-position<span style="color: #78c5d6;">)</span> <span style="color: #78c5d6;">(</span>line-end-position<span style="color: #78c5d6;">)</span><span style="color: #f5d63d;">)</span>
               nil<span style="color: #c5d647;">)</span>
              <span style="color: #c5d647;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
                <span style="color: #f5d63d;">(</span>end-of-line<span style="color: #f5d63d;">)</span>
                <span style="color: #f5d63d;">(</span>forward-char<span style="color: #f5d63d;">)</span><span style="color: #c5d647;">)</span><span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span>
        <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #f28c33;">(</span>eobp<span style="color: #f28c33;">)</span>
            <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #c5d647;">(</span>eq <span style="color: #f5d63d;">(</span>char-before<span style="color: #f5d63d;">)</span> 10 <span style="color: #c5d647;">)</span>
                <span style="color: #c5d647;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span> <span style="color: #c5d647;">)</span>
              <span style="color: #c5d647;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
                <span style="color: #f5d63d;">(</span>copy-region-as-kill <span style="color: #78c5d6;">(</span>line-beginning-position<span style="color: #78c5d6;">)</span> <span style="color: #78c5d6;">(</span>line-end-position<span style="color: #78c5d6;">)</span><span style="color: #f5d63d;">)</span>
                <span style="color: #f5d63d;">(</span>end-of-line<span style="color: #f5d63d;">)</span><span style="color: #c5d647;">)</span><span style="color: #f28c33;">)</span>
          <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
            <span style="color: #c5d647;">(</span>copy-region-as-kill <span style="color: #f5d63d;">(</span>line-beginning-position<span style="color: #f5d63d;">)</span> <span style="color: #f5d63d;">(</span>line-end-position<span style="color: #f5d63d;">)</span><span style="color: #c5d647;">)</span>
            <span style="color: #c5d647;">(</span>end-of-line<span style="color: #c5d647;">)</span>
            <span style="color: #c5d647;">(</span>forward-char<span style="color: #c5d647;">)</span><span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"M-w"</span><span style="color: #bf62a6;">)</span> 'xah-copy-line-or-region<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"M-["</span><span style="color: #bf62a6;">)</span> 'xah-copy-line-or-region<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org199dea3" class="outline-4">
<h4 id="org199dea3"><span class="section-number-4">4.3.12</span> <code>M-\</code> : Smart delete whitespaces around cursor</h4>
<div class="outline-text-4" id="text-4-3-12">
<p>
Here's a function <a href="http://ergoemacs.org/emacs/emacs_shrink_whitespace.html">combine most of the deleting whitespaces around cursor
command into single one</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">xah-delete-blank-lines</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #9FC59F;">"Delete all newline around cursor.</span>

<span style="color: #9FC59F;">URL `</span><span style="color: #BFEBBF;">http://ergoemacs.org/emacs/emacs_shrink_whitespace.html</span><span style="color: #9FC59F;">'</span>
<span style="color: #9FC59F;">Version 2018-04-02"</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">let</span> <span style="color: #459ba8;">(</span>$p3 $p4<span style="color: #459ba8;">)</span>
          <span style="color: #459ba8;">(</span>skip-chars-backward <span style="color: #CC9393;">"\n"</span><span style="color: #459ba8;">)</span>
          <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> $p3 <span style="color: #e868a2;">(</span>point<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
          <span style="color: #459ba8;">(</span>skip-chars-forward <span style="color: #CC9393;">"\n"</span><span style="color: #459ba8;">)</span>
          <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> $p4 <span style="color: #e868a2;">(</span>point<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
          <span style="color: #459ba8;">(</span>delete-region $p3 $p4<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">xah-shrink-whitespaces</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #9FC59F;">"Remove whitespaces around cursor to just one, or none.</span>

<span style="color: #9FC59F;">Shrink any neighboring space tab newline characters to 1 or none.</span>
<span style="color: #9FC59F;">If cursor neighbor has space/tab, toggle between 1 or 0 space.</span>
<span style="color: #9FC59F;">If cursor neighbor are newline, shrink them to just 1.</span>
<span style="color: #9FC59F;">If already has just 1 whitespace, delete it.</span>

<span style="color: #9FC59F;">URL `</span><span style="color: #BFEBBF;">http://ergoemacs.org/emacs/emacs_shrink_whitespace.html</span><span style="color: #9FC59F;">'</span>
<span style="color: #9FC59F;">Version 2018-04-02T14:38:04-07:00"</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">let*</span> <span style="color: #459ba8;">(</span>
         <span style="color: #e868a2;">(</span>$eol-count 0<span style="color: #e868a2;">)</span>
         <span style="color: #e868a2;">(</span>$p0 <span style="color: #79c267;">(</span>point<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
         $p1 <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">whitespace begin</span>
         $p2 <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">whitespace end</span>
         <span style="color: #e868a2;">(</span>$charBefore <span style="color: #79c267;">(</span>char-before<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
         <span style="color: #e868a2;">(</span>$charAfter <span style="color: #79c267;">(</span>char-after <span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
         <span style="color: #e868a2;">(</span>$space-neighbor-p <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">or</span> <span style="color: #f28c33;">(</span>eq $charBefore 32<span style="color: #f28c33;">)</span> <span style="color: #f28c33;">(</span>eq $charBefore 9<span style="color: #f28c33;">)</span> <span style="color: #f28c33;">(</span>eq $charAfter 32<span style="color: #f28c33;">)</span> <span style="color: #f28c33;">(</span>eq $charAfter 9<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
         $just-1-space-p
         <span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>skip-chars-backward <span style="color: #CC9393;">" \n\t"</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> $p1 <span style="color: #e868a2;">(</span>point<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>goto-char $p0<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>skip-chars-forward <span style="color: #CC9393;">" \n\t"</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> $p2 <span style="color: #e868a2;">(</span>point<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>goto-char $p1<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">while</span> <span style="color: #e868a2;">(</span>search-forward <span style="color: #CC9393;">"\n"</span> $p2 t <span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> $eol-count <span style="color: #79c267;">(</span>1+ $eol-count<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> $just-1-space-p <span style="color: #e868a2;">(</span>eq <span style="color: #79c267;">(</span>- $p2 $p1<span style="color: #79c267;">)</span> 1<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>goto-char $p0<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">cond</span>
     <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>eq $eol-count 0<span style="color: #79c267;">)</span>
      <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> $just-1-space-p
          <span style="color: #f28c33;">(</span>delete-horizontal-space<span style="color: #f28c33;">)</span>
        <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span> <span style="color: #c5d647;">(</span>delete-horizontal-space<span style="color: #c5d647;">)</span>
               <span style="color: #c5d647;">(</span>insert <span style="color: #CC9393;">" "</span><span style="color: #c5d647;">)</span><span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
     <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>eq $eol-count 1<span style="color: #79c267;">)</span>
      <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> $space-neighbor-p
          <span style="color: #f28c33;">(</span>delete-horizontal-space<span style="color: #f28c33;">)</span>
        <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span> <span style="color: #c5d647;">(</span>xah-delete-blank-lines<span style="color: #c5d647;">)</span> <span style="color: #c5d647;">(</span>insert <span style="color: #CC9393;">" "</span><span style="color: #c5d647;">)</span><span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
     <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>eq $eol-count 2<span style="color: #79c267;">)</span>
      <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> $space-neighbor-p
          <span style="color: #f28c33;">(</span>delete-horizontal-space<span style="color: #f28c33;">)</span>
        <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
          <span style="color: #c5d647;">(</span>xah-delete-blank-lines<span style="color: #c5d647;">)</span>
          <span style="color: #c5d647;">(</span>insert <span style="color: #CC9393;">"\n"</span><span style="color: #c5d647;">)</span><span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
     <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>&gt; $eol-count 2<span style="color: #79c267;">)</span>
      <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> $space-neighbor-p
          <span style="color: #f28c33;">(</span>delete-horizontal-space<span style="color: #f28c33;">)</span>
        <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
          <span style="color: #c5d647;">(</span>goto-char $p2<span style="color: #c5d647;">)</span>
          <span style="color: #c5d647;">(</span>search-backward <span style="color: #CC9393;">"\n"</span> <span style="color: #c5d647;">)</span>
          <span style="color: #c5d647;">(</span>delete-region $p1 <span style="color: #f5d63d;">(</span>point<span style="color: #f5d63d;">)</span><span style="color: #c5d647;">)</span>
          <span style="color: #c5d647;">(</span>insert <span style="color: #CC9393;">"\n"</span><span style="color: #c5d647;">)</span><span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
     <span style="color: #e868a2;">(</span>t <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
          <span style="color: #f28c33;">(</span>message <span style="color: #CC9393;">"nothing done. logic error 40873. shouldn't reach here"</span> <span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"M-\\"</span><span style="color: #bf62a6;">)</span> 'xah-shrink-whitespaces<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org41bfc13" class="outline-4">
<h4 id="org41bfc13"><span class="section-number-4">4.3.13</span> <code>C-k</code> : Smart kill entire lines</h4>
<div class="outline-text-4" id="text-4-3-13">
<p>
According to <a href="http://endlessparentheses.com/kill-entire-line-with-prefix-argument.html">this article</a>, killing arbitrary number of lines of text can be done
with two keystrokes.
</p>

<p>
This creates a macro that moves to the beginning of the line and then calls a
function given to it. Quite an interesting approach:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defmacro</span> <span style="color: #93E0E3;">bol-with-prefix</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">function</span><span style="color: #bf62a6;">)</span>
  <span style="color: #9FC59F;">"Define a new function which calls FUNCTION.</span>
<span style="color: #9FC59F;">Except it moves to beginning of line before calling FUNCTION when</span>
<span style="color: #9FC59F;">called with a prefix argument. The FUNCTION still receives the</span>
<span style="color: #9FC59F;">prefix argument."</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">let</span> <span style="color: #459ba8;">(</span><span style="color: #e868a2;">(</span>name <span style="color: #79c267;">(</span>intern <span style="color: #f28c33;">(</span>format <span style="color: #CC9393;">"endless/%s-BOL"</span> function<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    `<span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
       <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> ,name <span style="color: #79c267;">(</span>p<span style="color: #79c267;">)</span>
         ,<span style="color: #79c267;">(</span>format
           <span style="color: #CC9393;">"Call `</span><span style="color: #BFEBBF;">%s</span><span style="color: #CC9393;">', but move to the beginning of the line when called with a prefix argument."</span>
           function<span style="color: #79c267;">)</span>
         <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span> <span style="color: #CC9393;">"P"</span><span style="color: #79c267;">)</span>
         <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> p
           <span style="color: #f28c33;">(</span>forward-line 0<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span>
         <span style="color: #79c267;">(</span>call-interactively ',function<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
       ',name<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
And we re-bind them to functions that use them.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>remap paredit-kill<span style="color: #bf62a6;">]</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">bol-with-prefix</span> paredit-kill<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>remap sp-kill-hybrid-sexp<span style="color: #bf62a6;">]</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">bol-with-prefix</span> sp-kill-hybrid-sexp<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>remap org-kill-line<span style="color: #bf62a6;">]</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">bol-with-prefix</span> org-kill-line<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>remap kill-line<span style="color: #bf62a6;">]</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">bol-with-prefix</span> kill-line<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-k"</span><span style="color: #bf62a6;">)</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">bol-with-prefix</span> kill-line<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
With this little macro, <code>C-k</code> still kills from point, but <code>C-7 C-k</code> swallows
seven whole line. As a bonus, we get the <code>kill-whole-line</code> (<code>C-S-backspace</code>)
behavior by doing <code>C-1 C-k</code> (I prefer <code>M-1</code> to <code>C-1</code> for easy stroke.).
</p>
</div>
</div>

<div id="outline-container-org195504f" class="outline-4">
<h4 id="org195504f"><span class="section-number-4">4.3.14</span> <code>Expand-region</code> - Smart region selection</h4>
<div class="outline-text-4" id="text-4-3-14">
<p>
Wherever you are in a file, and whatever the type of file, you can
slowly increase a region selection by logical segments by using the
<a href="https://github.com/magnars/expand-region.el">expand-region</a> project.
</p>

<p>
However, the normal experience for <code>expand-region</code> is interactive, expected to
be called repeatedly to expand and contract the regions based on syntax, and
whatnot. Since I am seldom sure what I will select if I give this function a
numeric prefix, I created a wrapper function that will (when given a number),
just select the number of lines for the region. Select the current line with a
0 argument. No argument (well, <code>lines</code> is given 1 with no argument), then it
just calls original <code>expand-region</code> (Taken from <a href="https://github.com/howardabrams/dot-files/blob/master/emacs.org">here</a>):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">expand-region</span>  
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:defer</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">ha/expand-region</span> <span style="color: #459ba8;">(</span>lines<span style="color: #459ba8;">)</span>
    <span style="color: #9FC59F;">"Prefix-oriented wrapper around Magnar's `</span><span style="color: #BFEBBF;">er/expand-region</span><span style="color: #9FC59F;">'.</span>

<span style="color: #9FC59F;">Call with LINES equal to 1 (given no prefix), it expands the</span>
<span style="color: #9FC59F;">region as normal.  When LINES given a positive number, selects</span>
<span style="color: #9FC59F;">the current line and number of lines specified.  When LINES is a</span>
<span style="color: #9FC59F;">negative number, selects the current line and the previous lines</span>
<span style="color: #9FC59F;">specified.  Select the current line if the LINES prefix is zero."</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span> <span style="color: #CC9393;">"p"</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">cond</span> <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>= lines 1<span style="color: #79c267;">)</span>   <span style="color: #79c267;">(</span>er/expand-region 1<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
          <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>&lt; lines 0<span style="color: #79c267;">)</span>   <span style="color: #79c267;">(</span>ha/expand-previous-line-as-region lines<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
          <span style="color: #e868a2;">(</span>t             <span style="color: #79c267;">(</span>ha/expand-next-line-as-region <span style="color: #f28c33;">(</span>1+ lines<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">ha/expand-next-line-as-region</span> <span style="color: #459ba8;">(</span>lines<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>message <span style="color: #CC9393;">"lines = %d"</span> lines<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>beginning-of-line<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>set-mark <span style="color: #e868a2;">(</span>point<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>end-of-line lines<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">ha/expand-previous-line-as-region</span> <span style="color: #459ba8;">(</span>lines<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>end-of-line<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>set-mark <span style="color: #e868a2;">(</span>point<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>beginning-of-line <span style="color: #e868a2;">(</span>1+ lines<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-="</span> . ha/expand-region<span style="color: #459ba8;">)</span>     <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">wrapped version of `</span><span style="color: #BFEBBF;">er/expand-region</span><span style="color: #7F9F7F;">'</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C--"</span> . er/contract-region<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
I chose <code>C-0</code> instead of <code>C-1</code> as the prefix argument to select the current
line, because It's easier to stroke <code>C-0</code> than <code>C-1</code>.
</p>

<p>
Give it a try, and you will know what it will do quickly.
</p>
</div>
</div>

<div id="outline-container-org1d4939e" class="outline-4">
<h4 id="org1d4939e"><span class="section-number-4">4.3.15</span> <code>Fancy-narrow</code> - Smart narrowing</h4>
<div class="outline-text-4" id="text-4-3-15">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Narrowing.html#Narrowing">Narrowing</a> is one of the fascinating features in Emacs, great for code-reviews
and other presentations. It works well but still can be better.
</p>

<p>
This <a href="http://endlessparentheses.com/emacs-narrow-or-widen-dwim.html">nifty function</a> is a nice replacement for many other narrowing keybindings
that I use, it is smart (<i>do what I mean</i>):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">narrow-or-widen-dwim</span> <span style="color: #bf62a6;">(</span>p<span style="color: #bf62a6;">)</span>
  <span style="color: #9FC59F;">"If the buffer is narrowed, it widens. Otherwise, it narrows intelligently.</span>
<span style="color: #9FC59F;">   Intelligently means: region, subtree, or defun, whichever</span>
<span style="color: #9FC59F;">   applies first.</span>

<span style="color: #9FC59F;">   With prefix P, don't widen, just narrow even if buffer is</span>
<span style="color: #9FC59F;">   already narrowed."</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span> <span style="color: #CC9393;">"P"</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">declare</span> <span style="color: #459ba8;">(</span>interactive-only<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">cond</span> <span style="color: #459ba8;">(</span><span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">and</span> <span style="color: #79c267;">(</span>buffer-narrowed-p<span style="color: #79c267;">)</span> <span style="color: #79c267;">(</span>not p<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span> <span style="color: #e868a2;">(</span>widen<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
        <span style="color: #459ba8;">(</span><span style="color: #e868a2;">(</span>region-active-p<span style="color: #e868a2;">)</span>
         <span style="color: #e868a2;">(</span>narrow-to-region <span style="color: #79c267;">(</span>region-beginning<span style="color: #79c267;">)</span> <span style="color: #79c267;">(</span>region-end<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
        <span style="color: #459ba8;">(</span><span style="color: #e868a2;">(</span>derived-mode-p 'org-mode<span style="color: #e868a2;">)</span> <span style="color: #e868a2;">(</span>org-narrow-to-subtree<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
        <span style="color: #459ba8;">(</span>t <span style="color: #e868a2;">(</span>narrow-to-defun<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x n x"</span><span style="color: #bf62a6;">)</span> 'narrow-or-widen-dwim<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Unlike <code>narrow-to-region</code>, which completely hides text outside the narrowed
region, this <a href="https://github.com/Bruce-Connor/fancy-narrow">fancy-narrow</a> package simply deemphasizes the text, makes it
readonly, and makes it unreachable (hightlight instead of narrow). With this
<code>fancy-narrow</code> package, we can define a smart <code>hightlight-section</code> function
with <i>prefix argument</i>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">fancy-narrow</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">ha/highlight-block</span> <span style="color: #459ba8;">()</span>
    <span style="color: #9FC59F;">"Highlights a 'block' in a buffer defined by the first blank</span>
<span style="color: #9FC59F;">     line before and after the current cursor position. Uses the</span>
<span style="color: #9FC59F;">     'fancy-narrow' mode to high-light the block."</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">let</span> <span style="color: #e868a2;">(</span>cur beg end<span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> cur <span style="color: #79c267;">(</span>point<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> end <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">or</span> <span style="color: #f28c33;">(</span>re-search-forward  <span style="color: #CC9393;">"^\s*$"</span> nil t<span style="color: #f28c33;">)</span> <span style="color: #f28c33;">(</span>point-max<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span>goto-char cur<span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> beg <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">or</span> <span style="color: #f28c33;">(</span>re-search-backward <span style="color: #CC9393;">"^\s*$"</span> nil t<span style="color: #f28c33;">)</span> <span style="color: #f28c33;">(</span>point-min<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span>fancy-narrow-to-region beg end<span style="color: #e868a2;">)</span>
      <span style="color: #e868a2;">(</span>goto-char cur<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">ha/highlight-section</span> <span style="color: #459ba8;">(</span>num<span style="color: #459ba8;">)</span>
    <span style="color: #9FC59F;">"If some of the buffer is highlighted with the `</span><span style="color: #BFEBBF;">fancy-narrow</span><span style="color: #9FC59F;">'</span>
<span style="color: #9FC59F;">     mode, then un-highlight it by calling `</span><span style="color: #BFEBBF;">fancy-widen</span><span style="color: #9FC59F;">'.</span>

<span style="color: #9FC59F;">     If region is active, call `</span><span style="color: #BFEBBF;">fancy-narrow-to-region</span><span style="color: #9FC59F;">'.</span>

<span style="color: #9FC59F;">     If NUM is 0, highlight the current block (delimited by blank</span>
<span style="color: #9FC59F;">     lines). If NUM is positive or negative, highlight that number</span>
<span style="color: #9FC59F;">     of lines.  Otherwise, called `</span><span style="color: #BFEBBF;">fancy-narrow-to-defun</span><span style="color: #9FC59F;">', to</span>
<span style="color: #9FC59F;">     highlight current function."</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span> <span style="color: #CC9393;">"p"</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">cond</span>
     <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>fancy-narrow-active-p<span style="color: #79c267;">)</span>  <span style="color: #79c267;">(</span>fancy-widen<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
     <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>region-active-p<span style="color: #79c267;">)</span>        <span style="color: #79c267;">(</span>fancy-narrow-to-region <span style="color: #f28c33;">(</span>region-beginning<span style="color: #f28c33;">)</span> <span style="color: #f28c33;">(</span>region-end<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
     <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>= num 0<span style="color: #79c267;">)</span>                <span style="color: #79c267;">(</span>ha/highlight-block<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
     <span style="color: #e868a2;">(</span><span style="color: #79c267;">(</span>= num 1<span style="color: #79c267;">)</span>                <span style="color: #79c267;">(</span>fancy-narrow-to-defun<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span>
     <span style="color: #e868a2;">(</span>t                        <span style="color: #79c267;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span> <span style="color: #f28c33;">(</span>ha/expand-region num<span style="color: #f28c33;">)</span>
                                      <span style="color: #f28c33;">(</span>fancy-narrow-to-region <span style="color: #c5d647;">(</span>region-beginning<span style="color: #c5d647;">)</span> <span style="color: #c5d647;">(</span>region-end<span style="color: #c5d647;">)</span><span style="color: #f28c33;">)</span>
                                      <span style="color: #f28c33;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> mark-active nil<span style="color: #f28c33;">)</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-x n ."</span> . ha/highlight-section<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">:bind (("C-M-+" . ha/highlight-section)</span>
  <span style="color: #5F7F5F;">;;        </span><span style="color: #7F9F7F;">("C-&lt;f12&gt;" . ha/highlight-section)))</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">(use-package fancy-narrow</span>
<span style="color: #5F7F5F;">;;   </span><span style="color: #7F9F7F;">:ensure t</span>
<span style="color: #5F7F5F;">;;   </span><span style="color: #7F9F7F;">:config</span>
<span style="color: #5F7F5F;">;;   </span><span style="color: #7F9F7F;">(defun ha/highlight-block ()</span>
<span style="color: #5F7F5F;">;;     </span><span style="color: #7F9F7F;">"Highlights a 'block' in a buffer defined by the first blank</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">line before and after the current cursor position. Uses the</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">`</span><span style="color: #BFEBBF;">fancy-narrow</span><span style="color: #7F9F7F;">' mode to high-light the block."</span>
<span style="color: #5F7F5F;">;;     </span><span style="color: #7F9F7F;">(interactive)</span>
<span style="color: #5F7F5F;">;;     </span><span style="color: #7F9F7F;">(let (cur beg end)</span>
<span style="color: #5F7F5F;">;;       </span><span style="color: #7F9F7F;">(setq cur (point))</span>
<span style="color: #5F7F5F;">;;       </span><span style="color: #7F9F7F;">(setq end (or (re-search-forward  "^\s*$" nil t) (point-max)))</span>
<span style="color: #5F7F5F;">;;       </span><span style="color: #7F9F7F;">(goto-char cur)</span>
<span style="color: #5F7F5F;">;;       </span><span style="color: #7F9F7F;">(setq beg (or (re-search-backward "^\s*$" nil t) (point-min)))</span>
<span style="color: #5F7F5F;">;;       </span><span style="color: #7F9F7F;">(fancy-narrow-to-region beg end)</span>
<span style="color: #5F7F5F;">;;       </span><span style="color: #7F9F7F;">(goto-char cur)))</span>

<span style="color: #5F7F5F;">;;   </span><span style="color: #7F9F7F;">(defun ha/highlight-section (num)</span>
<span style="color: #5F7F5F;">;;     </span><span style="color: #7F9F7F;">"If some of the buffer is highlighted with the `</span><span style="color: #BFEBBF;">fancy-narrow</span><span style="color: #7F9F7F;">'</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">mode, then un-highlight it by calling `</span><span style="color: #BFEBBF;">fancy-widen</span><span style="color: #7F9F7F;">'.</span>

<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">If region is active, call `</span><span style="color: #BFEBBF;">fancy-narrow-to-region</span><span style="color: #7F9F7F;">'.</span>

<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">If NUM is 0, call `</span><span style="color: #BFEBBF;">fancy-narrow-to-defun</span><span style="color: #7F9F7F;">', to highlight</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">current function. If NUM is 1, highlight the current</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">block (delimited by blank lines). Otherwise, highlight that</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">number of lines."</span>
<span style="color: #5F7F5F;">;;     </span><span style="color: #7F9F7F;">(interactive "p")</span>
<span style="color: #5F7F5F;">;;     </span><span style="color: #7F9F7F;">(cond</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">((fancy-narrow-active-p)  (fancy-widen))</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">((region-active-p)        (fancy-narrow-to-region (region-beginning) (region-end)))</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">((= num 0)                (fancy-narrow-to-defun))</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">((= num 1)                (ha/highlight-block))</span>
<span style="color: #5F7F5F;">;;      </span><span style="color: #7F9F7F;">(t                        (progn (er/expand-region num) ; depend on `</span><span style="color: #BFEBBF;">er/expand-region</span><span style="color: #7F9F7F;">'</span>
<span style="color: #5F7F5F;">;;                                       </span><span style="color: #7F9F7F;">(fancy-narrow-to-region (region-beginning) (region-end))</span>
<span style="color: #5F7F5F;">;;                                       </span><span style="color: #7F9F7F;">(setq mark-active nil)))))</span>

<span style="color: #5F7F5F;">;;   </span><span style="color: #7F9F7F;">;; highlight-section is smart enough</span>
<span style="color: #5F7F5F;">;;   </span><span style="color: #7F9F7F;">:bind (("C-x n ." . ha/highlight-section)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2cf1f28" class="outline-4">
<h4 id="org2cf1f28"><span class="section-number-4">4.3.16</span> <code>M-;</code> : Smart Comment</h4>
<div class="outline-text-4" id="text-4-3-16">
<p>
The <a href="https://github.com/paldepind/smart-comment">smart-comment</a> project has the nice feature of commenting a line without
being at the beginning of the line <code>M-;</code> (default comment in the middle of the
line is to split it). Also has the ability (with the <code>C-u</code> prefix) to mark
comments as things to be deleted.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">smart-comment</span>
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"M-;"</span> . smart-comment<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org391a8f6" class="outline-4">
<h4 id="org391a8f6"><span class="section-number-4">4.3.17</span> <code>M-p</code> and <code>M-n</code> : Smart Scan</h4>
<div class="outline-text-4" id="text-4-3-17">
<p>
Use the <code>M-n</code> to search the buffer for the word the cursor is currently
pointing. <code>M-p</code> to go backwards. See <a href="http://www.masteringemacs.org/articles/2011/01/14/effective-editing-movement/">this essay</a> for details.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">smartscan</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span>
  <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"M-n"</span> . smartscan-symbol-go-forward<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"M-p"</span> . smartscan-symbol-go-backward<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge19c167" class="outline-4">
<h4 id="orge19c167"><span class="section-number-4">4.3.18</span> Better Searching and Visual Regular Expressions</h4>
<div class="outline-text-4" id="text-4-3-18">
<p>
The <a href="https://github.com/syohex/emacs-anzu">anzu</a> package enhances <code>query-replace</code> and <code>query-replace-regexp</code> by showing
total matches and current match position.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">anzu</span>
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> anzu-mode
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"M-%"</span> . anzu-query-replace<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-M-%"</span> . anzu-query-replace-regexp<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span> <span style="color: #bf62a6;">(</span>global-anzu-mode<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
The <a href="https://github.com/benma/visual-regexp.el">Visual Regular Expressions</a> project highlights the matches while you try to
remember the differences between Perl's regular expressions and Emacs'&#x2026;
</p>

<p>
Begin with <code>C-c r</code> then type the regexp. To see the highlighted matches, type
<code>C-c a</code> before you hit <code>RET</code> to accept it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">visual-regexp</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">use modern regular expressions instead of Emacs-style regular expressions</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">visual-regexp-steroids</span> <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t<span style="color: #bf62a6;">)</span>

  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c r"</span> . vr/replace<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c q"</span> . vr/query-replace<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">if you use `</span><span style="color: #BFEBBF;">multiple-cursors</span><span style="color: #7F9F7F;">', this is for you:</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span>  <span style="color: #BFEBBF;">multiple-cursors</span>
            <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c m"</span> . vr/mc-mark<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org72f0f95" class="outline-3">
<h3 id="org72f0f95"><span class="section-number-3">4.4</span> Editing</h3>
<div class="outline-text-3" id="text-4-4">
</div>
<div id="outline-container-orgac74a56" class="outline-4">
<h4 id="orgac74a56"><span class="section-number-4">4.4.1</span> Coding - always UTF-8</h4>
<div class="outline-text-4" id="text-4-4-1">
<p>
Always, always UTF-8.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>prefer-coding-system 'utf-8<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-default-coding-systems 'utf-8<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-terminal-coding-system 'utf-8<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-keyboard-coding-system 'utf-8<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> default-buffer-file-coding-system 'utf-8<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb2ec81d" class="outline-4">
<h4 id="orgb2ec81d"><span class="section-number-4">4.4.2</span> Tabs, spaces, enters</h4>
<div class="outline-text-4" id="text-4-4-2">
</div>
<ul class="org-ul">
<li><a id="org2ead47b"></a>Tabs vs. Space<br />
<div class="outline-text-5" id="text-org2ead47b">
<p>
Tabs are evil! I want spaces instead of tabs, and want exactly 2 spaces instead
of a tab. Note to self: Apparently emacs is smart enough to not do this in
Python, which is a good thing.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">make indentation commands use space only (never tab character)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq-default</span> indent-tabs-mode nil<span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">set current buffer's tab char's display width to 2 spaces</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> tab-width 2<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="orge9935de"></a>Indent or Complete - smart tab behavior<br />
<div class="outline-text-5" id="text-orge9935de">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq-default</span> tab-always-indent 'complete<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgf3c8534"></a>Sentences end with one space<br />
<div class="outline-text-5" id="text-orgf3c8534">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> sentence-end-double-space nil<span style="color: #78c5d6;">)</span>    <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">Sentences end with one space</span>
</pre>
</div>
</div>
</li>
<li><a id="orgb347d2a"></a>Bind <code>ENT</code> to <code>newline-and-indent</code><br />
<div class="outline-text-5" id="text-orgb347d2a">
<p>
By default, Emacs won't indent when press RET because the command bound to RET
is newline. You can enable automatic indentation by binding <code>RET</code> to
<code>newline-and-indent</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"RET"</span><span style="color: #bf62a6;">)</span> 'newline-and-indent<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgd9324ae"></a>Always newline at end of file<br />
<div class="outline-text-5" id="text-orgd9324ae">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> require-final-newline t<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org3ebc4a3" class="outline-4">
<h4 id="org3ebc4a3"><span class="section-number-4">4.4.3</span> Delete the selection with a keypress</h4>
<div class="outline-text-4" id="text-4-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>delete-selection-mode t<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org65416a8" class="outline-4">
<h4 id="org65416a8"><span class="section-number-4">4.4.4</span> <code>Whitespace</code> - show and clean devil</h4>
<div class="outline-text-4" id="text-4-4-4">
<p>
We want to show trailing whitespace. Trailing whitespace is the devil.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">whitespace</span>
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"C-c x w"</span> . whitespace-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> whitespace-mode
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Indicate trailing empty lines in the GUI</span>
  <span style="color: #bf62a6;">(</span>set-default 'indicate-empty-lines t<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> show-trailing-whitespace t<span style="color: #bf62a6;">)</span>

  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">limit line length                                                                    </span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> whitespace-line-column 80<span style="color: #bf62a6;">)</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Here are the things that whitespace-mode should highlight</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> whitespace-style '<span style="color: #459ba8;">(</span>face tabs empty trailing lines-tail<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Display pretty things for newlines and tabs (nothing for spaces)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> whitespace-display-mappings
        <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">all numbers are Unicode codepoint in decimal. e.g. (insert-char 182 1)</span>
        <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">32 SPACE, 183 MIDDLE DOT</span>
        '<span style="color: #459ba8;">(</span><span style="color: #e868a2;">(</span>space-mark nil<span style="color: #e868a2;">)</span>
          <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">10 LINE FEED</span>
          <span style="color: #5F7F5F;">;;</span><span style="color: #7F9F7F;">(newline-mark 10 [172 10])</span>
          <span style="color: #e868a2;">(</span>newline-mark nil<span style="color: #e868a2;">)</span>
          <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">9 TAB, MIDDLE DOT</span>
          <span style="color: #e868a2;">(</span>tab-mark 9 <span style="color: #79c267;">[</span>183 9<span style="color: #79c267;">]</span> <span style="color: #79c267;">[</span>92 9<span style="color: #79c267;">]</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Disable it in certain modes where whitespace doesn't make sense.</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> whitespace-global-modes '<span style="color: #459ba8;">(</span>not org-mode
                                    eshell-mode
                                    shell-mode
                                    web-mode
                                    log4j-mode
                                    dired-mode
                                    emacs-lisp-mode
                                    clojure-mode
                                    lisp-mode<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
When you press <code>RET</code> to create a newline and got indented by
<code>eletric-indent-mode</code>, you have appropriate whitespace for indenting. But, if
you leave the line blank and move to the next line, the whitespace becomes
useless. <code>Clean-aindent-mode</code> helps <a href="https://www.emacswiki.org/emacs/CleanAutoIndent">clean up unused whitespace</a>. Turn it on in
<code>prog-mode</code> by default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">clean-aindent-mode</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #bf62a6;">(</span>add-hook 'prog-mode-hook 'clean-aindent-mode<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6e6e11b" class="outline-4">
<h4 id="org6e6e11b"><span class="section-number-4">4.4.5</span> <code>Smartparents</code> - Insert closing parens automagically</h4>
<div class="outline-text-4" id="text-4-4-5">
<p>
<a href="https://github.com/Fuco1/smartparens">Smartparents</a> is a minor mode for dealing with pairs, such as automatically
insert pairs, wrap, unwrap and rewrap pairs,
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">smartparens</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:defer</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> <span style="color: #CC9393;">""</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #bf62a6;">(</span>smartparens-global-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">smartparens-config</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>  
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc2500ab" class="outline-4">
<h4 id="orgc2500ab"><span class="section-number-4">4.4.6</span> <code>Undo-tree</code> - visualize your undos and branches</h4>
<div class="outline-text-4" id="text-4-4-6">
<p>
<a href="http://www.dr-qubit.org/undo-tree/undo-tree.el">Undo-tree-mode</a> lets you use <code>C-x u</code> (<code>undo-tree-visualize</code>) to visually walk
through the changes you've made, undo back to a certain point (or redo), and go
down different branches.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">undo-tree</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> undo-tree-mode
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>global-undo-tree-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">progn</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> undo-tree-visualizer-timestamps t<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> undo-tree-visualizer-diff t<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7b7cc7d" class="outline-4">
<h4 id="org7b7cc7d"><span class="section-number-4">4.4.7</span> <code>Auto-fill</code> - warp long lines</h4>
<div class="outline-text-4" id="text-4-4-7">
<p>
Turn on <a href="https://www.emacswiki.org/emacs/AutoFillMode">auto-fill-mode</a> to warp long lines automatically, instead of <code>M-q</code>
altogether. Sometimes, <code>toggle-truncate-lines</code> would be useful.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq-default</span> fill-column 79<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>add-hook 'text-mode-hook 'turn-on-auto-fill<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>add-hook 'prog-mode-hook 'turn-on-auto-fill<span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x t f"</span><span style="color: #bf62a6;">)</span> 'auto-fill-mode<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x t t"</span><span style="color: #bf62a6;">)</span> 'toggle-truncate-lines<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Sometimes, l want to join all the lines in a paragraph into a single line,
Emacs does not have a <code>unfill</code> command to do the inverse of <code>fill</code>. Luckly, <a href="http://ergoemacs.org/emacs/emacs_unfill-paragraph.html">Xah
Lee wrote unfill functions</a> for us.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">xah-unfill-paragraph</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #9FC59F;">"Replace newline chars in current paragraph by single spaces.</span>
<span style="color: #9FC59F;">This command does the inverse of `</span><span style="color: #BFEBBF;">fill-paragraph</span><span style="color: #9FC59F;">'."</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">let</span> <span style="color: #459ba8;">(</span><span style="color: #e868a2;">(</span>fill-column most-positive-fixnum<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>fill-paragraph<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>define-key global-map <span style="color: #CC9393;">"\M-Q"</span> 'unfill-paragraph<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org83349b1" class="outline-4">
<h4 id="org83349b1"><span class="section-number-4">4.4.8</span> <code>Hippie-expand</code> - Text Expansion</h4>
<div class="outline-text-4" id="text-4-4-8">
<p>
<code>Hippie-expand</code> looks at the word before point and tries to expand it in
various ways including expanding from a fixed list (like <code>`expand-abbrev’</code>),
expanding from matching text found in a buffer (like <code>`dabbrev-expand’</code>) or
expanding in ways defined by your own functions. Which of these it tries and in
what order is controlled by a configurable list of functions.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> hippie-expand-try-functions-list
 '<span style="color: #bf62a6;">(</span>try-expand-dabbrev
   try-expand-dabbrev-all-buffers
   try-expand-dabbrev-from-kill
   try-complete-file-name-partially
   try-complete-file-name
   try-expand-all-abbrevs
   try-expand-list
   try-expand-line
   try-complete-lisp-symbol-partially
   try-complete-lisp-symbol<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"M-/"</span><span style="color: #bf62a6;">)</span> 'hippie-expand<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org326bef5" class="outline-4">
<h4 id="org326bef5"><span class="section-number-4">4.4.9</span> <code>Company</code> - Completion for Anything</h4>
<div class="outline-text-4" id="text-4-4-9">
<p>
<a href="http://company-mode.github.io">Company</a> is a text completion framework for Emacs. The name stands for <i>complete
anything</i>. I use <code>company-mode</code> for all my auto completion needs.
</p>

<p>
Completion will start automatically after you type a few letters. Use <code>M-n</code> and
<code>M-p</code> to select, <code>&lt;RET&gt;</code> to complete or <code>&lt;TAB&gt;</code> to complete the common part.
Press <code>M-(digit)</code> to quickly complete with one of the first <code>10</code> candidates.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">company</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> company-mode
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"C-:"</span> . company-complete<span style="color: #bf62a6;">)</span>  <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">In case I don't want to wait</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #bf62a6;">(</span>add-hook 'after-init-hook 'global-company-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> company-idle-delay 0.5<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> company-show-numbers t<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> company-tooltip-limit 10<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> company-minimum-prefix-length 2<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> company-tooltip-align-annotations t<span style="color: #bf62a6;">)</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">invert the navigation direction if the the completion popup-isearch-match</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">is displayed on top (happens near the bottom of windows)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> company-tooltip-flip-when-above t<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Take advantage of idle time by displaying some documentation using
<a href="https://www.github.com/expez/company-quickhelp">company-quickhelp</a> project.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">company-quickhelp</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span>company-quickhelp-mode 1<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
This also requires <a href="https://github.com/pitkali/pos-tip/blob/master/pos-tip.el">pos-tip</a>.
</p>
</div>
</div>

<div id="outline-container-org5ef5f99" class="outline-4">
<h4 id="org5ef5f99"><span class="section-number-4">4.4.10</span> <code>Yasnippet</code> - Code Templates</h4>
<div class="outline-text-4" id="text-4-4-10">
<p>
<a href="https://github.com/joaotavora/yasnippet">YASnippet</a> is a template system for Emacs. It allows you to type an abbreviation
and automatically expand it into function templates, based on the languages.
You can view a bunch of predefined snippet from the <a href="https://github.com/AndreaCrotti/yasnippet-snippets">yasnippet snippets project</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">yasnippet</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span>
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> 
  <span style="color: #bf62a6;">(</span>yas-global-mode 1<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span>add-to-list 'yas-snippet-dirs <span style="color: #459ba8;">(</span>expand-file-name <span style="color: #CC9393;">"snippets"</span> user-emacs-directory<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3ee95e6" class="outline-4">
<h4 id="org3ee95e6"><span class="section-number-4">4.4.11</span> <code>Flyspell</code> - Spelling Checking</h4>
<div class="outline-text-4" id="text-4-4-11">
<p>
I like spell checking with <a href="https://www.emacswiki.org/emacs/FlySpell">Flyspell</a> which does spell-checking on the fly as you
type using the build-in spell-check settings of ispell.
</p>

<p>
The ASpell program is better supported than ispell. It automatically configures
a personal dictionary at <code>~/.aspell.en.pws</code>, so no need to configure that.
Install ASpell with homebrew first:
</p>

<div class="org-src-container">
<pre class="src src-sh">brew install aspell
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">flyspell</span>
  <span style="color: #DCDCCC; font-weight: bold;">:defer</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> <span style="color: #CC9393;">""</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #bf62a6;">(</span>add-hook 'prog-mode-hook 'flyspell-prog-mode<span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">dolist</span> <span style="color: #459ba8;">(</span>hook '<span style="color: #e868a2;">(</span>text-mode-hook org-mode-hook<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>add-hook hook <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #79c267;">()</span> <span style="color: #79c267;">(</span>flyspell-mode 1<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">dolist</span> <span style="color: #459ba8;">(</span>hook '<span style="color: #e868a2;">(</span>change-log-mode-hook log-edit-mode-hook org-agenda-mode-hook<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>add-hook hook <span style="color: #e868a2;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #79c267;">()</span> <span style="color: #79c267;">(</span>flyspell-mode -1<span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> ispell-program-name <span style="color: #CC9393;">"/usr/local/bin/aspell"</span> <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">use aspell instead of ispell</span>
        ispell-dictionary <span style="color: #CC9393;">"american"</span>
        ispell-extra-args '<span style="color: #459ba8;">(</span><span style="color: #CC9393;">"--sug-mode=ultra"</span>
                            <span style="color: #CC9393;">"--lang=en_US"</span>
                            <span style="color: #CC9393;">"--ignore=3"</span><span style="color: #459ba8;">)</span>
        ispell-list-command <span style="color: #CC9393;">"--list"</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x t s"</span><span style="color: #bf62a6;">)</span> 'flyspell-mode<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0282cbd" class="outline-4">
<h4 id="org0282cbd"><span class="section-number-4">4.4.12</span> <code>Multiple Cursors</code> - edit with multiple cursors</h4>
<div class="outline-text-4" id="text-4-4-12">
<p>
<a href="https://github.com/emacsmirror/multiple-cursors">Multiple-cursors</a> is an advanced package enable editing with multiple cursors
simultaneously. <b>Multiple-cursors is crazy!</b> It doesn't have any default
keybindings, so I set up these:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">multiple-cursors</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. ."</span>   . mc/mark-all-dwim<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. C-."</span> . mc/mark-all-like-this-dwim<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. n"</span>   . mc/mark-next-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. C-n"</span> . mc/mark-next-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. p"</span>   . mc/mark-previous-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. C-p"</span> . mc/mark-previous-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. a"</span>   . mc/mark-all-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. C-a"</span> . mc/mark-all-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. N"</span>   . mc/mark-next-symbol-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. C-N"</span> . mc/mark-next-symbol-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. P"</span>   . mc/mark-previous-symbol-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. C-P"</span> . mc/mark-previous-symbol-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. A"</span>   . mc/mark-all-symbols-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. C-A"</span> . mc/mark-all-symbols-like-this<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. f"</span>   . mc/mark-all-like-this-in-defun<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. C-f"</span> . mc/mark-all-like-this-in-defun<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. l"</span>   . mc/edit-lines<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. C-l"</span> . mc/edit-lines<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. e"</span>   . mc/edit-ends-of-lines<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c C-. C-e"</span> . mc/edit-ends-of-lines<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-M-&lt;mouse-1&gt;"</span> . mc/add-cursor-on-click<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgcc09406" class="outline-3">
<h3 id="orgcc09406"><span class="section-number-3">4.5</span> Helm - interactive completion and selection</h3>
<div class="outline-text-3" id="text-4-5">
</div>
<div id="outline-container-org53da2a4" class="outline-4">
<h4 id="org53da2a4"><span class="section-number-4">4.5.1</span> Helm core - amazing utils used everywhere</h4>
<div class="outline-text-4" id="text-4-5-1">
<p>
<a href="https://github.com/emacs-helm/helm">Helm</a> makes it easy to complete various things. I find it to be easier to
configure than <code>ido</code> in order to get completion in as many places as possible,
although I prefer ido's way of switching buffers.
</p>

<p>
This article: <a href="http://tuhdo.github.io/helm-intro.html">A Package in a league of its own: Helm</a> is worth reading. <b>Helm is
amazing!</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">helm</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> <span style="color: #CC9393;">""</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">helm</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">helm-config</span><span style="color: #bf62a6;">)</span>

  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">The default "C-x c" is quite close to "C-x C-c", which quits Emacs.</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Changed to "C-c h". Note: We must set "C-c h" globally, because we</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">cannot change `</span><span style="color: #BFEBBF;">helm-command-prefix-key</span><span style="color: #7F9F7F;">' once `</span><span style="color: #BFEBBF;">helm-config</span><span style="color: #7F9F7F;">' is loaded.</span>
  <span style="color: #bf62a6;">(</span>global-set-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"C-c h"</span><span style="color: #459ba8;">)</span> 'helm-command-prefix<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>global-unset-key <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"C-x c"</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">rebind tab to run persistent action</span>
  <span style="color: #bf62a6;">(</span>define-key helm-map <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"&lt;tab&gt;"</span><span style="color: #459ba8;">)</span> 'helm-execute-persistent-action<span style="color: #bf62a6;">)</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">make TAB works in terminal</span>
  <span style="color: #bf62a6;">(</span>define-key helm-map <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"C-i"</span><span style="color: #459ba8;">)</span> 'helm-execute-persistent-action<span style="color: #bf62a6;">)</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">list actions using C-z</span>
  <span style="color: #bf62a6;">(</span>define-key helm-map <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"C-z"</span><span style="color: #459ba8;">)</span>  'helm-select-action<span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> <span style="color: #459ba8;">(</span>executable-find <span style="color: #CC9393;">"curl"</span><span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> helm-google-suggest-use-curl-p t<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> helm-split-window-in-side-p           t
        helm-move-to-line-cycle-in-source     t
        helm-ff-search-library-in-sexp        t
        helm-scroll-amount                    8
        helm-ff-file-name-history-use-recentf t<span style="color: #bf62a6;">)</span>

  <span style="color: #bf62a6;">(</span>helm-mode 1<span style="color: #bf62a6;">)</span>

  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">fuzzy matching</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> helm-recentf-fuzzy-match t
        helm-locate-fuzzy-match nil <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">locate fuzzy is worthless</span>
        helm-M-x-fuzzy-match t
        helm-buffers-fuzzy-matching t
        helm-semantic-fuzzy-match t
        helm-apropos-fuzzy-match t
        helm-imenu-fuzzy-match t
        helm-lisp-fuzzy-completion t
        helm-completion-in-region-fuzzy-match t<span style="color: #bf62a6;">)</span>

  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"M-x"</span> . helm-M-x<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"M-y"</span> . helm-show-kill-ring<span style="color: #459ba8;">)</span>

         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-x b"</span> . helm-mini<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-x C-b"</span> . helm-buffers-list<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-x C-f"</span> . helm-find-files<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-x C-r"</span> . helm-recentf<span style="color: #459ba8;">)</span>

         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c s"</span> . helm-swoop<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c o"</span> . helm-occur<span style="color: #459ba8;">)</span>

         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c h a"</span> . helm-apropos<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c h y"</span> . helm-yas-complete<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c h SPC"</span> . helm-all-mark-rings<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c h i"</span> . helm-semantic-or-imenu<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c h m"</span> . helm-man-woman<span style="color: #459ba8;">)</span>
         <span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9eae549" class="outline-4">
<h4 id="org9eae549"><span class="section-number-4">4.5.2</span> Helm-projectile - project maintaining</h4>
<div class="outline-text-4" id="text-4-5-2">
<p>
Read this article <a href="http://tuhdo.github.io/helm-projectile.html">Exploring large projects with Projectile and Helm Projectile</a>
(or <a href="https://docs.projectile.mx/en/latest/">the official Projectile Manual</a>) See some demos and master the usage. First
of all, you should keep the command <code>helm-projectile</code> (<code>C-x p h</code>) in mind. Then
master the command on directories and files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">helm-projectile</span>
    <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"C-x p h"</span> . helm-projectile<span style="color: #bf62a6;">)</span>
    <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>projectile-global-mode<span style="color: #bf62a6;">)</span>
    <span style="color: #DCDCCC; font-weight: bold;">:config</span>
    <span style="color: #bf62a6;">(</span>helm-projectile-on<span style="color: #bf62a6;">)</span>
    <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> projectile-completion-system 'helm<span style="color: #bf62a6;">)</span>
    <span style="color: #5F7F5F;">;</span><span style="color: #7F9F7F;">(setq projectile-switch-project-action 'helm-projectile-find-file)</span>
<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org182d2bf" class="outline-4">
<h4 id="org182d2bf"><span class="section-number-4">4.5.3</span> Helm-swoop - searching tool</h4>
<div class="outline-text-4" id="text-4-5-3">
<p>
This promises to be a fast way to find things.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">helm-swoop</span>
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"M-i"</span> . helm-swoop<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"M-I"</span> . helm-swoop-back-to-last-point<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-c M-i"</span> . helm-multi-swoop<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">When doing isearch, hand the word over to helm-swoop</span>
  <span style="color: #bf62a6;">(</span>define-key isearch-mode-map <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"M-i"</span><span style="color: #459ba8;">)</span> 'helm-swoop-from-isearch<span style="color: #bf62a6;">)</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">From helm-swoop to helm-multi-swoop-all</span>
  <span style="color: #bf62a6;">(</span>define-key helm-swoop-map <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"M-i"</span><span style="color: #459ba8;">)</span> 'helm-multi-swoop-all-from-helm-swoop<span style="color: #bf62a6;">)</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Save buffer when helm-multi-swoop-edit complete</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> helm-multi-swoop-edit-save t
        <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">If this value is t, split window inside the current window</span>
        helm-swoop-split-with-multiple-windows t
        <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Split direcion. 'split-window-vertically or 'split-window-horizontally</span>
        helm-swoop-split-direction 'split-window-vertically
        <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">If nil, you can slightly boost invoke speed in exchange for text color</span>
        helm-swoop-speed-or-color nil<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org438c6ae" class="outline-4">
<h4 id="org438c6ae"><span class="section-number-4">4.5.4</span> Helm-describe - keybings describe</h4>
<div class="outline-text-4" id="text-4-5-4">
<p>
Helm Descbinds provides an interface to emacs’ describe-bindings making the
currently active key bindings interactively searchable with helm. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">helm-descbinds</span>
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"C-h b"</span> . helm-descbinds<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>fset 'describe-bindings 'helm-descbinds<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">helm-config</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3bf20ef" class="outline-4">
<h4 id="org3bf20ef"><span class="section-number-4">4.5.5</span> Helm-flyspell - flyspell correct</h4>
<div class="outline-text-4" id="text-4-5-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">helm-flyspell</span>
  <span style="color: #DCDCCC; font-weight: bold;">:defer</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span>define-key flyspell-mode-map <span style="color: #459ba8;">(</span>kbd <span style="color: #CC9393;">"M-S"</span><span style="color: #459ba8;">)</span> 'helm-flyspell-correct<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgcfa53fb" class="outline-3">
<h3 id="orgcfa53fb"><span class="section-number-3">4.6</span> Backup and autosave</h3>
<div class="outline-text-3" id="text-4-6">
<p>
Backup is one of the things people usually want to <a href="http://ergoemacs.org/emacs/emacs_set_backup_into_a_directory.html">change right away</a>. By
default, Emacs saves backup files in the current directory. These are the files
ending in <code>~</code> that are cluttering up your directory lists. The following code
stashes them all in <code>$HOME/.emacs.d/backup</code>, where I can find them with <code>C-x
C-f</code> if I really need to.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">backup in one place. flat, no tree structure</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> backup-directory-alist `<span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">".*"</span> . ,user-emacs-backup-dir<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> make-backup-files t<span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">store the undo-tree history in one place</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> undo-tree-history-directory-alist `<span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">".*"</span> . ,user-emacs-backup-dir<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>      
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> undo-tree-auto-save-history t<span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">backup misc settings</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> backup-by-copying t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> delete-old-versions t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> version-control t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> vc-make-backup-files t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> kept-new-versions 6
      kept-old-versions 2<span style="color: #78c5d6;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> auto-save-file-name-transforms `<span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">".*"</span> ,user-emacs-autosave-dir t<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> auto-save-default t<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org550bef9" class="outline-3">
<h3 id="org550bef9"><span class="section-number-3">4.7</span> Persistence and history</h3>
<div class="outline-text-3" id="text-4-7">
</div>
<div id="outline-container-orge820de4" class="outline-4">
<h4 id="orge820de4"><span class="section-number-4">4.7.1</span> Recentf - recent files</h4>
<div class="outline-text-4" id="text-4-7-1">
<p>
<code>Recentf</code> is a minor mode that builds a list of recently opened files. Turn it
on, then call <code>recentf-open-files</code> to open recently opened files fast.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">recentf</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>recentf-mode 1<span style="color: #78c5d6;">)</span> <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">keep a list of recently opened files, for future sessions</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> recentf-save-file <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"recentf"</span> user-emacs-savefile-dir<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> recentf-max-saved-items 500
      recentf-max-menu-items 25
      <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">disable recentf-cleanup on Emacs start, because it can cause</span>
      <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">problems with remote files</span>
      recentf-auto-cleanup 'never<span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-c f r"</span><span style="color: #bf62a6;">)</span> 'recentf-open-files<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0583cee" class="outline-4">
<h4 id="org0583cee"><span class="section-number-4">4.7.2</span> Saveplace - save file position</h4>
<div class="outline-text-4" id="text-4-7-2">
<p>
You can save the cursor position for every file you opened. So, next time you
open the file, the cursor will be at the position you last opened it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">saveplace</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>save-place-mode 1<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> save-place-file <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"saveplace"</span> user-emacs-savefile-dir<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org19fedd5" class="outline-4">
<h4 id="org19fedd5"><span class="section-number-4">4.7.3</span> Savehist - save history</h4>
<div class="outline-text-4" id="text-4-7-3">
<p>
By default, <code>Savehist</code> saves only your minibuffer histories, but you can
optionally save other histories and other variables as well.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">savehist</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>savehist-mode 1<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> savehist-file <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"savehist"</span> user-emacs-savefile-dir<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> history-length t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> history-delete-duplicates t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> savehist-save-minibuffer-history 1<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> savehist-additional-variables
      '<span style="color: #bf62a6;">(</span>kill-ring
        search-ring
        regexp-search-ring<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdf00bf0" class="outline-4">
<h4 id="orgdf00bf0"><span class="section-number-4">4.7.4</span> Desktop - save and restore opened files and windows config</h4>
<div class="outline-text-4" id="text-4-7-4">
<p>
<code>Desktop</code> can save and restore all previously opened files in last Emacs
session, and also previous windows configuration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">desktop</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>desktop-save-mode 1<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> desktop-base-file-name <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"desktop"</span> user-emacs-savefile-dir<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> desktop-base-lock-name <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"desktop.lock"</span> user-emacs-savefile-dir<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> desktop-save 'ask<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> desktop-auto-save-timeout nil<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
I don't tangle this block anymore because it slow down the startup speed
obviously.
</p>
</div>
</div>

<div id="outline-container-orge73dee1" class="outline-4">
<h4 id="orge73dee1"><span class="section-number-4">4.7.5</span> Bookmark - emacs bookmark</h4>
<div class="outline-text-4" id="text-4-7-5">
<p>
<code>Bookmarks</code> lets you easily open frequently needed files. It is similar to
browser's bookmark. Read this <a href="http://ergoemacs.org/emacs/bookmark.html">article</a> about the usage.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">bookmark</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> bookmark-default-file <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"bookmark"</span> user-emacs-savefile-dir<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> bookmark-save-flag 1<span style="color: #78c5d6;">)</span> <span style="color: #5F7F5F;">; </span><span style="color: #7F9F7F;">everytime bookmark is changed, auto save it</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9776cf4" class="outline-4">
<h4 id="org9776cf4"><span class="section-number-4">4.7.6</span> Eshell - emacs shell</h4>
<div class="outline-text-4" id="text-4-7-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">eshell</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> eshell-directory-name <span style="color: #bf62a6;">(</span>expand-file-name <span style="color: #CC9393;">"eshell"</span> user-emacs-savefile-dir<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orge5721e4" class="outline-3">
<h3 id="orge5721e4"><span class="section-number-3">4.8</span> Global Key Bindings</h3>
<div class="outline-text-3" id="text-4-8">
</div>
<div id="outline-container-org3822179" class="outline-4">
<h4 id="org3822179"><span class="section-number-4">4.8.1</span> Function keys</h4>
<div class="outline-text-4" id="text-4-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>f8<span style="color: #bf62a6;">]</span> 'other-frame<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>f9<span style="color: #bf62a6;">]</span> 'enlarge-window<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>f10<span style="color: #bf62a6;">]</span> 'enlarge-window-horizontally<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>f11<span style="color: #bf62a6;">]</span> 'toggle-frame-fullscreen<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7d2b14d" class="outline-4">
<h4 id="org7d2b14d"><span class="section-number-4">4.8.2</span> Easy keys for frequently used commands</h4>
<div class="outline-text-4" id="text-4-8-2">
<p>
Split and unsplit window panes are some of the most frequently used commands,
because Emacs often generates output in a splits window. So set easy keys for
them:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"s-0"</span><span style="color: #bf62a6;">)</span> 'delete-window<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"s-1"</span><span style="color: #bf62a6;">)</span> 'delete-other-windows<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"s-2"</span><span style="color: #bf62a6;">)</span> 'split-window-below<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"s-3"</span><span style="color: #bf62a6;">)</span> 'split-window-right<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Change font size:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-s-="</span><span style="color: #bf62a6;">)</span> 'text-scale-increase<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-s--"</span><span style="color: #bf62a6;">)</span> 'text-scale-decrease<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org62b05f7" class="outline-4">
<h4 id="org62b05f7"><span class="section-number-4">4.8.3</span> Toggles</h4>
<div class="outline-text-4" id="text-4-8-3">
<p>
Bind shortcuts to some mode <i>toggle</i> functions. Inspired by <a href="http://endlessparentheses.com/the-toggle-map-and-wizardry.html">this article</a>, I am
a wizard now.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>define-prefix-command 'endless/toggle-map<span style="color: #78c5d6;">)</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">The manual recommends C-c for user keys, but C-x t is</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">always free, whereas C-c t is used by some modes.</span>
<span style="color: #78c5d6;">(</span>define-key ctl-x-map <span style="color: #CC9393;">"t"</span> 'endless/toggle-map<span style="color: #78c5d6;">)</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">build-in packages</span>
<span style="color: #78c5d6;">(</span>define-key endless/toggle-map <span style="color: #CC9393;">"d"</span> #'toggle-debug-on-error<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>define-key endless/toggle-map <span style="color: #CC9393;">"q"</span> #'toggle-debug-on-quit<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>define-key endless/toggle-map <span style="color: #CC9393;">"f"</span> #'auto-fill-mode<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>define-key endless/toggle-map <span style="color: #CC9393;">"t"</span> #'toggle-truncate-lines<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>define-key endless/toggle-map <span style="color: #CC9393;">"l"</span> #'display-line-numbers-mode<span style="color: #78c5d6;">)</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">packages installed by `</span><span style="color: #BFEBBF;">use-packages</span><span style="color: #7F9F7F;">'</span>
<span style="color: #78c5d6;">(</span>define-key endless/toggle-map <span style="color: #CC9393;">"w"</span> #'whitespace-mode<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>define-key endless/toggle-map <span style="color: #CC9393;">"s"</span> #'flyspell-mode<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>define-key endless/toggle-map <span style="color: #CC9393;">"c"</span> #'flycheck-mode<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>define-key endless/toggle-map <span style="color: #CC9393;">"g"</span> #'git-timemachine<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2a1b9c9" class="outline-4">
<h4 id="org2a1b9c9"><span class="section-number-4">4.8.4</span> Miscellaneous</h4>
<div class="outline-text-4" id="text-4-8-4">
<p>
Here are some useful global key bindings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Align your code in a pretty way.</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x \\"</span><span style="color: #bf62a6;">)</span> 'align-regexp<span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Start eshell or switch to it if it's active.</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x m"</span><span style="color: #bf62a6;">)</span> 'eshell<span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Start a new eshell even if one is active.</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x M"</span><span style="color: #bf62a6;">)</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">lambda</span> <span style="color: #459ba8;">()</span> <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #459ba8;">)</span> <span style="color: #459ba8;">(</span>eshell t<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Start a regular shell if you prefer that.</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x M-m"</span><span style="color: #bf62a6;">)</span> 'shell<span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">use hippie-expand instead of dabbrev</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"M-/"</span><span style="color: #bf62a6;">)</span> 'hippie-expand<span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">replace buffer-menu with ibuffer</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x C-b"</span><span style="color: #bf62a6;">)</span> 'ibuffer<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org515152b" class="outline-4">
<h4 id="org515152b"><span class="section-number-4">4.8.5</span> <code>Which-key</code> - keys cheat sheet</h4>
<div class="outline-text-4" id="text-4-8-5">
<p>
Many command sequences may be logical, but who can remember them all? Don't
worry. <a href="https://github.com/justbur/emacs-which-key">Which-key</a> can display the key bindings following your currently entered
incomplete command (a prefix) in a popup.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">which-key</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:config</span> <span style="color: #bf62a6;">(</span>which-key-mode<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org95ee843" class="outline-2">
<h2 id="org95ee843"><span class="section-number-2">5</span> Aesthetics</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org7b2d953" class="outline-3">
<h3 id="org7b2d953"><span class="section-number-3">5.1</span> Color Themes</h3>
<div class="outline-text-3" id="text-5-1">
<p>
<a href="http://ethanschoonover.com/solarized">Solarized Theme</a> and <a href="https://github.com/nashamri/spacemacs-theme">Spacemacs Theme</a> are my favorite color themes. And the
<a href="https://github.com/bbatsov/zenburn-emacs">Zenburn Theme</a> is also really nice. I used these as my default color themes.
</p>

<p>
According to this <a href="http://stackoverflow.com/questions/23793288/cycle-custom-themes-w-emacs-24/23794179#23794179">Stackoverflow discuss</a> , I can use <code>f12</code> to switch color
themes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">zenburn-theme</span> <span style="color: #DCDCCC; font-weight: bold;">:defer</span> t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">solarized-theme</span> <span style="color: #DCDCCC; font-weight: bold;">:defer</span> t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">spacemacs-theme</span> <span style="color: #DCDCCC; font-weight: bold;">:defer</span> t<span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">color theme cycle list</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> my-themes <span style="color: #bf62a6;">(</span>list
                 'zenburn
                 'spacemacs-light
                 'spacemacs-dark
                 <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">'solarized-light</span>
                 <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">'solarized-dark</span>
                 <span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">my-theme-cycle</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>disable-theme <span style="color: #459ba8;">(</span>car curr-theme<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span> <span style="color: #5F7F5F;">;;</span><span style="color: #7F9F7F;">Nee flickeringded to stop even worse</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> curr-theme <span style="color: #459ba8;">(</span>cdr curr-theme<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">if</span> <span style="color: #459ba8;">(</span>null curr-theme<span style="color: #459ba8;">)</span> <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> curr-theme my-themes<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>load-theme <span style="color: #459ba8;">(</span>car curr-theme<span style="color: #459ba8;">)</span> t<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>message <span style="color: #CC9393;">"%s"</span> <span style="color: #459ba8;">(</span>car curr-theme<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">[</span>f12<span style="color: #bf62a6;">]</span> 'my-theme-cycle<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> curr-theme my-themes<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>load-theme <span style="color: #bf62a6;">(</span>car curr-theme<span style="color: #bf62a6;">)</span> t<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb3cea75" class="outline-3">
<h3 id="orgb3cea75"><span class="section-number-3">5.2</span> Modeline Theme</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">powerline</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> powerline-default-separator 'curve
        powerline-default-separator-dir <span style="color: #459ba8;">(</span><span style="color: #F0DFAF; font-weight: bold;">quote</span> <span style="color: #e868a2;">(</span>left . right<span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
        powerline-height 28
        powerline-display-buffer-size nil
        powerline-display-hud nil
        powerline-display-mule-info nil
        powerline-gui-use-vcs-glyph t
        powerline-inactive1 '<span style="color: #459ba8;">(</span><span style="color: #e868a2;">(</span>t <span style="color: #79c267;">(</span><span style="color: #DCDCCC; font-weight: bold;">:background</span> <span style="color: #CC9393;">"</span><span style="color: #ffffff; background-color: #1c1c1c;">grey11</span><span style="color: #CC9393;">"</span> <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #000000; background-color: #c5c8c6;">#c5c8c6</span><span style="color: #CC9393;">"</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span>
        powerline-inactive2 '<span style="color: #459ba8;">(</span><span style="color: #e868a2;">(</span>t <span style="color: #79c267;">(</span><span style="color: #DCDCCC; font-weight: bold;">:background</span> <span style="color: #CC9393;">"</span><span style="color: #ffffff; background-color: #333333;">grey20</span><span style="color: #CC9393;">"</span> <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #000000; background-color: #c5c8c6;">#c5c8c6</span><span style="color: #CC9393;">"</span><span style="color: #79c267;">)</span><span style="color: #e868a2;">)</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1fec352" class="outline-3">
<h3 id="org1fec352"><span class="section-number-3">5.3</span> Icons</h3>
<div class="outline-text-3" id="text-5-3">
<p>
According to <a href="https://github.com/jaypei/emacs-neotree">this</a>, install <a href="https://github.com/domtronn/all-the-icons.el">all-the-icon</a> package for neotree's color theme:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">all-the-icons</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
In order for the icons to work it is very important that you install the
<i>Resource Fonts</i> included in this package. Call the following command:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">M-x all-the-icons-install-fonts
</pre>
</div>

<p>
Then use <code>all-the-icons</code> for <code>neotree</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> inhibit-compacting-font-caches t<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> neo-theme 'icons<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd0174c6" class="outline-3">
<h3 id="orgd0174c6"><span class="section-number-3">5.4</span> Fonts</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Choosing a nice and comfortable font is quite important in your whole coding
life.
</p>

<p>
I prefer <i>Monaco</i>. And, as a Chinese, l choose <i>WenQuanYi</i> for Chinese charset.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">when</span> <span style="color: #bf62a6;">(</span>eq system-type 'darwin<span style="color: #bf62a6;">)</span>

  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">default Latin font (e.g. Consolas)</span>
  <span style="color: #bf62a6;">(</span>set-face-attribute 'default nil <span style="color: #DCDCCC; font-weight: bold;">:family</span> <span style="color: #CC9393;">"Monaco"</span><span style="color: #bf62a6;">)</span>

  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">default font size (point * 10)</span>
  <span style="color: #5F7F5F;">;;</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">WARNING!  Depending on the default font,</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">if the size is not supported very well, the frame will be clipped</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">so that the beginning of the buffer may not be visible correctly.</span>
  <span style="color: #bf62a6;">(</span>set-face-attribute 'default nil <span style="color: #DCDCCC; font-weight: bold;">:height</span> 150<span style="color: #bf62a6;">)</span>

  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">use specific font for Chinese charset.</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">if you want to use different font size for specific charset,</span>
  <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">add :size POINT-SIZE in the font-spec.</span>
  <span style="color: #bf62a6;">(</span>set-fontset-font t 'han <span style="color: #459ba8;">(</span>font-spec <span style="color: #DCDCCC; font-weight: bold;">:name</span> <span style="color: #CC9393;">"WenQuanYi Micro Hei Mono"</span><span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>
  <span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
<code>M-x eshell</code>, then run the command <code>(print (font-family-list))</code>. You will see a
list of fonts can be used in Emacs.
</p>
</div>
</div>

<div id="outline-container-org3aa3f60" class="outline-3">
<h3 id="org3aa3f60"><span class="section-number-3">5.5</span> <code>Nyan-mode</code> - Nyan cat in modeline</h3>
<div class="outline-text-3" id="text-5-5">
<p>
Let <a href="https://en.wikipedia.org/wiki/Nyan_Cat">Nyan Cat</a> show you your buffer position in mode line. You can scroll the
buffer by clicking on the Nyan Cat’s rainbow and the space in front of it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">nyan-mode</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>nyan-mode<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7879fca" class="outline-3">
<h3 id="org7879fca"><span class="section-number-3">5.6</span> <code>Rainbow-delimiters</code> - color delimiters for LISP</h3>
<div class="outline-text-3" id="text-5-6">
<p>
For lisp like languages, I want to witness the full power of colorful
<a href="https://github.com/Fanael/rainbow-delimiters">rainbow-delimiters</a>! I will even set them to pastel versions of the rainbow
colors.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">rainbow-delimiters</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>rainbow-delimiters-mode 1<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span>set-face-attribute 'rainbow-delimiters-depth-1-face nil
                    <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #000000; background-color: #78c5d6;">#78c5d6</span><span style="color: #CC9393;">"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-face-attribute 'rainbow-delimiters-depth-2-face nil
                    <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #ffffff; background-color: #bf62a6;">#bf62a6</span><span style="color: #CC9393;">"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-face-attribute 'rainbow-delimiters-depth-3-face nil
                    <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #000000; background-color: #459ba8;">#459ba8</span><span style="color: #CC9393;">"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-face-attribute 'rainbow-delimiters-depth-4-face nil
                    <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #000000; background-color: #e868a2;">#e868a2</span><span style="color: #CC9393;">"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-face-attribute 'rainbow-delimiters-depth-5-face nil
                    <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #000000; background-color: #79c267;">#79c267</span><span style="color: #CC9393;">"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-face-attribute 'rainbow-delimiters-depth-6-face nil
                    <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #000000; background-color: #f28c33;">#f28c33</span><span style="color: #CC9393;">"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-face-attribute 'rainbow-delimiters-depth-7-face nil
                    <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #000000; background-color: #c5d647;">#c5d647</span><span style="color: #CC9393;">"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-face-attribute 'rainbow-delimiters-depth-8-face nil
                    <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #000000; background-color: #f5d63d;">#f5d63d</span><span style="color: #CC9393;">"</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>set-face-attribute 'rainbow-delimiters-depth-9-face nil
                    <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> <span style="color: #CC9393;">"</span><span style="color: #000000; background-color: #78c5d6;">#78c5d6</span><span style="color: #CC9393;">"</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
We also want to make unmatched parens stand out more:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>set-face-attribute 'rainbow-delimiters-unmatched-face nil
                    <span style="color: #DCDCCC; font-weight: bold;">:foreground</span> 'unspecified
                    <span style="color: #DCDCCC; font-weight: bold;">:inherit</span> 'show-paren-mismatch
                    <span style="color: #DCDCCC; font-weight: bold;">:strike-through</span> t<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Now we just need to adjust the hook for lisp-like languages. Possibly have to
add clojure, if I ever want to mess with that.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>add-hook 'emacs-lisp-mode-hook 'rainbow-delimiters-mode<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>add-hook 'lisp-mode-hook 'rainbow-delimiters-mode<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5023f55" class="outline-3">
<h3 id="org5023f55"><span class="section-number-3">5.7</span> <code>Rainbow-mode</code> - color words for CSS</h3>
<div class="outline-text-3" id="text-5-7">
<p>
<code>Rainbow-mode</code> makes "color words" in my programs appear in the colours they
describe. Particularly good for CSS and the like.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">rainbow-mode</span>
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> rainbow-mode
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span>add-hook 'emacs-lisp-mode-hook 'rainbow-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>add-hook 'css-mode-hook 'rainbow-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>add-hook 'html-mode-hook 'rainbow-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>add-hook 'js2-mode-hook 'rainbow-mode<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2d45e76" class="outline-2">
<h2 id="org2d45e76"><span class="section-number-2">6</span> Programming Environment</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgbbdbc3c" class="outline-3">
<h3 id="orgbbdbc3c"><span class="section-number-3">6.1</span> Editing Support</h3>
<div class="outline-text-3" id="text-6-1">
</div>
<div id="outline-container-orga4e314f" class="outline-4">
<h4 id="orga4e314f"><span class="section-number-4">6.1.1</span> Aggressive Indent</h4>
<div class="outline-text-4" id="text-6-1-1">
<p>
Automatically indent without use of the tab found in <a href="http://endlessparentheses.com/permanent-auto-indentation.html">this article</a>, and seems to
be quite helpful for many types of programming languages.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">aggressive-indent</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>global-aggressive-indent-mode 1<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org84a6db2" class="outline-4">
<h4 id="org84a6db2"><span class="section-number-4">6.1.2</span> Indent Guide</h4>
<div class="outline-text-4" id="text-6-1-2">
<p>
<a href="https://github.com/zk-phi/indent-guide">Indent Guide</a> project shows vertical lines to guide indentation.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">indent-guide</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>indent-guide-global-mode<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org51c57ee" class="outline-4">
<h4 id="org51c57ee"><span class="section-number-4">6.1.3</span> Code Folding</h4>
<div class="outline-text-4" id="text-6-1-3">
<p>
The <a href="https://www.emacswiki.org/emacs/HideShow">Hide Show</a> minor mode allows us to <i>fold</i> all functions (hidden), showing
only the header lines. We need to turn on the mode, so wrappers are in order:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">ha/hs-show-all</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>hs-minor-mode 1<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>hs-show-all<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">ha/hs-hide-all</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>hs-minor-mode 1<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>hs-hide-all<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defun</span> <span style="color: #93E0E3;">ha/hs-toggle-hiding</span> <span style="color: #bf62a6;">()</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">interactive</span><span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>hs-minor-mode 1<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>hs-toggle-hiding<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Seems that <code>C-c @</code> is too obnoxious to use, so I'll put my favorite on the
<code>C-c h</code> prefix:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-x t h"</span><span style="color: #bf62a6;">)</span> 'hs-minor-mode<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-c t h"</span><span style="color: #bf62a6;">)</span> 'ha/hs-hide-all<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-c t s"</span><span style="color: #bf62a6;">)</span> 'ha/hs-show-all<span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>global-set-key <span style="color: #bf62a6;">(</span>kbd <span style="color: #CC9393;">"C-c t c"</span><span style="color: #bf62a6;">)</span> 'ha/hs-toggle-hiding<span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org60a6ee2" class="outline-3">
<h3 id="org60a6ee2"><span class="section-number-3">6.2</span> Document</h3>
<div class="outline-text-3" id="text-6-2">
<p>
I like <a href="https://www.emacswiki.org/emacs/ElDoc">ElDoc</a> support (when I can get it), but not needed in the mode line.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">eldoc</span>
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> eldoc-mode
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> eldoc-idle-delay 0.1<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org454e553" class="outline-3">
<h3 id="org454e553"><span class="section-number-3">6.3</span> Error checking</h3>
<div class="outline-text-3" id="text-6-3">
<p>
<a href="https://github.com/flycheck/flycheck">Flycheck</a> seems to be quite superior to <code>Flymake</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">flycheck</span>
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"C-x t c"</span> . flycheck-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:diminish</span> flycheck-mode
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #bf62a6;">(</span>add-hook 'after-init-hook 'global-flycheck-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq-default</span> flycheck-disabled-checkers '<span style="color: #459ba8;">(</span>emacs-lisp-checkdoc<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgbaf193b" class="outline-2">
<h2 id="orgbaf193b"><span class="section-number-2">7</span> Programming Languages</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org6bcb334" class="outline-3">
<h3 id="org6bcb334"><span class="section-number-3">7.1</span> Shell</h3>
<div class="outline-text-3" id="text-7-1">
<p>
Make a shell script executable automatically on save.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>add-hook 'after-save-hook
          'executable-make-buffer-file-executable-if-script-p<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Files with <code>.zsh</code> extension is shell script too.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span>add-to-list 'auto-mode-alist '<span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"\\.zsh\\'"</span> . sh-mode<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgaaeb5c0" class="outline-2">
<h2 id="orgaaeb5c0"><span class="section-number-2">8</span> Typesetting Languages</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org41d9938" class="outline-3">
<h3 id="org41d9938"><span class="section-number-3">8.1</span> Markdown</h3>
<div class="outline-text-3" id="text-8-1">
<p>
<a href="https://github.com/defunkt/markdown-mode">Markdown-mode</a> is a major mode for editing Markdown-formatted text.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">markdown-mode</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:commands</span> <span style="color: #bf62a6;">(</span>markdown-mode gfm-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:mode</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"README\\.md\\'"</span> . gfm-mode<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"\\.md\\'"</span> . markdown-mode<span style="color: #459ba8;">)</span>
         <span style="color: #459ba8;">(</span><span style="color: #CC9393;">"\\.markdown\\'"</span> . markdown-mode<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> markdown-command <span style="color: #CC9393;">"multimarkdown"</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5550191" class="outline-3">
<h3 id="org5550191"><span class="section-number-3">8.2</span> LaTeX</h3>
</div>
</div>
<div id="outline-container-org8a7daa7" class="outline-2">
<h2 id="org8a7daa7"><span class="section-number-2">9</span> Git and Magit</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org7c5bf1e" class="outline-3">
<h3 id="org7c5bf1e"><span class="section-number-3">9.1</span> Git basic settings</h3>
<div class="outline-text-3" id="text-9-1">
<p>
I like <a href="https://github.com/dgutov/diff-hl">diff-hl</a>. This mode can highlight uncommitted changes on the left side of
the window, allows you to jump between and revert them selectively.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">diff-hl</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:init</span> <span style="color: #bf62a6;">(</span>global-diff-hl-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span>add-hook 'dired-mode-hook 'diff-hl-dired-mode<span style="color: #bf62a6;">)</span>
  <span style="color: #bf62a6;">(</span>add-hook 'magit-post-refresh-hook 'diff-hl-magit-post-refresh<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
I want to have special mode for Git's <code>gitconfig</code> and <code>gitignore</code> file:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">gitconfig-mode</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t<span style="color: #78c5d6;">)</span>

<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">gitignore-mode</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t<span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
Play with <a href="https://gitlab.com/pidu/git-timemachine/blob/master/README.md">Git Time Machine</a> project for viewing the different version history of
a file with <code>p</code> and <code>n</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">git-timemachine</span>
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"C-x t g"</span> . git-timemachine<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
<a href="https://github.com/syohex/emacs-git-messenger">Git Messenger</a> can popup commit message at current line.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">git-messenger</span>
  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #459ba8;">(</span><span style="color: #CC9393;">"C-x v m"</span> . git-messenger:popup-message<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3dde1b7" class="outline-3">
<h3 id="org3dde1b7"><span class="section-number-3">9.2</span> Magit - git interface</h3>
<div class="outline-text-3" id="text-9-2">
<p>
Git is <a href="http://emacswiki.org/emacs/Git">already part of Emacs</a>. However, <b><a href="https://magit.vc">Magit</a> is sweet!</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">use-package</span> <span style="color: #BFEBBF;">magit</span>
  <span style="color: #DCDCCC; font-weight: bold;">:ensure</span> t
  <span style="color: #DCDCCC; font-weight: bold;">:commands</span> magit-status magit-blame
  <span style="color: #DCDCCC; font-weight: bold;">:init</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">defadvice</span> <span style="color: #93E0E3;">magit-status</span> <span style="color: #459ba8;">(</span>around magit-fullscreen activate<span style="color: #459ba8;">)</span>
    <span style="color: #459ba8;">(</span>window-configuration-to-register <span style="color: #DCDCCC; font-weight: bold;">:magit-fullscreen</span><span style="color: #459ba8;">)</span>
    ad-do-it
    <span style="color: #459ba8;">(</span>delete-other-windows<span style="color: #459ba8;">)</span><span style="color: #bf62a6;">)</span>
  <span style="color: #DCDCCC; font-weight: bold;">:config</span>
  <span style="color: #bf62a6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> magit-branch-arguments nil
        <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">use ido to look for branches</span>
        magit-completing-read-function 'magit-ido-completing-read
        <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">don't put "origin-" in front of new branch names by default</span>
        magit-default-tracking-name-function 'magit-default-tracking-name-branch-only
        magit-push-always-verify nil
        <span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Get rid of the previous advice to go into fullscreen</span>
        magit-restore-window-configuration t<span style="color: #bf62a6;">)</span>

  <span style="color: #DCDCCC; font-weight: bold;">:bind</span> <span style="color: #bf62a6;">(</span><span style="color: #CC9393;">"C-x g"</span> . magit-status<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd9cb109" class="outline-2">
<h2 id="orgd9cb109"><span class="section-number-2">10</span> Org-Mode</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org48f0163" class="outline-3">
<h3 id="org48f0163"><span class="section-number-3">10.1</span> Exporter Setup</h3>
<div class="outline-text-3" id="text-10-1">
<p>
I have the following setup for the exporters I use. Alphabetical listing
options need to be set before the exporters are loaded for filling to work
correctly.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">setq</span> org-alphabetical-lists t<span style="color: #78c5d6;">)</span>

<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">Explicitly load required exporters</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">ox-html</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">ox-latex</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">ox-ascii</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">ox-md</span><span style="color: #78c5d6;">)</span>
</pre>
</div>

<p>
The <code>ox-extra</code> package make it possible to export content of subtrees without
their headings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #78c5d6;">(</span><span style="color: #F0DFAF; font-weight: bold;">require</span> '<span style="color: #BFEBBF;">ox-extra</span><span style="color: #78c5d6;">)</span>
<span style="color: #78c5d6;">(</span>ox-extras-activate '<span style="color: #bf62a6;">(</span>ignore-headlines<span style="color: #bf62a6;">)</span><span style="color: #78c5d6;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgffdc68a" class="outline-2">
<h2 id="orgffdc68a"><span class="section-number-2">11</span> Acknowledges</h2>
<div class="outline-text-2" id="text-11">
<ul class="org-ul">
<li>Inspired by <a href="http://pages.sachachua.com/.emacs.d/Sacha.html">Sacha</a> and <a href="http://doc.norang.ca/org-mode.html">Bernt</a>, I began to maintain my Emacs configuration using
<code>org-babel</code> in literate style.</li>

<li>My configuration taken a lot from <a href="https://github.com/howardabrams/dot-files">Howard Abrams's Emacs initialization code</a>
which is well structured and documented with <code>org-mode</code>.</li>

<li>Benefit from the <a href="https://magit.vc">Magit</a> project's Themes, I built the pretty nice Emacs Init
File Project Page.</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2016-2019</p>
<p class="author">Author: Xiaojie Feng</p>
<p class="email">Email: <a href="mailto:fengxiaojie1997@gmail.com">fengxiaojie1997@gmail.com</a></p>
<p class="date">Created: 2019-09-01 Sun 22:47</p>
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 26.1 (<a href="https://orgmode.org">Org</a> mode 9.2.5)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
