<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-08-27 Tue 14:29 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Xiaojie's Emacs init file written in org-mode</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Xiaojie Feng" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Xiaojie's Emacs init file written in org-mode</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org07a5e2f">1. About</a>
<ul>
<li><a href="#org80491ca">1.1. My Emacs Init File</a></li>
<li><a href="#orgebf615d">1.2. License</a></li>
<li><a href="#orgfc1f069">1.3. Commentary</a></li>
<li><a href="#org041ca92">1.4. How to Use This Document</a></li>
</ul>
</li>
<li><a href="#orgb9fbbec">2. Personal Information</a></li>
<li><a href="#orgf0e0c8d">3. Bootstraping</a>
<ul>
<li><a href="#org83010e7">3.1. Load Multiple Emacs Files</a>
<ul>
<li><a href="#org52032fd">3.1.1. My Directory Location</a></li>
<li><a href="#org1f82c4b">3.1.2. Directory Structure</a></li>
<li><a href="#org0155b23">3.1.3. Customization</a></li>
<li><a href="#orgb360fab">3.1.4. Setting up the Load Path</a></li>
</ul>
</li>
<li><a href="#org9f74b96">3.2. Package Management</a>
<ul>
<li><a href="#org51ad1fb">3.2.1. <code>ELPA</code> - Packages Installer and Manager</a></li>
<li><a href="#orgdafda12">3.2.2. <code>Use-Package</code> - Package Configuration Macro</a></li>
</ul>
</li>
<li><a href="#org021a25e">3.3. Library Dependency</a></li>
<li><a href="#org18727b1">3.4. <code>Exec-PATH</code> - Environment fixup</a></li>
<li><a href="#org56ddad3">3.5. Keyboard settings for macOS users</a></li>
</ul>
</li>
<li><a href="#org557f2c7">4. Basic settings used everywhere</a>
<ul>
<li><a href="#org231727f">4.1. General user interface and appearance</a>
<ul>
<li><a href="#orgf3bf197">4.1.1. Startup screen and errors reporting</a></li>
<li><a href="#org306c819">4.1.2. Startup with fullscreen</a></li>
<li><a href="#org178a7a9">4.1.3. Set frames title with buffer name</a></li>
<li><a href="#orgf73f015">4.1.4. Distinguish buffers with the same file name : <code>uniquify</code></a></li>
<li><a href="#orgb6415a5">4.1.5. Menu bar, tool bar, scroll bar. No!</a></li>
<li><a href="#org9a1ec96">4.1.6. Modeline settings</a></li>
<li><a href="#org72c12b7">4.1.7. Put empty line markers into the left hand side</a></li>
<li><a href="#org34a1147">4.1.8. Display Line Numbers</a></li>
<li><a href="#org1875b29">4.1.9. Cursor and mouse</a></li>
<li><a href="#org448b9da">4.1.10. Sweet highlight</a></li>
<li><a href="#orgc9cec96">4.1.11. Nice scrolling</a></li>
<li><a href="#org5a49610">4.1.12. No <code>#autosave#</code> and <code>backup~</code> files</a></li>
<li><a href="#org8d309b4">4.1.13. Change "yes or no" to "y or n"</a></li>
<li><a href="#org4f1a018">4.1.14. Confirm before quit</a></li>
</ul>
</li>
<li><a href="#orge5d0790">4.2. Commands - useful interactive functions</a>
<ul>
<li><a href="#org9c66464">4.2.1. Reload emacs initialization file</a></li>
<li><a href="#org66de191">4.2.2. macOS swap Meta and Super</a></li>
<li><a href="#orgc39c2dc">4.2.3. Copy filename to clipboard</a></li>
<li><a href="#orgffabaa9">4.2.4. Open File in external app</a></li>
</ul>
</li>
<li><a href="#org94fdf8a">4.3. Navigation</a>
<ul>
<li><a href="#org78cd680">4.3.1. <code>Projectile</code> - project interaction</a></li>
<li><a href="#org6e7e405">4.3.2. <code>Dired</code> - directory editor</a></li>
<li><a href="#org68e413e">4.3.3. <code>Neotree</code> - tree layout directory explorer</a></li>
<li><a href="#org9bdd904">4.3.4. <code>Winner</code> - undo and redo window configuration</a></li>
<li><a href="#org6340f4f">4.3.5. <code>Windmove</code> - switch between windows</a></li>
<li><a href="#org422b4f9">4.3.6. <code>Buffer-move</code> - move or swap buffer to other window</a></li>
<li><a href="#org8d03c67">4.3.7. <code>C-x o</code> : Moving to another window</a></li>
<li><a href="#org9a446a4">4.3.8. <code>C-x k</code> : Quick kill buffer</a></li>
<li><a href="#orgd3ada68">4.3.9. <code>Avy</code> - fast cursor movement</a></li>
<li><a href="#org9d9483e">4.3.10. <code>C-a</code> : Smart beginning of line</a></li>
<li><a href="#orga198700">4.3.11. <code>C-w</code> and <code>M-w</code> : Smart cut and copy</a></li>
<li><a href="#org8f3cf79">4.3.12. <code>M-\</code> : Smart delete whitespaces around cursor</a></li>
<li><a href="#orgc79d817">4.3.13. <code>C-k</code> : Smart kill entire lines</a></li>
<li><a href="#orgbf96a8f">4.3.14. <code>Expand-region</code> - Smart region selection</a></li>
<li><a href="#org5f3d68f">4.3.15. <code>Fancy-narrow</code> - Smart narrowing</a></li>
<li><a href="#org7c396c9">4.3.16. <code>M-;</code> : Smart Comment</a></li>
<li><a href="#orgeee432d">4.3.17. <code>M-p</code> and <code>M-n</code> : Smart Scan</a></li>
<li><a href="#orgd6c1e31">4.3.18. Better Searching and Visual Regular Expressions</a></li>
</ul>
</li>
<li><a href="#org2b37de6">4.4. Editing</a>
<ul>
<li><a href="#org3e29dd3">4.4.1. Coding - always UTF-8</a></li>
<li><a href="#orge97eb32">4.4.2. Tabs, spaces, enters</a></li>
<li><a href="#org88b338c">4.4.3. Delete the selection with a keypress</a></li>
<li><a href="#org04d9e52">4.4.4. <code>Whitespace</code> - show and clean devil</a></li>
<li><a href="#org925b656">4.4.5. <code>Smartparents</code> - Insert closing parens automagically</a></li>
<li><a href="#org25b3615">4.4.6. <code>Undo-tree</code> - visualize your undos and branches</a></li>
<li><a href="#org7c251a8">4.4.7. <code>Auto-fill</code> - warp long lines</a></li>
<li><a href="#org049b2cb">4.4.8. <code>Hippie-expand</code> - Text Expansion</a></li>
<li><a href="#org23d6ff9">4.4.9. <code>Company</code> - Completion for Anything</a></li>
<li><a href="#org0b890ac">4.4.10. <code>Yasnippet</code> - Code Templates</a></li>
<li><a href="#org3046474">4.4.11. <code>Flyspell</code> - Spelling Checking</a></li>
<li><a href="#orge915ee5">4.4.12. <code>Multiple Cursors</code> - edit with multiple cursors</a></li>
</ul>
</li>
<li><a href="#org2d015a7">4.5. Helm - interactive completion</a>
<ul>
<li><a href="#org936ed7a">4.5.1. Helm core - amazing utils used everywhere</a></li>
<li><a href="#orge7a842c">4.5.2. Helm-projectile - project maintaining</a></li>
<li><a href="#org1991caf">4.5.3. Helm-swoop - searching tool</a></li>
<li><a href="#orgb72fc14">4.5.4. Helm-describe - keybings describe</a></li>
<li><a href="#org1074db4">4.5.5. Helm-flyspell - flyspell correct</a></li>
</ul>
</li>
<li><a href="#org69a5d00">4.6. Backup and autosave</a></li>
<li><a href="#org2af9b1c">4.7. Persistence and history</a>
<ul>
<li><a href="#orgc711b9e">4.7.1. Recentf - recent files</a></li>
<li><a href="#orga68a285">4.7.2. Saveplace - save file position</a></li>
<li><a href="#org717bf2e">4.7.3. Savehist - save history</a></li>
<li><a href="#org05b5b9a">4.7.4. Desktop - save and restore opened files and windows config</a></li>
<li><a href="#org795566d">4.7.5. Bookmarks</a></li>
<li><a href="#orge62c0fd">4.7.6. Eshell</a></li>
</ul>
</li>
<li><a href="#orgec2ec2c">4.8. Miscellaneous Settings</a>
<ul>
<li><a href="#orgd5995c1">4.8.1. Flycheck</a></li>
</ul>
</li>
<li><a href="#org2f6acbd">4.9. Global Key Bindings</a>
<ul>
<li><a href="#org4137ed0">4.9.1. Toggles</a></li>
<li><a href="#org021bfc8">4.9.2. Miscellaneous</a></li>
<li><a href="#orgcaa40e1">4.9.3. <code>Which-key</code> - keys cheat sheet</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org16dc910">5. Aesthetics</a>
<ul>
<li><a href="#orgf685157">5.1. Color Themes</a></li>
<li><a href="#org6763f14">5.2. Modeline Theme</a></li>
<li><a href="#orge66835a">5.3. Neotree Icons</a></li>
<li><a href="#orga5cbfbb">5.4. Set Fonts</a></li>
<li><a href="#org95ec77f">5.5. <code>Nyan-mode</code> - Nyan cat in modeline</a></li>
<li><a href="#orge078638">5.6. <code>Rainbow-delimiters</code> - color delimiters for LISP</a></li>
<li><a href="#orga52c8d2">5.7. <code>Rainbow-mode</code> - color words for CSS</a></li>
</ul>
</li>
<li><a href="#org1e34fed">6. Languages</a>
<ul>
<li><a href="#orgfff5942">6.1. Markdown</a></li>
<li><a href="#orgd7e3d18">6.2. Shell</a></li>
</ul>
</li>
<li><a href="#orge2dd258">7. Git - version control system</a>
<ul>
<li><a href="#orgd541fd7">7.1. Git basic settings</a></li>
<li><a href="#org64edd53">7.2. Magit</a></li>
</ul>
</li>
<li><a href="#org7a97319">8. Org - plain text system</a></li>
<li><a href="#org0dda367">9. Acknowledges</a></li>
</ul>
</div>
</div>


<div id="outline-container-org07a5e2f" class="outline-2">
<h2 id="org07a5e2f"><span class="section-number-2">1</span> About</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org80491ca" class="outline-3">
<h3 id="org80491ca"><span class="section-number-3">1.1</span> My Emacs Init File</h3>
<div class="outline-text-3" id="text-1-1">
<p>
This is my Emacs configuration file. Inspired by <a href="http://pages.sachachua.com/.emacs.d/Sacha.html">Sacha</a> and <a href="http://doc.norang.ca/org-mode.html">Bernt</a>, l written it
using <a href="https://orgmode.org/worg/org-contrib/babel/intro.html">Org-babel</a> in literate style, to make it easy to explain.
</p>

<div class="org-src-container">
<pre class="src src-org">Author: Xiaojie Feng
Keywords: emacs, dotfile, config

   <span style="text-decoration: underline;">___</span> _ <span style="text-decoration: underline;">__ </span><span style="text-decoration: underline;">___</span>   <span style="text-decoration: underline;">__ _  </span><span style="text-decoration: underline;">___</span> <span style="text-decoration: underline;">___</span>
  / _ \ '_ ` _ \ / _` |/ __/ __|
 <span style="color: #859900;">|  __/ | | | | | (_| | (</span><span style="color: #859900; text-decoration: underline;">__\__</span><span style="color: #859900;"> \</span>
(<span style="text-decoration: underline;">_)___|_| |_| |_|\__</span>,_|\___|___/
</pre>
</div>
</div>
</div>
<div id="outline-container-orgebf615d" class="outline-3">
<h3 id="orgebf615d"><span class="section-number-3">1.2</span> License</h3>
<div class="outline-text-3" id="text-1-2">
<pre class="example">
Copyright (C)  2016  Xiaojie Feng.

Permission is granted to copy, distribute and/or modify this document under the
terms of the GNU Free Documentation License, Version 1.3 or any later version
published by the Free Software Foundation; with no Invariant Sections, no
Front-Cover Texts, and no Back-Cover Texts.

Code in this document is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by the Free
Software Foundation, either version 3 of the License, or (at your option) any
later version.

This code is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for more details.
</pre>
</div>
</div>
<div id="outline-container-orgfc1f069" class="outline-3">
<h3 id="orgfc1f069"><span class="section-number-3">1.3</span> Commentary</h3>
<div class="outline-text-3" id="text-1-3">
<pre class="example">
Emacs outshines all other editing software in approximately the same way that
the noonday sun does the stars. It is not just bigger and brighter; it simply
makes everything else vanish.
                                                             [Neal Stephenson]

People talk about getting used to a new editor, but over time, it is precisely
the opposite that should happen — the editor should get used to us.
                                                                [Vivek Haldar]

"Show me your ~/.emacs and I will tell you who you are."
                                                             [Bogdan Maryniuk]

"Emacs is like a laser guided missile. It only has to be slightly
mis-configured to ruin your whole day."
                                                                [Sean McGrath]

"While any text editor can save your files, only Emacs can save your
soul."
                                                              [Per Abrahamsen]
</pre>
</div>
</div>
<div id="outline-container-org041ca92" class="outline-3">
<h3 id="org041ca92"><span class="section-number-3">1.4</span> How to Use This Document</h3>
<div class="outline-text-3" id="text-1-4">
<p>
This document is available as an org file which you can load in Emacs and
tangle with <code>M-x org-babel-tangle (C-c C-v C-t)</code> which will create
<code>org-mode.el</code> in the same directory as the <code>org-mode.org</code> file. This will
extract all of the elisp examples in this document into a file you can include
in your <code>~/.emacs.d/init.el</code> file.
</p>

<p>
If you're new to Emacs Lisp, you probably don't want to copy and paste large
chunks of this code. Instead, copy small parts of it (always making sure to
copy a complete set of parentheses) into your <code>*scratch*</code> buffer or some other
buffer in <code>emacs-lisp-mode</code>. Use <code>M-x eval-buffer</code> to evaluate the code and see
if you like the way that Emacs behaves.
</p>

<p>
If you're viewing the Org file, you can open source code blocks (those are the
ones in begin_src) in a separate buffer by moving your point inside them and
typing C-c ' (<code>M-x org-edit-special</code>). This opens another buffer in
<code>emacs-lisp-mode</code>, so you can use <code>M-x eval-buffer</code> to load the changes.
</p>
</div>
</div>
</div>

<div id="outline-container-orgb9fbbec" class="outline-2">
<h2 id="orgb9fbbec"><span class="section-number-2">2</span> Personal Information</h2>
<div class="outline-text-2" id="text-2">
<p>
Emacs will normally pick this up automatically, but this way I can be sure the
right information is always present.
</p>

<p>
<b>Note: You should modify this with your personal info.</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> user-full-name <span style="color: #2aa198;">"Xiaojie Feng"</span>
      user-mail-address <span style="color: #2aa198;">"fengxiaojie1997@gmail.com"</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf0e0c8d" class="outline-2">
<h2 id="orgf0e0c8d"><span class="section-number-2">3</span> Bootstraping</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org83010e7" class="outline-3">
<h3 id="org83010e7"><span class="section-number-3">3.1</span> Load Multiple Emacs Files</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-org52032fd" class="outline-4">
<h4 id="org52032fd"><span class="section-number-4">3.1.1</span> My Directory Location</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
Conventionally, additional per-user Emacs-specific files are placed in
<code>.emacs.d</code> directory in the <code>HOME</code> directory. The variable
<code>user-emacs-directory</code> holds that.
</p>

<p>
Structure the <code>.emacs.d</code> directory by putting some sub-directories in it.
Following functions make it easy to define the location (whole path) of these
sub-directories (and files):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">user-emacs-subdirectory</span> <span style="color: #b58900;">(</span>d<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>expand-file-name d user-emacs-directory<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">user-emacs-file</span> <span style="color: #b58900;">(</span>f<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>expand-file-name f user-emacs-directory<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1f82c4b" class="outline-4">
<h4 id="org1f82c4b"><span class="section-number-4">3.1.2</span> Directory Structure</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
In case this is the first time running this on a computer, we need to make sure
the following directories have been created.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defconst</span> <span style="color: #268bd2;">user-emacs-savefile-dir</span>
  <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"savefile"</span> user-emacs-directory<span style="color: #b58900;">)</span>
  <span style="color: #2aa198;">"This folder stores all the history and cache files"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defconst</span> <span style="color: #268bd2;">user-emacs-backup-dir</span>
  <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"backup"</span> user-emacs-directory<span style="color: #b58900;">)</span>
  <span style="color: #2aa198;">"This folder stores all the backup~ files"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defconst</span> <span style="color: #268bd2;">user-emacs-autosave-dir</span>
  <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"autosave"</span> user-emacs-directory<span style="color: #b58900;">)</span>
  <span style="color: #2aa198;">"This folder stores all the #autosave# files"</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">unless</span> <span style="color: #b58900;">(</span>file-exists-p user-emacs-savefile-dir<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>make-directory user-emacs-savefile-dir<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">unless</span> <span style="color: #b58900;">(</span>file-exists-p user-emacs-backup-dir<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>make-directory user-emacs-backup-dir<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">unless</span> <span style="color: #b58900;">(</span>file-exists-p user-emacs-autosave-dir<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>make-directory user-emacs-autosave-dir<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0155b23" class="outline-4">
<h4 id="org0155b23"><span class="section-number-4">3.1.3</span> Customization</h4>
<div class="outline-text-4" id="text-3-1-3">
<p>
While I would rather program my configurations, sometimes the Emacs
menu system is "good enough", but I want it in its own file:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> custom-file <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"custom.el"</span> user-emacs-directory<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">when</span> <span style="color: #b58900;">(</span>file-exists-p custom-file<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>load custom-file<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb360fab" class="outline-4">
<h4 id="orgb360fab"><span class="section-number-4">3.1.4</span> Setting up the Load Path</h4>
<div class="outline-text-4" id="text-3-1-4">
<p>
Extra packages not available via the package manager go in my personal stash at
<code>$HOME/.emacs.d/elisp</code>. As long as they're in a directory in my <code>load-path</code>,
Emacs can find them.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>add-to-list 'load-path <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"elisp"</span> user-emacs-directory<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org9f74b96" class="outline-3">
<h3 id="org9f74b96"><span class="section-number-3">3.2</span> Package Management</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org51ad1fb" class="outline-4">
<h4 id="org51ad1fb"><span class="section-number-4">3.2.1</span> <code>ELPA</code> - Packages Installer and Manager</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
Emacs has become like every other operating system, and now has a package
manager called <a href="http://tromey.com/elpa/">Emacs Lisp Package Archive (ELPA)</a> with its own collection
repository. This provides a nice way to <a href="http://ergoemacs.org/emacs/emacs_package_system.html">install additional packages</a>. But since
it is so conservative, we need to add more package source.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">package</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> package-archives
      '<span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"gnu"</span> . <span style="color: #2aa198;">"https://elpa.gnu.org/packages/"</span><span style="color: #268bd2;">)</span>
        <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"org"</span> . <span style="color: #2aa198;">"http://orgmode.org/elpa/"</span><span style="color: #268bd2;">)</span>
        <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"melpa"</span> . <span style="color: #2aa198;">"https://melpa.org/packages/"</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>package-initialize<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> package-enable-at-startup nil<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
<b>Note:</b> As a Chinese user, I use the following mirrors instead. If you want to
use my emacs init file directly, you should replace the value <code>yes</code> with <code>no</code>
after variable <code>:tangle</code> in the org file, then tangle the org file with
<code>org-babel</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">package</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> package-archives
      '<span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"gnu"</span>   . <span style="color: #2aa198;">"http://elpa.emacs-china.org/gnu/"</span><span style="color: #268bd2;">)</span>
        <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"melpa"</span> . <span style="color: #2aa198;">"http://elpa.emacs-china.org/melpa/"</span><span style="color: #268bd2;">)</span>
        <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"org"</span>   . <span style="color: #2aa198;">"http://elpa.emacs-china.org/org/"</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>package-initialize<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> package-enable-at-startup nil<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdafda12" class="outline-4">
<h4 id="orgdafda12"><span class="section-number-4">3.2.2</span> <code>Use-Package</code> - Package Configuration Macro</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
This <a href="https://github.com/jwiegley/use-package">use-package</a> macro provides more concise ways to setup package autoloads,
keybindings, and various mode configuration. The focus is on decreasing startup
time by <i>autoloading</i> packages instead loading them on startup.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">unless</span> <span style="color: #b58900;">(</span>package-installed-p 'use-package<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>package-refresh-contents<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>package-install 'use-package<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> use-package-verbose t
      use-package-always-ensure t<span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">eval-when-compile</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">use-package</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Please don't load outdated byte code</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> load-prefer-newer t<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org021a25e" class="outline-3">
<h3 id="org021a25e"><span class="section-number-3">3.3</span> Library Dependency</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Load up a collection of enhancements to Emacs Lisp, to make the configuration
and its dependencies work properly.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">cl</span><span style="color: #2aa198;">)</span>                           <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">provides useful things like `</span><span style="color: #268bd2; font-weight: bold;">loop</span><span style="color: #93a1a1;">' and `</span><span style="color: #268bd2; font-weight: bold;">setf</span><span style="color: #93a1a1;">'</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">dash</span> <span style="color: #657b83; font-weight: bold;">:ensure</span> t<span style="color: #2aa198;">)</span>            <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">a modern list library</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">diminish</span> <span style="color: #657b83; font-weight: bold;">:ensure</span> t<span style="color: #2aa198;">)</span>        <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">diminish keeps the modeline tidy</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org18727b1" class="outline-3">
<h3 id="org18727b1"><span class="section-number-3">3.4</span> <code>Exec-PATH</code> - Environment fixup</h3>
<div class="outline-text-3" id="text-3-4">
<p>
On macOS, Emacs doesn't use the shell PATH if it's not started from the shell
(started from the GUI). Let's fix that.
</p>

<p>
<a href="https://github.com/purcell/exec-path-from-shell">Exec-path-from-shell</a> can fix this problem. It ensure environment variables
inside Emacs look the same as in the user's shell.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">exec-path-from-shell</span>
  <span style="color: #657b83; font-weight: bold;">:defer</span> t
  <span style="color: #657b83; font-weight: bold;">:init</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">when</span> <span style="color: #6c71c4;">(</span>memq window-system '<span style="color: #859900;">(</span>mac ns<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span>exec-path-from-shell-initialize<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org56ddad3" class="outline-3">
<h3 id="org56ddad3"><span class="section-number-3">3.5</span> Keyboard settings for macOS users</h3>
<div class="outline-text-3" id="text-3-5">
<p>
Set keys for Apple keyboard, for Emacs in macOS.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">when</span> <span style="color: #b58900;">(</span>eq system-type 'darwin<span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> mac-command-modifier 'meta<span style="color: #b58900;">)</span>     <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">make command key do Meta</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> mac-option-modifier 'super<span style="color: #b58900;">)</span>     <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">make option key do Super</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> mac-control-modifier 'control<span style="color: #b58900;">)</span>  <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">make control key do Control</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> ns-function-modifier 'hyper<span style="color: #b58900;">)</span>    <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">make fn key do Hyper</span>
  <span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org557f2c7" class="outline-2">
<h2 id="org557f2c7"><span class="section-number-2">4</span> Basic settings used everywhere</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org231727f" class="outline-3">
<h3 id="org231727f"><span class="section-number-3">4.1</span> General user interface and appearance</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-orgf3bf197" class="outline-4">
<h4 id="orgf3bf197"><span class="section-number-4">4.1.1</span> Startup screen and errors reporting</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
Turn off the startup messages when entering Emacs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> inhibit-startup-screen t<span style="color: #2aa198;">)</span>         <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">disable startup screen</span>
</pre>
</div>

<p>
No beep when reporting errors.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> ring-bell-function <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #268bd2;">()</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>   <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">disable the annoying bell ring</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org306c819" class="outline-4">
<h4 id="org306c819"><span class="section-number-4">4.1.2</span> Startup with fullscreen</h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
Frame auto full-screen when Emacs startup. I <a href="http://ergoemacs.org/misc/emacs_one_max_window_vs_multi_smaller_window.html">prefer full-screen to multiple
windows</a> due to my 13' inch laptop screen.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>set-frame-parameter nil 'fullscreen 'fullboth<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org178a7a9" class="outline-4">
<h4 id="org178a7a9"><span class="section-number-4">4.1.3</span> Set frames title with buffer name</h4>
<div class="outline-text-4" id="text-4-1-3">
<p>
Use project and buffer name as frame title.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> frame-title-format
      <span style="color: #b58900;">(</span>list <span style="color: #2aa198;">"["</span> '<span style="color: #268bd2;">(</span><span style="color: #657b83; font-weight: bold;">:eval</span> <span style="color: #6c71c4;">(</span>projectile-project-name<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span> <span style="color: #2aa198;">"]"</span>
            <span style="color: #2aa198;">" &#968;&#969;ET&#969;&#968; &#9678; %b"</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf73f015" class="outline-4">
<h4 id="orgf73f015"><span class="section-number-4">4.1.4</span> Distinguish buffers with the same file name : <code>uniquify</code></h4>
<div class="outline-text-4" id="text-4-1-4">
<p>
Make two buffers with the same file name distinguishable. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">uniquify</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> uniquify-buffer-name-style 'forward<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> uniquify-separator <span style="color: #2aa198;">"/"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> uniquify-after-kill-buffer-p t<span style="color: #2aa198;">)</span>    <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">rename after killing uniquified</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> uniquify-ignore-buffers-re <span style="color: #2aa198;">"^\\*"</span><span style="color: #2aa198;">)</span> <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">don't muck with special buffers</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb6415a5" class="outline-4">
<h4 id="orgb6415a5"><span class="section-number-4">4.1.5</span> Menu bar, tool bar, scroll bar. No!</h4>
<div class="outline-text-4" id="text-4-1-5">
<p>
Get rid of the menu bar, tool bar, and scroll bar. Useless!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>menu-bar-mode -1<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>tool-bar-mode -1<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>scroll-bar-mode -1<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9a1ec96" class="outline-4">
<h4 id="org9a1ec96"><span class="section-number-4">4.1.6</span> Modeline settings</h4>
<div class="outline-text-4" id="text-4-1-6">
<p>
Show current line and cursor column position in modeline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>line-number-mode 1<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>column-number-mode 1<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Indicate current file size in modeline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>size-indication-mode t<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Display time in modeline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>display-time-mode 1<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org72c12b7" class="outline-4">
<h4 id="org72c12b7"><span class="section-number-4">4.1.7</span> Put empty line markers into the left hand side</h4>
<div class="outline-text-4" id="text-4-1-7">
<p>
Put empty line markers into the left hand side to see when a file actually
ends.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq-default</span> indicate-empty-lines t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">when</span> <span style="color: #b58900;">(</span>not indicate-empty-lines<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>toggle-indicate-empty-lines<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org34a1147" class="outline-4">
<h4 id="org34a1147"><span class="section-number-4">4.1.8</span> Display Line Numbers</h4>
<div class="outline-text-4" id="text-4-1-8">
<p>
According to <a href="http://ergoemacs.org/emacs/emacs_line_number_mode.html">this article</a>, Emacs now has two line numbers mode: <code>linum-mode</code>
and <code>display-line-numbers-mode</code> (Emacs 26). Use the new one :)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>global-display-line-numbers-mode<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
With the <code>display-line-numbers-mode</code>, we can use <code>M-g g</code> (<code>goto-line</code>) to go to
the desired line quickly.
</p>
</div>
</div>

<div id="outline-container-org1875b29" class="outline-4">
<h4 id="org1875b29"><span class="section-number-4">4.1.9</span> Cursor and mouse</h4>
<div class="outline-text-4" id="text-4-1-9">
<p>
The blinking cursor is nothing, but an annoyance.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>blink-cursor-mode -1<span style="color: #2aa198;">)</span>                  <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">No blinking cursor</span>
</pre>
</div>

<p>
Hide the mouse while typing.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> make-pointer-invisible t<span style="color: #2aa198;">)</span>         <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">Hide the mouse while typing</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org448b9da" class="outline-4">
<h4 id="org448b9da"><span class="section-number-4">4.1.10</span> Sweet highlight</h4>
<div class="outline-text-4" id="text-4-1-10">
<p>
Hightlight something sweet.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>global-font-lock-mode 1<span style="color: #2aa198;">)</span>               <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">Syntax highlight</span>
<span style="color: #2aa198;">(</span>global-hl-line-mode 1<span style="color: #2aa198;">)</span>                 <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">Highlight cursor line</span>
</pre>
</div>

<p>
<code>Show-paren-mode</code> highlights the matching parenthesis on point.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>show-paren-mode 1<span style="color: #2aa198;">)</span>                      <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">Highlight parenthesis pairs</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> show-paren-delay 0<span style="color: #2aa198;">)</span>                <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">No delay</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> blink-matching-paren-distance nil<span style="color: #2aa198;">)</span> <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">Blinking parenthesis</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> show-paren-style 'expression<span style="color: #2aa198;">)</span>      <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">Highlight text between parenthesis</span>
</pre>
</div>

<p>
<code>Volatile-highlights</code> highlight things like undo, copy, paste, etc.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">volatile-highlights</span>
  <span style="color: #657b83; font-weight: bold;">:diminish</span> <span style="color: #2aa198;">""</span>
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span>volatile-highlights-mode<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
<code>Hl-todo</code> highlight  annotations like <i>TODO</i> in source code.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">hl-todo</span>
  <span style="color: #657b83; font-weight: bold;">:diminish</span> <span style="color: #2aa198;">""</span>
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span>global-hl-todo-mode<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc9cec96" class="outline-4">
<h4 id="orgc9cec96"><span class="section-number-4">4.1.11</span> Nice scrolling</h4>
<div class="outline-text-4" id="text-4-1-11">
<p>
Scroll the screen in a better way.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> scroll-margin 0
      scroll-conservatively 100000
      scroll-preserve-screen-position 1<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5a49610" class="outline-4">
<h4 id="org5a49610"><span class="section-number-4">4.1.12</span> No <code>#autosave#</code> and <code>backup~</code> files</h4>
<div class="outline-text-4" id="text-4-1-12">
<p>
Stop creating <code>=backup~</code> files and <code>=#autosave#=</code> files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> auto-save-default nil<span style="color: #2aa198;">)</span>            <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">No #autosave# files</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> make-backup-files nil<span style="color: #2aa198;">)</span>            <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">No backup~ files</span>
</pre>
</div>

<p>
Emacs backup is so annoying. This will completely stop Emacs from creating
temoporary symbolic link files (lock file) named <code>=#.something</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> create-lockfiles nil<span style="color: #2aa198;">)</span>             <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">No #.something symbolic link files</span>
</pre>
</div>

<p>
<b>Warning:</b> Disable lock file may be a problem if you have situations where a
file is being edited by different people or instances of Emacs. (So I didn't
disable it.)
</p>
</div>
</div>

<div id="outline-container-org8d309b4" class="outline-4">
<h4 id="org8d309b4"><span class="section-number-4">4.1.13</span> Change "yes or no" to "y or n"</h4>
<div class="outline-text-4" id="text-4-1-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defalias</span> '<span style="color: #268bd2;">yes-or-no-p</span> 'y-or-n-p<span style="color: #2aa198;">)</span>       <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">y/n instead of yes/no</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4f1a018" class="outline-4">
<h4 id="org4f1a018"><span class="section-number-4">4.1.14</span> Confirm before quit</h4>
<div class="outline-text-4" id="text-4-1-14">
<p>
Confirmation is required before exiting Emacs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> confirm-kill-emacs 'yes-or-no-p<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orge5d0790" class="outline-3">
<h3 id="orge5d0790"><span class="section-number-3">4.2</span> Commands - useful interactive functions</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-org9c66464" class="outline-4">
<h4 id="org9c66464"><span class="section-number-4">4.2.1</span> Reload emacs initialization file</h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
Here are the commands I used frequently when I writing this Emacs configuration
with document:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">my/reload-emacs-init-el-file</span> <span style="color: #b58900;">()</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>load-file <span style="color: #268bd2;">(</span>expand-file-name <span style="color: #2aa198;">"init.el"</span> user-emacs-directory<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">my/reload-emacs-init-org-file</span> <span style="color: #b58900;">()</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>org-babel-load-file <span style="color: #268bd2;">(</span>expand-file-name <span style="color: #2aa198;">"init.org"</span> user-emacs-directory<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org66de191" class="outline-4">
<h4 id="org66de191"><span class="section-number-4">4.2.2</span> macOS swap Meta and Super</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
Swap the mapping of <code>Meta</code> and <code>Super</code> if necessary:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">prelude-swap-meta-and-super</span> <span style="color: #b58900;">()</span>
  <span style="color: #2aa198;">"Swap the mapping of Meta and Super.</span>
<span style="color: #2aa198;">Very useful for people using their Mac with a</span>
<span style="color: #2aa198;">Windows external keyboard from time to time."</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">(</span>eq mac-command-modifier 'super<span style="color: #268bd2;">)</span>
      <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
        <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">setq</span> mac-command-modifier 'meta<span style="color: #6c71c4;">)</span>
        <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">setq</span> mac-option-modifier 'super<span style="color: #6c71c4;">)</span>
        <span style="color: #6c71c4;">(</span>message <span style="color: #2aa198;">"Command is now bound to META and Option is bound to SUPER."</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> mac-command-modifier 'super<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> mac-option-modifier 'meta<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>message <span style="color: #2aa198;">"Command is now bound to SUPER and Option is bound to META."</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc39c2dc" class="outline-4">
<h4 id="orgc39c2dc"><span class="section-number-4">4.2.3</span> Copy filename to clipboard</h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
Sometimes I need to copy the name of the currently visited file to the
clipboard. Emacs does not have a built-in command for that, but <a href="https://emacsredux.com/blog/2013/03/27/copy-filename-to-the-clipboard/">cooking one</a> is
pretty straightforward:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">copy-file-name-to-clipboard</span> <span style="color: #b58900;">()</span>
  <span style="color: #2aa198;">"Copy the current buffer file name to the clipboard."</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">let</span> <span style="color: #268bd2;">(</span><span style="color: #6c71c4;">(</span>filename <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #b58900;">(</span>equal major-mode 'dired-mode<span style="color: #b58900;">)</span>
                      default-directory
                    <span style="color: #b58900;">(</span>buffer-file-name<span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">when</span> filename
      <span style="color: #6c71c4;">(</span>kill-new filename<span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span>message <span style="color: #2aa198;">"Copied buffer file name '%s' to the clipboard."</span> filename<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgffabaa9" class="outline-4">
<h4 id="orgffabaa9"><span class="section-number-4">4.2.4</span> Open File in external app</h4>
<div class="outline-text-4" id="text-4-2-4">
<p>
Here's a command to <a href="http://ergoemacs.org/emacs/emacs_dired_open_file_in_ext_apps.html">open the current file or marked dired files in external
app</a>. (as if you double-clicked the file on desktop) It's useful for image
files, PDF file, video, audio files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">xah-open-in-external-app</span> <span style="color: #b58900;">(</span><span style="color: #b58900;">&amp;optional</span> @fname<span style="color: #b58900;">)</span>
  <span style="color: #2aa198;">"Open the current file or dired marked files in external app.</span>
<span style="color: #2aa198;">The app is chosen from your OS's preference.</span>

<span style="color: #2aa198;">When called in emacs lisp, if @fname is given, open that.</span>

<span style="color: #2aa198;">URL `</span><span style="color: #268bd2; font-weight: bold;">http://ergoemacs.org/emacs/emacs_dired_open_file_in_ext_apps.html</span><span style="color: #2aa198;">'</span>
<span style="color: #2aa198;">Version 2019-01-18"</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">let*</span> <span style="color: #268bd2;">(</span>
         <span style="color: #6c71c4;">(</span>$file-list
          <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">if</span> @fname
              <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">progn</span> <span style="color: #268bd2;">(</span>list @fname<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
            <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">(</span>string-equal major-mode <span style="color: #2aa198;">"dired-mode"</span><span style="color: #268bd2;">)</span>
                <span style="color: #268bd2;">(</span>dired-get-marked-files<span style="color: #268bd2;">)</span>
              <span style="color: #268bd2;">(</span>list <span style="color: #6c71c4;">(</span>buffer-file-name<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
         <span style="color: #6c71c4;">(</span>$do-it-p <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #b58900;">(</span>&lt;= <span style="color: #268bd2;">(</span>length $file-list<span style="color: #268bd2;">)</span> 5<span style="color: #b58900;">)</span>
                       t
                     <span style="color: #b58900;">(</span>y-or-n-p <span style="color: #2aa198;">"Open more than 5 files? "</span><span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">when</span> $do-it-p
      <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">cond</span>
       <span style="color: #859900;">(</span><span style="color: #b58900;">(</span>string-equal system-type <span style="color: #2aa198;">"windows-nt"</span><span style="color: #b58900;">)</span>
        <span style="color: #b58900;">(</span>mapc
         <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #6c71c4;">(</span>$fpath<span style="color: #6c71c4;">)</span>
           <span style="color: #6c71c4;">(</span>w32-shell-execute <span style="color: #2aa198;">"open"</span> <span style="color: #859900;">(</span>replace-regexp-in-string <span style="color: #2aa198;">"/"</span> <span style="color: #2aa198;">"\\"</span> $fpath t t<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span> <span style="color: #D0BF8F; font-weight: bold;">$file-list</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #859900; font-weight: bold;">)</span>
       <span style="color: #859900;">(</span><span style="color: #b58900;">(</span>string-equal system-type <span style="color: #2aa198;">"darwin"</span><span style="color: #b58900;">)</span>
        <span style="color: #b58900;">(</span>mapc
         <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #6c71c4;">(</span>$fpath<span style="color: #6c71c4;">)</span>
           <span style="color: #6c71c4;">(</span>shell-command
            <span style="color: #859900;">(</span>concat <span style="color: #2aa198;">"open "</span> <span style="color: #2aa198;">(</span>shell-quote-argument $fpath<span style="color: #2aa198;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>  <span style="color: #D0BF8F; font-weight: bold;">$file-list</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #859900; font-weight: bold;">)</span>
       <span style="color: #859900;">(</span><span style="color: #b58900;">(</span>string-equal system-type <span style="color: #2aa198;">"gnu/linux"</span><span style="color: #b58900;">)</span>
        <span style="color: #b58900;">(</span>mapc
         <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #6c71c4;">(</span>$fpath<span style="color: #6c71c4;">)</span> <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">let</span> <span style="color: #859900;">(</span><span style="color: #2aa198;">(</span>process-connection-type nil<span style="color: #2aa198;">)</span><span style="color: #859900;">)</span>
                            <span style="color: #859900;">(</span>start-process <span style="color: #2aa198;">""</span> nil <span style="color: #2aa198;">"xdg-open"</span> $fpath<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span> <span style="color: #D0BF8F; font-weight: bold;">$file-list</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #859900; font-weight: bold;">)</span><span style="color: #6c71c4; font-weight: bold;">)</span><span style="color: #268bd2; font-weight: bold;">)</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198; font-weight: bold;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org94fdf8a" class="outline-3">
<h3 id="org94fdf8a"><span class="section-number-3">4.3</span> Navigation</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-org78cd680" class="outline-4">
<h4 id="org78cd680"><span class="section-number-4">4.3.1</span> <code>Projectile</code> - project interaction</h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
The <a href="https://github.com/bbatsov/projectile">Projectile</a> project is a nifty way to run commands and search for files in a
particular "project". All projectile keybindings is placed under <code>C-x p</code>. And,
the most used commands by myself are <code>C-x p p</code> to switch-project, and <code>C-x p f</code>
to find a file and <code>C-x p d</code> to find a directory.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">projectile</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:diminish</span> projectile-mode
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span>projectile-global-mode<span style="color: #b58900;">)</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">caching can speedup file and directory listings</span>
  <span style="color: #93a1a1;">;;</span><span style="color: #93a1a1;">(setq projectile-enable-caching t)</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">projectile cache file location</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> projectile-cache-file <span style="color: #268bd2;">(</span>expand-file-name  <span style="color: #2aa198;">"projectile.cache"</span> user-emacs-savefile-dir<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:commands</span> projectile-ag
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span>define-key projectile-mode-map <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"s-p"</span><span style="color: #268bd2;">)</span> 'projectile-command-map<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>define-key projectile-mode-map <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"C-x p"</span><span style="color: #268bd2;">)</span> 'projectile-command-map<span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> projectile-completion-system 'helm <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">`</span><span style="color: #268bd2; font-weight: bold;">ido</span><span style="color: #93a1a1;">' or `</span><span style="color: #268bd2; font-weight: bold;">helm</span><span style="color: #93a1a1;">' interface?</span>
        projectile-switch-project-action 'projectile-commander
        projectile-create-missing-test-files t<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>add-to-list 'projectile-globally-ignored-files <span style="color: #2aa198;">".DS_Store"</span><span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">def-projectile-commander-method</span> ?d
    <span style="color: #2aa198;">"Open project root in dired."</span>
    <span style="color: #268bd2;">(</span>projectile-dired<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">def-projectile-commander-method</span> ?s
    <span style="color: #2aa198;">"Open a *shell* buffer for the project."</span>
    <span style="color: #268bd2;">(</span>projectile-run-shell<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">def-projectile-commander-method</span> ?c
    <span style="color: #2aa198;">"Run `</span><span style="color: #268bd2; font-weight: bold;">compile</span><span style="color: #2aa198;">' in the project."</span>
    <span style="color: #268bd2;">(</span>projectile-compile-project nil<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">def-projectile-commander-method</span> ?F
    <span style="color: #2aa198;">"Git fetch."</span>
    <span style="color: #268bd2;">(</span>magit-status<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>call-interactively #'magit-fetch-current<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Much of the section came from <a href="http://endlessparentheses.co2m/improving-projectile-with-extra-commands.html">this essay</a>. Read it for config details and usage.
</p>
</div>
</div>

<div id="outline-container-org6e7e405" class="outline-4">
<h4 id="org6e7e405"><span class="section-number-4">4.3.2</span> <code>Dired</code> - directory editor</h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
After <code>dired-x</code> mode turned on. <code>C-x C-j</code> (<code>dired-jump</code>) can jump to the
directory of any current buffer:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">direx</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-x j"</span> . direx:jump-to-directory<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-x C-j"</span> . direx:jump-to-directory<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Tell <code>dired</code> to stop asking me whether I want to recursively delete or copy,
since I never respond to that question with <code>no</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> dired-recursive-copies 'always<span style="color: #2aa198;">)</span>   <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">recursive copies without asking</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> dired-recursive-deletes 'top<span style="color: #2aa198;">)</span>     <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">recursive deletes with asked only once</span>
</pre>
</div>

<p>
Enables <i>Do What I Mean</i> mode for dired: If I'm in a split frame with two dired
buffers, the default target to copy (and rename) will be the other window.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> dired-dwim-target t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> dired-listing-switches <span style="color: #2aa198;">"-alh"</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
This <code>dired-hide-details-mode</code> enhancement to dired hides the ugly details
(owner permission info) until you hit <code>(</code> and shows the details with <code>)</code> hit
again. I want it always on:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>add-hook 'dired-mode-hook <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #268bd2;">()</span> <span style="color: #268bd2;">(</span>dired-hide-details-mode 1<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
I also want dired to automatically revert, but to be quiet about it. The first
line actually enables auto-revert for any buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>global-auto-revert-mode 1<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> global-auto-revert-non-file-buffers t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> auto-revert-verbose nil<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
The ability to create a dired buffer based on searching for files in a
directory tree with <code>find-name-dired</code> is fantastic. The <a href="http://www.masteringemacs.org/articles/2011/03/25/working-multiple-files-dired/">following magic</a>
optimizes this approach:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">find-dired</span>
   <span style="color: #657b83; font-weight: bold;">:ensure</span> t
   <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> find-ls-option '<span style="color: #268bd2;">(</span><span style="color: #2aa198;">"-print0 | xargs -0 ls -od"</span> . <span style="color: #2aa198;">"-od"</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
The <a href="http://pragmaticemacs.com/emacs/quickly-preview-images-and-other-files-with-peep-dired/">peep project</a> allows you to preview files before loading them into a
dedicated buffer:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">peep-dired</span>
  <span style="color: #657b83; font-weight: bold;">:defer</span> t <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">don't access `</span><span style="color: #268bd2; font-weight: bold;">dired-mode-map</span><span style="color: #93a1a1;">' until `</span><span style="color: #268bd2; font-weight: bold;">peep-dired</span><span style="color: #93a1a1;">' is loaded</span>
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #657b83; font-weight: bold;">:map</span> dired-mode-map
              <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"P"</span> . peep-dired<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org68e413e" class="outline-4">
<h4 id="org68e413e"><span class="section-number-4">4.3.3</span> <code>Neotree</code> - tree layout directory explorer</h4>
<div class="outline-text-4" id="text-4-3-3">
<p>
The <a href="https://github.com/jaypei/emacs-neotree">NeoTree</a> project provides a nice tree layout file explorer, and it gives an
<i>ide-like</i> look and feel.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">neotree</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:defer</span> t
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #2aa198;">"C-x t n"</span> . neotree-toggle<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> projectile-switch-project-action 'neotree-projectile-action<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> neo-show-hidden-files t<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> neo-smart-open t<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">[</span>f2<span style="color: #b58900;">]</span> 'neotree-toggle<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">[</span>f8<span style="color: #b58900;">]</span> 'neotree-toggle<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9bdd904" class="outline-4">
<h4 id="org9bdd904"><span class="section-number-4">4.3.4</span> <code>Winner</code> - undo and redo window configuration</h4>
<div class="outline-text-4" id="text-4-3-4">
<p>
Change window configuration and then return to the old configuration with
<a href="http://www.emacswiki.org/emacs/WinnerMode">winner-mode</a>. Use <code>Control-C Arrow</code> keys to cycle through window/frame
configurations. This is handy when something has popped up a buffer that you
want to look at briefly before returning to whatever you were working on. When
you're done, press <code>C-c &lt;left&gt;</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>winner-mode 1<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6340f4f" class="outline-4">
<h4 id="org6340f4f"><span class="section-number-4">4.3.5</span> <code>Windmove</code> - switch between windows</h4>
<div class="outline-text-4" id="text-4-3-5">
<p>
<code>Windmove</code> lets you move between windows with something more natural than
cycling through <code>C-x o</code> (<code>other-window</code>).
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">windmove</span>
  <span style="color: #657b83; font-weight: bold;">:bind</span>
  <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"s-&lt;right&gt;"</span> . windmove-right<span style="color: #268bd2;">)</span>
   <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"s-&lt;left&gt;"</span> . windmove-left<span style="color: #268bd2;">)</span>
   <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"s-&lt;up&gt;"</span> . windmove-up<span style="color: #268bd2;">)</span>
   <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"s-&lt;down&gt;"</span> . windmove-down<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org422b4f9" class="outline-4">
<h4 id="org422b4f9"><span class="section-number-4">4.3.6</span> <code>Buffer-move</code> - move or swap buffer to other window</h4>
<div class="outline-text-4" id="text-4-3-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">buffer-move</span>
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"&lt;C-s-up&gt;"</span><span style="color: #268bd2;">)</span>     'buf-move-up<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"&lt;C-s-down&gt;"</span><span style="color: #268bd2;">)</span>   'buf-move-down<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"&lt;C-s-left&gt;"</span><span style="color: #268bd2;">)</span>   'buf-move-left<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"&lt;C-s-right&gt;"</span><span style="color: #268bd2;">)</span>  'buf-move-right<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8d03c67" class="outline-4">
<h4 id="org8d03c67"><span class="section-number-4">4.3.7</span> <code>C-x o</code> : Moving to another window</h4>
<div class="outline-text-4" id="text-4-3-7">
<p>
A visual replacement for <code>C-x o</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">switch-window</span>
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-x o"</span> . switch-window<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9a446a4" class="outline-4">
<h4 id="org9a446a4"><span class="section-number-4">4.3.8</span> <code>C-x k</code> : Quick kill buffer</h4>
<div class="outline-text-4" id="text-4-3-8">
<p>
I rarely want to kill any buffer but the one I'm looking at. And, I usually
want to kill buffers even if modified unconditionally. <a href="https://stackoverflow.com/questions/6467002/how-to-kill-buffer-in-emacs-without-answering-confirmation">Code from this
discussion</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">kill-this-buffer-volatile</span> <span style="color: #b58900;">()</span>
    <span style="color: #2aa198;">"Kill current buffer unconditionally, even if it has been modified."</span>
    <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
    <span style="color: #b58900;">(</span>set-buffer-modified-p nil<span style="color: #b58900;">)</span>
    <span style="color: #b58900;">(</span>kill-this-buffer<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Kill the current visible buffer without confirmation unless the buffer has</span>
<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">been modified. In this last case, you have to answer y/n.</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x k"</span><span style="color: #b58900;">)</span> 'kill-this-buffer<span style="color: #2aa198;">)</span>
<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Unconditionally kill unmodified buffers.</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x K"</span><span style="color: #b58900;">)</span> 'kill-this-buffer-volatile<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd3ada68" class="outline-4">
<h4 id="orgd3ada68"><span class="section-number-4">4.3.9</span> <code>Avy</code> - fast cursor movement</h4>
<div class="outline-text-4" id="text-4-3-9">
<p>
<a href="https://github.com/abo-abo/avy">Avy</a> enable fast cursor movement to visible text using a char-based decision
tree. <b>Avy is fast!</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">avy</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> avy-background t<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"s-;"</span><span style="color: #268bd2;">)</span> 'avy-goto-line<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"s-l"</span><span style="color: #268bd2;">)</span> 'avy-goto-line<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"s-."</span><span style="color: #268bd2;">)</span> 'avy-goto-char-timer<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"s-j"</span><span style="color: #268bd2;">)</span> 'avy-goto-char-timer<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"s-,"</span><span style="color: #268bd2;">)</span> 'avy-pop-mark<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"s-J"</span><span style="color: #268bd2;">)</span> 'avy-pop-mark<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org9d9483e" class="outline-4">
<h4 id="org9d9483e"><span class="section-number-4">4.3.10</span> <code>C-a</code> : Smart beginning of line</h4>
<div class="outline-text-4" id="text-4-3-10">
<p>
This <a href="http://emacsredux.com/blog/2013/05/22/smarter-navigation-to-the-beginning-of-a-line/">Emacs Redux article</a> has a great suggestion for having <code>C-a</code> go to the
beginning of the line's content instead of the actual beginning of the line.
Hit <code>C-a</code> a second to get to the actual beginning.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">my/smarter-move-beginning-of-line</span> <span style="color: #b58900;">(</span>arg<span style="color: #b58900;">)</span>
  <span style="color: #2aa198;">"Move point back to indentation of beginning of line.</span>

<span style="color: #2aa198;">Move point to the first non-whitespace character on this line.</span>
<span style="color: #2aa198;">If point is already there, move to the beginning of the line.</span>
<span style="color: #2aa198;">Effectively toggle between the first non-whitespace character and</span>
<span style="color: #2aa198;">the beginning of the line.</span>

<span style="color: #2aa198;">If ARG is not nil or 1, move forward ARG - 1 lines first.  If</span>
<span style="color: #2aa198;">point reaches the beginning or end of the buffer, stop there."</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span> <span style="color: #2aa198;">"^p"</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> arg <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">or</span> arg 1<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Move lines first</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">when</span> <span style="color: #268bd2;">(</span>/= arg 1<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">let</span> <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>line-move-visual nil<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span>forward-line <span style="color: #859900;">(</span>1- arg<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">let</span> <span style="color: #268bd2;">(</span><span style="color: #6c71c4;">(</span>orig-point <span style="color: #859900;">(</span>point<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>back-to-indentation<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">when</span> <span style="color: #6c71c4;">(</span>= orig-point <span style="color: #859900;">(</span>point<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span>move-beginning-of-line 1<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">remap C-a to `</span><span style="color: #268bd2; font-weight: bold;">smarter-move-beginning-of-line</span><span style="color: #93a1a1;">'</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">[</span>remap move-beginning-of-line<span style="color: #b58900;">]</span>
                'my/smarter-move-beginning-of-line<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga198700" class="outline-4">
<h4 id="orga198700"><span class="section-number-4">4.3.11</span> <code>C-w</code> and <code>M-w</code> : Smart cut and copy</h4>
<div class="outline-text-4" id="text-4-3-11">
<p>
Here's a <a href="http://ergoemacs.org/emacs/emacs_copy_cut_current_line.html">function</a> to cut current line if there's no text selection:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">xah-cut-line-or-region</span> <span style="color: #b58900;">()</span>
  <span style="color: #2aa198;">"Cut current line, or text selection.</span>
<span style="color: #2aa198;">When `</span><span style="color: #268bd2; font-weight: bold;">universal-argument</span><span style="color: #2aa198;">' is called first, cut whole buffer (respects `</span><span style="color: #268bd2; font-weight: bold;">narrow-to-region</span><span style="color: #2aa198;">').</span>

<span style="color: #2aa198;">URL `</span><span style="color: #268bd2; font-weight: bold;">http://ergoemacs.org/emacs/emacs_copy_cut_current_line.html</span><span style="color: #2aa198;">'</span>
<span style="color: #2aa198;">Version 2015-06-10"</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">if</span> current-prefix-arg
      <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">progn</span> <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">not using kill-region because we don't want to include previous kill</span>
        <span style="color: #6c71c4;">(</span>kill-new <span style="color: #859900;">(</span>buffer-string<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
        <span style="color: #6c71c4;">(</span>delete-region <span style="color: #859900;">(</span>point-min<span style="color: #859900;">)</span> <span style="color: #859900;">(</span>point-max<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">progn</span> <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #859900;">(</span>use-region-p<span style="color: #859900;">)</span>
               <span style="color: #859900;">(</span>kill-region <span style="color: #b58900;">(</span>region-beginning<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>region-end<span style="color: #b58900;">)</span> t<span style="color: #859900;">)</span>
             <span style="color: #859900;">(</span>kill-region <span style="color: #b58900;">(</span>line-beginning-position<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>line-beginning-position 2<span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-w"</span><span style="color: #b58900;">)</span> 'xah-cut-line-or-region<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Here is a <a href="http://ergoemacs.org/emacs/emacs_copy_cut_current_line.html">function</a> copy current line if there is no text selection. If called
again, it'll append-copy next line. So you can press a key repeatedly to keep
copying lines.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">xah-copy-line-or-region</span> <span style="color: #b58900;">()</span>
  <span style="color: #2aa198;">"Copy current line, or text selection.</span>
<span style="color: #2aa198;">When called repeatedly, append copy subsequent lines.</span>
<span style="color: #2aa198;">When `</span><span style="color: #268bd2; font-weight: bold;">universal-argument</span><span style="color: #2aa198;">' is called first, copy whole buffer (respects `</span><span style="color: #268bd2; font-weight: bold;">narrow-to-region</span><span style="color: #2aa198;">').</span>

<span style="color: #2aa198;">URL `</span><span style="color: #268bd2; font-weight: bold;">http://ergoemacs.org/emacs/emacs_copy_cut_current_line.html</span><span style="color: #2aa198;">'</span>
<span style="color: #2aa198;">Version 2018-09-10"</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">if</span> current-prefix-arg
      <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
        <span style="color: #6c71c4;">(</span>copy-region-as-kill <span style="color: #859900;">(</span>point-min<span style="color: #859900;">)</span> <span style="color: #859900;">(</span>point-max<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #6c71c4;">(</span>use-region-p<span style="color: #6c71c4;">)</span>
        <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
          <span style="color: #859900;">(</span>copy-region-as-kill <span style="color: #b58900;">(</span>region-beginning<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>region-end<span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #859900;">(</span>eq last-command this-command<span style="color: #859900;">)</span>
          <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #b58900;">(</span>eobp<span style="color: #b58900;">)</span>
              <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">progn</span> <span style="color: #b58900;">)</span>
            <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
              <span style="color: #268bd2;">(</span>kill-append <span style="color: #2aa198;">"\n"</span> nil<span style="color: #268bd2;">)</span>
              <span style="color: #268bd2;">(</span>kill-append
               <span style="color: #6c71c4;">(</span>buffer-substring-no-properties <span style="color: #859900;">(</span>line-beginning-position<span style="color: #859900;">)</span> <span style="color: #859900;">(</span>line-end-position<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
               nil<span style="color: #268bd2;">)</span>
              <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
                <span style="color: #6c71c4;">(</span>end-of-line<span style="color: #6c71c4;">)</span>
                <span style="color: #6c71c4;">(</span>forward-char<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #859900;">)</span>
        <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #b58900;">(</span>eobp<span style="color: #b58900;">)</span>
            <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">(</span>eq <span style="color: #6c71c4;">(</span>char-before<span style="color: #6c71c4;">)</span> 10 <span style="color: #268bd2;">)</span>
                <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">progn</span> <span style="color: #268bd2;">)</span>
              <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
                <span style="color: #6c71c4;">(</span>copy-region-as-kill <span style="color: #859900;">(</span>line-beginning-position<span style="color: #859900;">)</span> <span style="color: #859900;">(</span>line-end-position<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
                <span style="color: #6c71c4;">(</span>end-of-line<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
          <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
            <span style="color: #268bd2;">(</span>copy-region-as-kill <span style="color: #6c71c4;">(</span>line-beginning-position<span style="color: #6c71c4;">)</span> <span style="color: #6c71c4;">(</span>line-end-position<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
            <span style="color: #268bd2;">(</span>end-of-line<span style="color: #268bd2;">)</span>
            <span style="color: #268bd2;">(</span>forward-char<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"M-w"</span><span style="color: #b58900;">)</span> 'xah-copy-line-or-region<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"M-["</span><span style="color: #b58900;">)</span> 'xah-copy-line-or-region<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org8f3cf79" class="outline-4">
<h4 id="org8f3cf79"><span class="section-number-4">4.3.12</span> <code>M-\</code> : Smart delete whitespaces around cursor</h4>
<div class="outline-text-4" id="text-4-3-12">
<p>
Here's a function combine most of the <a href="http://ergoemacs.org/emacs/emacs_shrink_whitespace.html">deleting whitespaces around cursor command into
single one</a>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">xah-delete-blank-lines</span> <span style="color: #b58900;">()</span>
  <span style="color: #2aa198;">"Delete all newline around cursor.</span>

<span style="color: #2aa198;">URL `</span><span style="color: #268bd2; font-weight: bold;">http://ergoemacs.org/emacs/emacs_shrink_whitespace.html</span><span style="color: #2aa198;">'</span>
<span style="color: #2aa198;">Version 2018-04-02"</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">let</span> <span style="color: #268bd2;">(</span>$p3 $p4<span style="color: #268bd2;">)</span>
          <span style="color: #268bd2;">(</span>skip-chars-backward <span style="color: #2aa198;">"\n"</span><span style="color: #268bd2;">)</span>
          <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> $p3 <span style="color: #6c71c4;">(</span>point<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
          <span style="color: #268bd2;">(</span>skip-chars-forward <span style="color: #2aa198;">"\n"</span><span style="color: #268bd2;">)</span>
          <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> $p4 <span style="color: #6c71c4;">(</span>point<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
          <span style="color: #268bd2;">(</span>delete-region $p3 $p4<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">xah-shrink-whitespaces</span> <span style="color: #b58900;">()</span>
  <span style="color: #2aa198;">"Remove whitespaces around cursor to just one, or none.</span>

<span style="color: #2aa198;">Shrink any neighboring space tab newline characters to 1 or none.</span>
<span style="color: #2aa198;">If cursor neighbor has space/tab, toggle between 1 or 0 space.</span>
<span style="color: #2aa198;">If cursor neighbor are newline, shrink them to just 1.</span>
<span style="color: #2aa198;">If already has just 1 whitespace, delete it.</span>

<span style="color: #2aa198;">URL `</span><span style="color: #268bd2; font-weight: bold;">http://ergoemacs.org/emacs/emacs_shrink_whitespace.html</span><span style="color: #2aa198;">'</span>
<span style="color: #2aa198;">Version 2018-04-02T14:38:04-07:00"</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">let*</span> <span style="color: #268bd2;">(</span>
         <span style="color: #6c71c4;">(</span>$eol-count 0<span style="color: #6c71c4;">)</span>
         <span style="color: #6c71c4;">(</span>$p0 <span style="color: #859900;">(</span>point<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
         $p1 <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">whitespace begin</span>
         $p2 <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">whitespace end</span>
         <span style="color: #6c71c4;">(</span>$charBefore <span style="color: #859900;">(</span>char-before<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
         <span style="color: #6c71c4;">(</span>$charAfter <span style="color: #859900;">(</span>char-after <span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
         <span style="color: #6c71c4;">(</span>$space-neighbor-p <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">or</span> <span style="color: #b58900;">(</span>eq $charBefore 32<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>eq $charBefore 9<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>eq $charAfter 32<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>eq $charAfter 9<span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
         $just-1-space-p
         <span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>skip-chars-backward <span style="color: #2aa198;">" \n\t"</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> $p1 <span style="color: #6c71c4;">(</span>point<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>goto-char $p0<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>skip-chars-forward <span style="color: #2aa198;">" \n\t"</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> $p2 <span style="color: #6c71c4;">(</span>point<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>goto-char $p1<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">while</span> <span style="color: #6c71c4;">(</span>search-forward <span style="color: #2aa198;">"\n"</span> $p2 t <span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">setq</span> $eol-count <span style="color: #859900;">(</span>1+ $eol-count<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> $just-1-space-p <span style="color: #6c71c4;">(</span>eq <span style="color: #859900;">(</span>- $p2 $p1<span style="color: #859900;">)</span> 1<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>goto-char $p0<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">cond</span>
     <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>eq $eol-count 0<span style="color: #859900;">)</span>
      <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">if</span> $just-1-space-p
          <span style="color: #b58900;">(</span>delete-horizontal-space<span style="color: #b58900;">)</span>
        <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">progn</span> <span style="color: #268bd2;">(</span>delete-horizontal-space<span style="color: #268bd2;">)</span>
               <span style="color: #268bd2;">(</span>insert <span style="color: #2aa198;">" "</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
     <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>eq $eol-count 1<span style="color: #859900;">)</span>
      <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">if</span> $space-neighbor-p
          <span style="color: #b58900;">(</span>delete-horizontal-space<span style="color: #b58900;">)</span>
        <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">progn</span> <span style="color: #268bd2;">(</span>xah-delete-blank-lines<span style="color: #268bd2;">)</span> <span style="color: #268bd2;">(</span>insert <span style="color: #2aa198;">" "</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
     <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>eq $eol-count 2<span style="color: #859900;">)</span>
      <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">if</span> $space-neighbor-p
          <span style="color: #b58900;">(</span>delete-horizontal-space<span style="color: #b58900;">)</span>
        <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
          <span style="color: #268bd2;">(</span>xah-delete-blank-lines<span style="color: #268bd2;">)</span>
          <span style="color: #268bd2;">(</span>insert <span style="color: #2aa198;">"\n"</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
     <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>&gt; $eol-count 2<span style="color: #859900;">)</span>
      <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">if</span> $space-neighbor-p
          <span style="color: #b58900;">(</span>delete-horizontal-space<span style="color: #b58900;">)</span>
        <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
          <span style="color: #268bd2;">(</span>goto-char $p2<span style="color: #268bd2;">)</span>
          <span style="color: #268bd2;">(</span>search-backward <span style="color: #2aa198;">"\n"</span> <span style="color: #268bd2;">)</span>
          <span style="color: #268bd2;">(</span>delete-region $p1 <span style="color: #6c71c4;">(</span>point<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
          <span style="color: #268bd2;">(</span>insert <span style="color: #2aa198;">"\n"</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
     <span style="color: #6c71c4;">(</span>t <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
          <span style="color: #b58900;">(</span>message <span style="color: #2aa198;">"nothing done. logic error 40873. shouldn't reach here"</span> <span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"M-\\"</span><span style="color: #b58900;">)</span> 'xah-shrink-whitespaces<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc79d817" class="outline-4">
<h4 id="orgc79d817"><span class="section-number-4">4.3.13</span> <code>C-k</code> : Smart kill entire lines</h4>
<div class="outline-text-4" id="text-4-3-13">
<p>
According to <a href="http://endlessparentheses.com/kill-entire-line-with-prefix-argument.html">this article</a>, killing arbitrary number of lines of text can be done
with two keystrokes.
</p>

<p>
This creates a macro that moves to the beginning of the line and then calls a
function given to it. Quite an interesting approach:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defmacro</span> <span style="color: #268bd2;">bol-with-prefix</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">function</span><span style="color: #b58900;">)</span>
  <span style="color: #2aa198;">"Define a new function which calls FUNCTION.</span>
<span style="color: #2aa198;">Except it moves to beginning of line before calling FUNCTION when</span>
<span style="color: #2aa198;">called with a prefix argument. The FUNCTION still receives the</span>
<span style="color: #2aa198;">prefix argument."</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">let</span> <span style="color: #268bd2;">(</span><span style="color: #6c71c4;">(</span>name <span style="color: #859900;">(</span>intern <span style="color: #b58900;">(</span>format <span style="color: #2aa198;">"endless/%s-BOL"</span> function<span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    `<span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
       <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">defun</span> ,name <span style="color: #859900;">(</span>p<span style="color: #859900;">)</span>
         ,<span style="color: #859900;">(</span>format
           <span style="color: #2aa198;">"Call `</span><span style="color: #268bd2; font-weight: bold;">%s</span><span style="color: #2aa198;">', but move to the beginning of the line when called with a prefix argument."</span>
           function<span style="color: #859900;">)</span>
         <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span> <span style="color: #2aa198;">"P"</span><span style="color: #859900;">)</span>
         <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">when</span> p
           <span style="color: #b58900;">(</span>forward-line 0<span style="color: #b58900;">)</span><span style="color: #859900;">)</span>
         <span style="color: #859900;">(</span>call-interactively ',function<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
       ',name<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
And we re-bind them to functions that use them.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">[</span>remap paredit-kill<span style="color: #b58900;">]</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">bol-with-prefix</span> paredit-kill<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">[</span>remap sp-kill-hybrid-sexp<span style="color: #b58900;">]</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">bol-with-prefix</span> sp-kill-hybrid-sexp<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">[</span>remap org-kill-line<span style="color: #b58900;">]</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">bol-with-prefix</span> org-kill-line<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">[</span>remap kill-line<span style="color: #b58900;">]</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">bol-with-prefix</span> kill-line<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-k"</span><span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">bol-with-prefix</span> kill-line<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
With this little macro, <code>C-k</code> still kills from point, but <code>C-7 C-k</code> swallows
seven whole line. As a bonus, we get the <code>kill-whole-line</code> (<code>C-S-backspace</code>)
behavior by doing <code>C-1 C-k</code> (I prefer <code>M-1</code> to <code>C-1</code> for easy stroke.).
</p>
</div>
</div>

<div id="outline-container-orgbf96a8f" class="outline-4">
<h4 id="orgbf96a8f"><span class="section-number-4">4.3.14</span> <code>Expand-region</code> - Smart region selection</h4>
<div class="outline-text-4" id="text-4-3-14">
<p>
Wherever you are in a file, and whatever the type of file, you can
slowly increase a region selection by logical segments by using the
<a href="https://github.com/magnars/expand-region.el">expand-region</a> project.
</p>

<p>
However, the normal experience for <code>expand-region</code> is interactive, expected to
be called repeatedly to expand and contract the regions based on syntax, and
whatnot. Since I am seldom sure what I will select if I give this function a
numeric prefix, I created a wrapper function that will (when given a number),
just select the number of lines for the region. Select the current line with a
0 argument. No argument (well, <code>lines</code> is given 1 with no argument), then it
just calls original <code>expand-region</code> (Taken from <a href="https://github.com/howardabrams/dot-files/blob/master/emacs.org">here</a>):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">expand-region</span>  
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:defer</span> t
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">ha/expand-region</span> <span style="color: #268bd2;">(</span>lines<span style="color: #268bd2;">)</span>
    <span style="color: #2aa198;">"Prefix-oriented wrapper around Magnar's `</span><span style="color: #268bd2; font-weight: bold;">er/expand-region</span><span style="color: #2aa198;">'.</span>

<span style="color: #2aa198;">Call with LINES equal to 1 (given no prefix), it expands the</span>
<span style="color: #2aa198;">region as normal.  When LINES given a positive number, selects</span>
<span style="color: #2aa198;">the current line and number of lines specified.  When LINES is a</span>
<span style="color: #2aa198;">negative number, selects the current line and the previous lines</span>
<span style="color: #2aa198;">specified.  Select the current line if the LINES prefix is zero."</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">interactive</span> <span style="color: #2aa198;">"p"</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">cond</span> <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>= lines 1<span style="color: #859900;">)</span>   <span style="color: #859900;">(</span>er/expand-region 1<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
          <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>&lt; lines 0<span style="color: #859900;">)</span>   <span style="color: #859900;">(</span>ha/expand-previous-line-as-region lines<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
          <span style="color: #6c71c4;">(</span>t             <span style="color: #859900;">(</span>ha/expand-next-line-as-region <span style="color: #b58900;">(</span>1+ lines<span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">ha/expand-next-line-as-region</span> <span style="color: #268bd2;">(</span>lines<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>message <span style="color: #2aa198;">"lines = %d"</span> lines<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>beginning-of-line<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>set-mark <span style="color: #6c71c4;">(</span>point<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>end-of-line lines<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">ha/expand-previous-line-as-region</span> <span style="color: #268bd2;">(</span>lines<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>end-of-line<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>set-mark <span style="color: #6c71c4;">(</span>point<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>beginning-of-line <span style="color: #6c71c4;">(</span>1+ lines<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-="</span> . ha/expand-region<span style="color: #268bd2;">)</span>     <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">wrapped version of `</span><span style="color: #268bd2; font-weight: bold;">er/expand-region</span><span style="color: #93a1a1;">'</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C--"</span> . er/contract-region<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
I chose <code>C-0</code> instead of <code>C-1</code> as the prefix argument to select the current
line, because It's easier to stroke <code>C-0</code> than <code>C-1</code>.
</p>

<p>
Give it a try, and you will know what it will do quickly.
</p>
</div>
</div>

<div id="outline-container-org5f3d68f" class="outline-4">
<h4 id="org5f3d68f"><span class="section-number-4">4.3.15</span> <code>Fancy-narrow</code> - Smart narrowing</h4>
<div class="outline-text-4" id="text-4-3-15">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Narrowing.html#Narrowing">Narrowing</a> is one of the fascinating features in Emacs, great for code-reviews
and other presentations. It works well but still can be better.
</p>

<p>
This <a href="http://endlessparentheses.com/emacs-narrow-or-widen-dwim.html">nifty function</a> is a nice replacement for many other narrowing keybindings
that I use, it is smart (<i>do what I mean</i>):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">narrow-or-widen-dwim</span> <span style="color: #b58900;">(</span>p<span style="color: #b58900;">)</span>
  <span style="color: #2aa198;">"If the buffer is narrowed, it widens. Otherwise, it narrows intelligently.</span>
<span style="color: #2aa198;">   Intelligently means: region, subtree, or defun, whichever</span>
<span style="color: #2aa198;">   applies first.</span>

<span style="color: #2aa198;">   With prefix P, don't widen, just narrow even if buffer is</span>
<span style="color: #2aa198;">   already narrowed."</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span> <span style="color: #2aa198;">"P"</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">declare</span> <span style="color: #268bd2;">(</span>interactive-only<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">cond</span> <span style="color: #268bd2;">(</span><span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">and</span> <span style="color: #859900;">(</span>buffer-narrowed-p<span style="color: #859900;">)</span> <span style="color: #859900;">(</span>not p<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span> <span style="color: #6c71c4;">(</span>widen<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
        <span style="color: #268bd2;">(</span><span style="color: #6c71c4;">(</span>region-active-p<span style="color: #6c71c4;">)</span>
         <span style="color: #6c71c4;">(</span>narrow-to-region <span style="color: #859900;">(</span>region-beginning<span style="color: #859900;">)</span> <span style="color: #859900;">(</span>region-end<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
        <span style="color: #268bd2;">(</span><span style="color: #6c71c4;">(</span>derived-mode-p 'org-mode<span style="color: #6c71c4;">)</span> <span style="color: #6c71c4;">(</span>org-narrow-to-subtree<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
        <span style="color: #268bd2;">(</span>t <span style="color: #6c71c4;">(</span>narrow-to-defun<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x n x"</span><span style="color: #b58900;">)</span> 'narrow-or-widen-dwim<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Unlike <code>narrow-to-region</code>, which completely hides text outside the narrowed
region, this <a href="https://github.com/Bruce-Connor/fancy-narrow">fancy-narrow</a> package simply deemphasizes the text, makes it
readonly, and makes it unreachable (hightlight instead of narrow). With this
<code>fancy-narrow</code> package, we can define a smart <code>hightlight-section</code> function
with <i>prefix argument</i>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">fancy-narrow</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">ha/highlight-block</span> <span style="color: #268bd2;">()</span>
    <span style="color: #2aa198;">"Highlights a 'block' in a buffer defined by the first blank</span>
<span style="color: #2aa198;">     line before and after the current cursor position. Uses the</span>
<span style="color: #2aa198;">     'fancy-narrow' mode to high-light the block."</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">let</span> <span style="color: #6c71c4;">(</span>cur beg end<span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">setq</span> cur <span style="color: #859900;">(</span>point<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">setq</span> end <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">or</span> <span style="color: #b58900;">(</span>re-search-forward  <span style="color: #2aa198;">"^\s*$"</span> nil t<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>point-max<span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span>goto-char cur<span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">setq</span> beg <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">or</span> <span style="color: #b58900;">(</span>re-search-backward <span style="color: #2aa198;">"^\s*$"</span> nil t<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>point-min<span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span>fancy-narrow-to-region beg end<span style="color: #6c71c4;">)</span>
      <span style="color: #6c71c4;">(</span>goto-char cur<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">ha/highlight-section</span> <span style="color: #268bd2;">(</span>num<span style="color: #268bd2;">)</span>
    <span style="color: #2aa198;">"If some of the buffer is highlighted with the `</span><span style="color: #268bd2; font-weight: bold;">fancy-narrow</span><span style="color: #2aa198;">'</span>
<span style="color: #2aa198;">     mode, then un-highlight it by calling `</span><span style="color: #268bd2; font-weight: bold;">fancy-widen</span><span style="color: #2aa198;">'.</span>

<span style="color: #2aa198;">     If region is active, call `</span><span style="color: #268bd2; font-weight: bold;">fancy-narrow-to-region</span><span style="color: #2aa198;">'.</span>

<span style="color: #2aa198;">     If NUM is 0, highlight the current block (delimited by blank</span>
<span style="color: #2aa198;">     lines). If NUM is positive or negative, highlight that number</span>
<span style="color: #2aa198;">     of lines.  Otherwise, called `</span><span style="color: #268bd2; font-weight: bold;">fancy-narrow-to-defun</span><span style="color: #2aa198;">', to</span>
<span style="color: #2aa198;">     highlight current function."</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">interactive</span> <span style="color: #2aa198;">"p"</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">cond</span>
     <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>fancy-narrow-active-p<span style="color: #859900;">)</span>  <span style="color: #859900;">(</span>fancy-widen<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
     <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>region-active-p<span style="color: #859900;">)</span>        <span style="color: #859900;">(</span>fancy-narrow-to-region <span style="color: #b58900;">(</span>region-beginning<span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span>region-end<span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
     <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>= num 0<span style="color: #859900;">)</span>                <span style="color: #859900;">(</span>ha/highlight-block<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
     <span style="color: #6c71c4;">(</span><span style="color: #859900;">(</span>= num 1<span style="color: #859900;">)</span>                <span style="color: #859900;">(</span>fancy-narrow-to-defun<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span>
     <span style="color: #6c71c4;">(</span>t                        <span style="color: #859900;">(</span><span style="color: #859900; font-weight: bold;">progn</span> <span style="color: #b58900;">(</span>ha/expand-region num<span style="color: #b58900;">)</span>
                                      <span style="color: #b58900;">(</span>fancy-narrow-to-region <span style="color: #268bd2;">(</span>region-beginning<span style="color: #268bd2;">)</span> <span style="color: #268bd2;">(</span>region-end<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
                                      <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> mark-active nil<span style="color: #b58900;">)</span><span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-x n ."</span> . ha/highlight-section<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">:bind (("C-M-+" . ha/highlight-section)</span>
  <span style="color: #93a1a1;">;;        </span><span style="color: #93a1a1;">("C-&lt;f12&gt;" . ha/highlight-section)))</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">(use-package fancy-narrow</span>
<span style="color: #93a1a1;">;;   </span><span style="color: #93a1a1;">:ensure t</span>
<span style="color: #93a1a1;">;;   </span><span style="color: #93a1a1;">:config</span>
<span style="color: #93a1a1;">;;   </span><span style="color: #93a1a1;">(defun ha/highlight-block ()</span>
<span style="color: #93a1a1;">;;     </span><span style="color: #93a1a1;">"Highlights a 'block' in a buffer defined by the first blank</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">line before and after the current cursor position. Uses the</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">`</span><span style="color: #268bd2; font-weight: bold;">fancy-narrow</span><span style="color: #93a1a1;">' mode to high-light the block."</span>
<span style="color: #93a1a1;">;;     </span><span style="color: #93a1a1;">(interactive)</span>
<span style="color: #93a1a1;">;;     </span><span style="color: #93a1a1;">(let (cur beg end)</span>
<span style="color: #93a1a1;">;;       </span><span style="color: #93a1a1;">(setq cur (point))</span>
<span style="color: #93a1a1;">;;       </span><span style="color: #93a1a1;">(setq end (or (re-search-forward  "^\s*$" nil t) (point-max)))</span>
<span style="color: #93a1a1;">;;       </span><span style="color: #93a1a1;">(goto-char cur)</span>
<span style="color: #93a1a1;">;;       </span><span style="color: #93a1a1;">(setq beg (or (re-search-backward "^\s*$" nil t) (point-min)))</span>
<span style="color: #93a1a1;">;;       </span><span style="color: #93a1a1;">(fancy-narrow-to-region beg end)</span>
<span style="color: #93a1a1;">;;       </span><span style="color: #93a1a1;">(goto-char cur)))</span>

<span style="color: #93a1a1;">;;   </span><span style="color: #93a1a1;">(defun ha/highlight-section (num)</span>
<span style="color: #93a1a1;">;;     </span><span style="color: #93a1a1;">"If some of the buffer is highlighted with the `</span><span style="color: #268bd2; font-weight: bold;">fancy-narrow</span><span style="color: #93a1a1;">'</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">mode, then un-highlight it by calling `</span><span style="color: #268bd2; font-weight: bold;">fancy-widen</span><span style="color: #93a1a1;">'.</span>

<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">If region is active, call `</span><span style="color: #268bd2; font-weight: bold;">fancy-narrow-to-region</span><span style="color: #93a1a1;">'.</span>

<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">If NUM is 0, call `</span><span style="color: #268bd2; font-weight: bold;">fancy-narrow-to-defun</span><span style="color: #93a1a1;">', to highlight</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">current function. If NUM is 1, highlight the current</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">block (delimited by blank lines). Otherwise, highlight that</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">number of lines."</span>
<span style="color: #93a1a1;">;;     </span><span style="color: #93a1a1;">(interactive "p")</span>
<span style="color: #93a1a1;">;;     </span><span style="color: #93a1a1;">(cond</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">((fancy-narrow-active-p)  (fancy-widen))</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">((region-active-p)        (fancy-narrow-to-region (region-beginning) (region-end)))</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">((= num 0)                (fancy-narrow-to-defun))</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">((= num 1)                (ha/highlight-block))</span>
<span style="color: #93a1a1;">;;      </span><span style="color: #93a1a1;">(t                        (progn (er/expand-region num) ; depend on `</span><span style="color: #268bd2; font-weight: bold;">er/expand-region</span><span style="color: #93a1a1;">'</span>
<span style="color: #93a1a1;">;;                                       </span><span style="color: #93a1a1;">(fancy-narrow-to-region (region-beginning) (region-end))</span>
<span style="color: #93a1a1;">;;                                       </span><span style="color: #93a1a1;">(setq mark-active nil)))))</span>

<span style="color: #93a1a1;">;;   </span><span style="color: #93a1a1;">;; highlight-section is smart enough</span>
<span style="color: #93a1a1;">;;   </span><span style="color: #93a1a1;">:bind (("C-x n ." . ha/highlight-section)))</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7c396c9" class="outline-4">
<h4 id="org7c396c9"><span class="section-number-4">4.3.16</span> <code>M-;</code> : Smart Comment</h4>
<div class="outline-text-4" id="text-4-3-16">
<p>
The <a href="https://github.com/paldepind/smart-comment">smart-comment</a> project has the nice feature of commenting a line without
being at the beginning of the line <code>M-;</code> (default comment in the middle of the
line is to split it). Also has the ability (with the <code>C-u</code> prefix) to mark
comments as things to be deleted.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">smart-comment</span>
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #2aa198;">"M-;"</span> . smart-comment<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgeee432d" class="outline-4">
<h4 id="orgeee432d"><span class="section-number-4">4.3.17</span> <code>M-p</code> and <code>M-n</code> : Smart Scan</h4>
<div class="outline-text-4" id="text-4-3-17">
<p>
Use the <code>M-n</code> to search the buffer for the word the cursor is currently
pointing. <code>M-p</code> to go backwards. See <a href="http://www.masteringemacs.org/articles/2011/01/14/effective-editing-movement/">this essay</a> for details.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">smartscan</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:bind</span>
  <span style="color: #b58900;">(</span><span style="color: #2aa198;">"M-n"</span> . smartscan-symbol-go-forward<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #2aa198;">"M-p"</span> . smartscan-symbol-go-backward<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd6c1e31" class="outline-4">
<h4 id="orgd6c1e31"><span class="section-number-4">4.3.18</span> Better Searching and Visual Regular Expressions</h4>
<div class="outline-text-4" id="text-4-3-18">
<p>
Searching is quite good in Emacs. Let's add a few extra keys:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">bind-keys</span> <span style="color: #657b83; font-weight: bold;">:map</span> isearch-mode-map
           <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">("&lt;left&gt;"  . isearch-repeat-backward)</span>
           <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">("&lt;right&gt;" . isearch-repeat-forward)</span>
           <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">("&lt;up&gt;"    . isearch-ring-retreat)</span>
           <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">("&lt;down&gt;"  . isearch-ring-advance)</span>
           <span style="color: #b58900;">(</span><span style="color: #2aa198;">"C-p"</span>     . isearch-ring-retreat<span style="color: #b58900;">)</span>
           <span style="color: #b58900;">(</span><span style="color: #2aa198;">"C-n"</span>     . isearch-ring-advance<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
The <a href="https://github.com/syohex/emacs-anzu">anzu</a> package enhances <code>query-replace</code> and <code>query-replace-regexp</code> by showing
total matches and current match position.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">anzu</span>
  <span style="color: #657b83; font-weight: bold;">:diminish</span> anzu-mode
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"M-%"</span> . anzu-query-replace<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-M-%"</span> . anzu-query-replace-regexp<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span> <span style="color: #b58900;">(</span>global-anzu-mode<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
The <a href="https://github.com/benma/visual-regexp.el">Visual Regular Expressions</a> project highlights the matches while you try to
remember the differences between Perl's regular expressions and Emacs'&#x2026;
</p>

<p>
Begin with <code>C-c r</code> then type the regexp. To see the highlighted matches, type
<code>C-c a</code> before you hit <code>RET</code> to accept it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">visual-regexp</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:init</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">use modern regular expressions instead of Emacs-style regular expressions</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">visual-regexp-steroids</span> <span style="color: #657b83; font-weight: bold;">:ensure</span> t<span style="color: #b58900;">)</span>

  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c r"</span> . vr/replace<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c q"</span> . vr/query-replace<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">if you use `</span><span style="color: #268bd2; font-weight: bold;">multiple-cursors</span><span style="color: #93a1a1;">', this is for you:</span>
  <span style="color: #657b83; font-weight: bold;">:config</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">use-package</span>  <span style="color: #268bd2; font-weight: bold;">multiple-cursors</span>
            <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c m"</span> . vr/mc-mark<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2b37de6" class="outline-3">
<h3 id="org2b37de6"><span class="section-number-3">4.4</span> Editing</h3>
<div class="outline-text-3" id="text-4-4">
</div>
<div id="outline-container-org3e29dd3" class="outline-4">
<h4 id="org3e29dd3"><span class="section-number-4">4.4.1</span> Coding - always UTF-8</h4>
<div class="outline-text-4" id="text-4-4-1">
<p>
Always, always UTF-8.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>prefer-coding-system 'utf-8<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-default-coding-systems 'utf-8<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-terminal-coding-system 'utf-8<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-keyboard-coding-system 'utf-8<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> default-buffer-file-coding-system 'utf-8<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge97eb32" class="outline-4">
<h4 id="orge97eb32"><span class="section-number-4">4.4.2</span> Tabs, spaces, enters</h4>
<div class="outline-text-4" id="text-4-4-2">
</div>
<ol class="org-ol">
<li><a id="org97f73b2"></a>Tabs vs. Space<br />
<div class="outline-text-5" id="text-4-4-2-1">
<p>
Tabs are evil! I want spaces instead of tabs, and want exactly 2 spaces instead
of a tab. Note to self: Apparently emacs is smart enough to not do this in
Python, which is a good thing.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">make indentation commands use space only (never tab character)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq-default</span> indent-tabs-mode nil<span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">set current buffer's tab char's display width to 2 spaces</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> tab-width 2<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>

<li><a id="org30109bb"></a>Indent or Complete - smart tab behavior<br />
<div class="outline-text-5" id="text-4-4-2-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq-default</span> tab-always-indent 'complete<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgedb5f10"></a>Sentences end with one space<br />
<div class="outline-text-5" id="text-4-4-2-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> sentence-end-double-space nil<span style="color: #2aa198;">)</span>    <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">Sentences end with one space</span>
</pre>
</div>
</div>
</li>
<li><a id="org5c22467"></a>Bind <code>ENT</code> to <code>newline-and-indent</code><br />
<div class="outline-text-5" id="text-4-4-2-4">
<p>
By default, Emacs won't indent when press RET because the command bound to RET
is newline. You can enable automatic indentation by binding <code>RET</code> to
<code>newline-and-indent</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"RET"</span><span style="color: #b58900;">)</span> 'newline-and-indent<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgeb8244d"></a>Always newline at end of file<br />
<div class="outline-text-5" id="text-4-4-2-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> require-final-newline t<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org88b338c" class="outline-4">
<h4 id="org88b338c"><span class="section-number-4">4.4.3</span> Delete the selection with a keypress</h4>
<div class="outline-text-4" id="text-4-4-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>delete-selection-mode t<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org04d9e52" class="outline-4">
<h4 id="org04d9e52"><span class="section-number-4">4.4.4</span> <code>Whitespace</code> - show and clean devil</h4>
<div class="outline-text-4" id="text-4-4-4">
<p>
We want to show trailing whitespace. Trailing whitespace is the devil.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">whitespace</span>
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #2aa198;">"C-c x w"</span> . whitespace-mode<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:diminish</span> whitespace-mode
  <span style="color: #657b83; font-weight: bold;">:init</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Indicate trailing empty lines in the GUI</span>
  <span style="color: #b58900;">(</span>set-default 'indicate-empty-lines t<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> show-trailing-whitespace t<span style="color: #b58900;">)</span>

  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">limit line length                                                                    </span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> whitespace-line-column 80<span style="color: #b58900;">)</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Here are the things that whitespace-mode should highlight</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> whitespace-style '<span style="color: #268bd2;">(</span>face tabs empty trailing lines-tail<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Display pretty things for newlines and tabs (nothing for spaces)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> whitespace-display-mappings
        <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">all numbers are Unicode codepoint in decimal. e.g. (insert-char 182 1)</span>
        <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">32 SPACE, 183 MIDDLE DOT</span>
        '<span style="color: #268bd2;">(</span><span style="color: #6c71c4;">(</span>space-mark nil<span style="color: #6c71c4;">)</span>
          <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">10 LINE FEED</span>
          <span style="color: #93a1a1;">;;</span><span style="color: #93a1a1;">(newline-mark 10 [172 10])</span>
          <span style="color: #6c71c4;">(</span>newline-mark nil<span style="color: #6c71c4;">)</span>
          <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">9 TAB, MIDDLE DOT</span>
          <span style="color: #6c71c4;">(</span>tab-mark 9 <span style="color: #859900;">[</span>183 9<span style="color: #859900;">]</span> <span style="color: #859900;">[</span>92 9<span style="color: #859900;">]</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Disable it in certain modes where whitespace doesn't make sense.</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> whitespace-global-modes '<span style="color: #268bd2;">(</span>not org-mode
                                    eshell-mode
                                    shell-mode
                                    web-mode
                                    log4j-mode
                                    dired-mode
                                    emacs-lisp-mode
                                    clojure-mode
                                    lisp-mode<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
When you press <code>RET</code> to create a newline and got indented by
<code>eletric-indent-mode</code>, you have appropriate whitespace for indenting. But, if
you leave the line blank and move to the next line, the whitespace becomes
useless. <code>Clean-aindent-mode</code> helps <a href="https://www.emacswiki.org/emacs/CleanAutoIndent">clean up unused whitespace</a>. Turn it on in
<code>prog-mode</code> by default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">clean-aindent-mode</span>
  <span style="color: #657b83; font-weight: bold;">:init</span>
  <span style="color: #b58900;">(</span>add-hook 'prog-mode-hook 'clean-aindent-mode<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org925b656" class="outline-4">
<h4 id="org925b656"><span class="section-number-4">4.4.5</span> <code>Smartparents</code> - Insert closing parens automagically</h4>
<div class="outline-text-4" id="text-4-4-5">
<p>
<a href="https://github.com/Fuco1/smartparens">Smartparents</a> is a minor mode for dealing with pairs, such as automatically
insert pairs, wrap, unwrap and rewrap pairs,
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">smartparens</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:defer</span> t
  <span style="color: #657b83; font-weight: bold;">:diminish</span> <span style="color: #2aa198;">""</span>
  <span style="color: #657b83; font-weight: bold;">:init</span>
  <span style="color: #b58900;">(</span>smartparens-global-mode<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">smartparens-config</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>  
</pre>
</div>
</div>
</div>
<div id="outline-container-org25b3615" class="outline-4">
<h4 id="org25b3615"><span class="section-number-4">4.4.6</span> <code>Undo-tree</code> - visualize your undos and branches</h4>
<div class="outline-text-4" id="text-4-4-6">
<p>
<a href="http://www.dr-qubit.org/undo-tree/undo-tree.el">Undo-tree-mode</a> lets you use <code>C-x u</code> (<code>undo-tree-visualize</code>) to visually walk
through the changes you've made, undo back to a certain point (or redo), and go
down different branches.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">undo-tree</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:diminish</span> undo-tree-mode
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span>global-undo-tree-mode<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">progn</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> undo-tree-visualizer-timestamps t<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> undo-tree-visualizer-diff t<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org7c251a8" class="outline-4">
<h4 id="org7c251a8"><span class="section-number-4">4.4.7</span> <code>Auto-fill</code> - warp long lines</h4>
<div class="outline-text-4" id="text-4-4-7">
<p>
Turn on <a href="https://www.emacswiki.org/emacs/AutoFillMode">auto-fill-mode</a> to warp long lines automatically, instead of <code>M-q</code>
altogether. Sometimes, <code>toggle-truncate-lines</code> would be useful.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq-default</span> fill-column 79<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>add-hook 'text-mode-hook 'turn-on-auto-fill<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>add-hook 'prog-mode-hook 'turn-on-auto-fill<span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x t f"</span><span style="color: #b58900;">)</span> 'auto-fill-mode<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x t t"</span><span style="color: #b58900;">)</span> 'toggle-truncate-lines<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Sometimes, l want to join all the lines in a paragraph into a single line,
Emacs does not have a <code>unfill</code> command to do the inverse of <code>fill</code>. Luckly, <a href="http://ergoemacs.org/emacs/emacs_unfill-paragraph.html">Xah
Lee wrote unfill functions</a> for us.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">xah-unfill-paragraph</span> <span style="color: #b58900;">()</span>
  <span style="color: #2aa198;">"Replace newline chars in current paragraph by single spaces.</span>
<span style="color: #2aa198;">This command does the inverse of `</span><span style="color: #268bd2; font-weight: bold;">fill-paragraph</span><span style="color: #2aa198;">'."</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">let</span> <span style="color: #268bd2;">(</span><span style="color: #6c71c4;">(</span>fill-column most-positive-fixnum<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>fill-paragraph<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>define-key global-map <span style="color: #2aa198;">"\M-Q"</span> 'unfill-paragraph<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org049b2cb" class="outline-4">
<h4 id="org049b2cb"><span class="section-number-4">4.4.8</span> <code>Hippie-expand</code> - Text Expansion</h4>
<div class="outline-text-4" id="text-4-4-8">
<p>
<code>Hippie-expand</code> looks at the word before point and tries to expand it in
various ways including expanding from a fixed list (like <code>`expand-abbrev’</code>),
expanding from matching text found in a buffer (like <code>`dabbrev-expand’</code>) or
expanding in ways defined by your own functions. Which of these it tries and in
what order is controlled by a configurable list of functions.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> hippie-expand-try-functions-list
 '<span style="color: #b58900;">(</span>try-expand-dabbrev
   try-expand-dabbrev-all-buffers
   try-expand-dabbrev-from-kill
   try-complete-file-name-partially
   try-complete-file-name
   try-expand-all-abbrevs
   try-expand-list
   try-expand-line
   try-complete-lisp-symbol-partially
   try-complete-lisp-symbol<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"M-/"</span><span style="color: #b58900;">)</span> 'hippie-expand<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org23d6ff9" class="outline-4">
<h4 id="org23d6ff9"><span class="section-number-4">4.4.9</span> <code>Company</code> - Completion for Anything</h4>
<div class="outline-text-4" id="text-4-4-9">
<p>
<a href="http://company-mode.github.io">Company</a> is a text completion framework for Emacs. The name stands for <i>complete
anything</i>. I use <code>company-mode</code> for all my auto completion needs.
</p>

<p>
Completion will start automatically after you type a few letters. Use <code>M-n</code> and
<code>M-p</code> to select, <code>&lt;RET&gt;</code> to complete or <code>&lt;TAB&gt;</code> to complete the common part.
Press <code>M-(digit)</code> to quickly complete with one of the first <code>10</code> candidates.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">company</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:diminish</span> company-mode
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #2aa198;">"C-:"</span> . company-complete<span style="color: #b58900;">)</span>  <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">In case I don't want to wait</span>
  <span style="color: #657b83; font-weight: bold;">:init</span>
  <span style="color: #b58900;">(</span>add-hook 'after-init-hook 'global-company-mode<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> company-idle-delay 0.5<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> company-show-numbers t<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> company-tooltip-limit 10<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> company-minimum-prefix-length 2<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> company-tooltip-align-annotations t<span style="color: #b58900;">)</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">invert the navigation direction if the the completion popup-isearch-match</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">is displayed on top (happens near the bottom of windows)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> company-tooltip-flip-when-above t<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Take advantage of idle time by displaying some documentation using
<a href="https://www.github.com/expez/company-quickhelp">company-quickhelp</a> project.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">company-quickhelp</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span>company-quickhelp-mode 1<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
This also requires <a href="https://github.com/pitkali/pos-tip/blob/master/pos-tip.el">pos-tip</a>.
</p>
</div>
</div>

<div id="outline-container-org0b890ac" class="outline-4">
<h4 id="org0b890ac"><span class="section-number-4">4.4.10</span> <code>Yasnippet</code> - Code Templates</h4>
<div class="outline-text-4" id="text-4-4-10">
<p>
<a href="https://github.com/joaotavora/yasnippet">YASnippet</a> is a template system for Emacs. It allows you to type an abbreviation
and automatically expand it into function templates, based on the languages.
You can view a bunch of predefined snippet from the <a href="https://github.com/AndreaCrotti/yasnippet-snippets">yasnippet snippets project</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">yasnippet</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span>
  <span style="color: #657b83; font-weight: bold;">:diminish</span> t
  <span style="color: #657b83; font-weight: bold;">:init</span> 
  <span style="color: #b58900;">(</span>yas-global-mode 1<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span>add-to-list 'yas-snippet-dirs <span style="color: #268bd2;">(</span>expand-file-name <span style="color: #2aa198;">"snippets"</span> user-emacs-directory<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3046474" class="outline-4">
<h4 id="org3046474"><span class="section-number-4">4.4.11</span> <code>Flyspell</code> - Spelling Checking</h4>
<div class="outline-text-4" id="text-4-4-11">
<p>
I like spell checking with <a href="https://www.emacswiki.org/emacs/FlySpell">Flyspell</a> which does spell-checking on the fly as you
type using the build-in spell-check settings of ispell.
</p>

<p>
The ASpell program is better supported than ispell. It automatically configures
a personal dictionary at <code>~/.aspell.en.pws</code>, so no need to configure that.
Install ASpell with homebrew first:
</p>

<div class="org-src-container">
<pre class="src src-sh">brew install aspell
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">flyspell</span>
  <span style="color: #657b83; font-weight: bold;">:defer</span> t
  <span style="color: #657b83; font-weight: bold;">:diminish</span> <span style="color: #2aa198;">""</span>
  <span style="color: #657b83; font-weight: bold;">:init</span>
  <span style="color: #b58900;">(</span>add-hook 'prog-mode-hook 'flyspell-prog-mode<span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">dolist</span> <span style="color: #268bd2;">(</span>hook '<span style="color: #6c71c4;">(</span>text-mode-hook org-mode-hook<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>add-hook hook <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #859900;">()</span> <span style="color: #859900;">(</span>flyspell-mode 1<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">dolist</span> <span style="color: #268bd2;">(</span>hook '<span style="color: #6c71c4;">(</span>change-log-mode-hook log-edit-mode-hook org-agenda-mode-hook<span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>add-hook hook <span style="color: #6c71c4;">(</span><span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #859900;">()</span> <span style="color: #859900;">(</span>flyspell-mode -1<span style="color: #859900;">)</span><span style="color: #6c71c4;">)</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> ispell-program-name <span style="color: #2aa198;">"/usr/local/bin/aspell"</span> <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">use aspell instead of ispell</span>
        ispell-dictionary <span style="color: #2aa198;">"american"</span>
        ispell-extra-args '<span style="color: #268bd2;">(</span><span style="color: #2aa198;">"--sug-mode=ultra"</span>
                            <span style="color: #2aa198;">"--lang=en_US"</span>
                            <span style="color: #2aa198;">"--ignore=3"</span><span style="color: #268bd2;">)</span>
        ispell-list-command <span style="color: #2aa198;">"--list"</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x t s"</span><span style="color: #b58900;">)</span> 'flyspell-mode<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge915ee5" class="outline-4">
<h4 id="orge915ee5"><span class="section-number-4">4.4.12</span> <code>Multiple Cursors</code> - edit with multiple cursors</h4>
<div class="outline-text-4" id="text-4-4-12">
<p>
<a href="https://github.com/emacsmirror/multiple-cursors">Multiple-cursors</a> is an advanced package enable editing with multiple cursors
simultaneously. <b>Multiple-cursors is crazy!</b> It doesn't have any default
keybindings, so I set up these:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">multiple-cursors</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. ."</span>   . mc/mark-all-dwim<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. C-."</span> . mc/mark-all-like-this-dwim<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. n"</span>   . mc/mark-next-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. C-n"</span> . mc/mark-next-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. p"</span>   . mc/mark-previous-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. C-p"</span> . mc/mark-previous-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. a"</span>   . mc/mark-all-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. C-a"</span> . mc/mark-all-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. N"</span>   . mc/mark-next-symbol-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. C-N"</span> . mc/mark-next-symbol-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. P"</span>   . mc/mark-previous-symbol-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. C-P"</span> . mc/mark-previous-symbol-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. A"</span>   . mc/mark-all-symbols-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. C-A"</span> . mc/mark-all-symbols-like-this<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. f"</span>   . mc/mark-all-like-this-in-defun<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. C-f"</span> . mc/mark-all-like-this-in-defun<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. l"</span>   . mc/edit-lines<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. C-l"</span> . mc/edit-lines<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. e"</span>   . mc/edit-ends-of-lines<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c C-. C-e"</span> . mc/edit-ends-of-lines<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-M-&lt;mouse-1&gt;"</span> . mc/add-cursor-on-click<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2d015a7" class="outline-3">
<h3 id="org2d015a7"><span class="section-number-3">4.5</span> Helm - interactive completion</h3>
<div class="outline-text-3" id="text-4-5">
</div>
<div id="outline-container-org936ed7a" class="outline-4">
<h4 id="org936ed7a"><span class="section-number-4">4.5.1</span> Helm core - amazing utils used everywhere</h4>
<div class="outline-text-4" id="text-4-5-1">
<p>
<a href="https://github.com/emacs-helm/helm">Helm</a> makes it easy to complete various things. I find it to be easier to
configure than <code>ido</code> in order to get completion in as many places as possible,
although I prefer ido's way of switching buffers.
</p>

<p>
This article: <a href="http://tuhdo.github.io/helm-intro.html">A Package in a league of its own: Helm</a> is worth reading. <b>Helm is
Amazing!</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">helm</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:diminish</span> <span style="color: #2aa198;">""</span>
  <span style="color: #657b83; font-weight: bold;">:init</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">helm</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">helm-config</span><span style="color: #b58900;">)</span>

  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">The default "C-x c" is quite close to "C-x C-c", which quits Emacs.</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Changed to "C-c h". Note: We must set "C-c h" globally, because we</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">cannot change `</span><span style="color: #268bd2; font-weight: bold;">helm-command-prefix-key</span><span style="color: #93a1a1;">' once `</span><span style="color: #268bd2; font-weight: bold;">helm-config</span><span style="color: #93a1a1;">' is loaded.</span>
  <span style="color: #b58900;">(</span>global-set-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"C-c h"</span><span style="color: #268bd2;">)</span> 'helm-command-prefix<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>global-unset-key <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"C-x c"</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">rebind tab to run persistent action</span>
  <span style="color: #b58900;">(</span>define-key helm-map <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"&lt;tab&gt;"</span><span style="color: #268bd2;">)</span> 'helm-execute-persistent-action<span style="color: #b58900;">)</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">make TAB works in terminal</span>
  <span style="color: #b58900;">(</span>define-key helm-map <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"C-i"</span><span style="color: #268bd2;">)</span> 'helm-execute-persistent-action<span style="color: #b58900;">)</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">list actions using C-z</span>
  <span style="color: #b58900;">(</span>define-key helm-map <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"C-z"</span><span style="color: #268bd2;">)</span>  'helm-select-action<span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">when</span> <span style="color: #268bd2;">(</span>executable-find <span style="color: #2aa198;">"curl"</span><span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> helm-google-suggest-use-curl-p t<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> helm-split-window-in-side-p           t
        helm-move-to-line-cycle-in-source     t
        helm-ff-search-library-in-sexp        t
        helm-scroll-amount                    8
        helm-ff-file-name-history-use-recentf t<span style="color: #b58900;">)</span>

  <span style="color: #b58900;">(</span>helm-mode 1<span style="color: #b58900;">)</span>

  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">fuzzy matching</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> helm-recentf-fuzzy-match t
        helm-locate-fuzzy-match nil <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">locate fuzzy is worthless</span>
        helm-M-x-fuzzy-match t
        helm-buffers-fuzzy-matching t
        helm-semantic-fuzzy-match t
        helm-apropos-fuzzy-match t
        helm-imenu-fuzzy-match t
        helm-lisp-fuzzy-completion t
        helm-completion-in-region-fuzzy-match t<span style="color: #b58900;">)</span>

  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"M-x"</span> . helm-M-x<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"M-y"</span> . helm-show-kill-ring<span style="color: #268bd2;">)</span>

         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-x b"</span> . helm-mini<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-x C-b"</span> . helm-buffers-list<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-x C-f"</span> . helm-find-files<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-x C-r"</span> . helm-recentf<span style="color: #268bd2;">)</span>

         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c s"</span> . helm-swoop<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c o"</span> . helm-occur<span style="color: #268bd2;">)</span>

         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c h a"</span> . helm-apropos<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c h y"</span> . helm-yas-complete<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c h SPC"</span> . helm-all-mark-rings<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c h i"</span> . helm-semantic-or-imenu<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c h m"</span> . helm-man-woman<span style="color: #268bd2;">)</span>
         <span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge7a842c" class="outline-4">
<h4 id="orge7a842c"><span class="section-number-4">4.5.2</span> Helm-projectile - project maintaining</h4>
<div class="outline-text-4" id="text-4-5-2">
<p>
Read this article <a href="http://tuhdo.github.io/helm-projectile.html">Exploring large projects with Projectile and Helm Projectile</a>
(or <a href="https://docs.projectile.mx/en/latest/">the official Projectile Manual</a>) See some demos and master the usage. First
of all, you should keep the command <code>helm-projectile</code> (<code>C-x p h</code>) in mind. Then
master the command on directories and files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">helm-projectile</span>
    <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #2aa198;">"C-x p h"</span> . helm-projectile<span style="color: #b58900;">)</span>
    <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span>projectile-global-mode<span style="color: #b58900;">)</span>
    <span style="color: #657b83; font-weight: bold;">:config</span>
    <span style="color: #b58900;">(</span>helm-projectile-on<span style="color: #b58900;">)</span>
    <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> projectile-completion-system 'helm<span style="color: #b58900;">)</span>
    <span style="color: #93a1a1;">;</span><span style="color: #93a1a1;">(setq projectile-switch-project-action 'helm-projectile-find-file)</span>
<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1991caf" class="outline-4">
<h4 id="org1991caf"><span class="section-number-4">4.5.3</span> Helm-swoop - searching tool</h4>
<div class="outline-text-4" id="text-4-5-3">
<p>
This promises to be a fast way to find things.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">helm-swoop</span>
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"M-i"</span> . helm-swoop<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"M-I"</span> . helm-swoop-back-to-last-point<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"C-c M-i"</span> . helm-multi-swoop<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">When doing isearch, hand the word over to helm-swoop</span>
  <span style="color: #b58900;">(</span>define-key isearch-mode-map <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"M-i"</span><span style="color: #268bd2;">)</span> 'helm-swoop-from-isearch<span style="color: #b58900;">)</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">From helm-swoop to helm-multi-swoop-all</span>
  <span style="color: #b58900;">(</span>define-key helm-swoop-map <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"M-i"</span><span style="color: #268bd2;">)</span> 'helm-multi-swoop-all-from-helm-swoop<span style="color: #b58900;">)</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Save buffer when helm-multi-swoop-edit complete</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> helm-multi-swoop-edit-save t
        <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">If this value is t, split window inside the current window</span>
        helm-swoop-split-with-multiple-windows t
        <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Split direcion. 'split-window-vertically or 'split-window-horizontally</span>
        helm-swoop-split-direction 'split-window-vertically
        <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">If nil, you can slightly boost invoke speed in exchange for text color</span>
        helm-swoop-speed-or-color nil<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb72fc14" class="outline-4">
<h4 id="orgb72fc14"><span class="section-number-4">4.5.4</span> Helm-describe - keybings describe</h4>
<div class="outline-text-4" id="text-4-5-4">
<p>
Helm Descbinds provides an interface to emacs’ describe-bindings making the
currently active key bindings interactively searchable with helm. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">helm-descbinds</span>
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #2aa198;">"C-h b"</span> . helm-descbinds<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span>fset 'describe-bindings 'helm-descbinds<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">helm-config</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1074db4" class="outline-4">
<h4 id="org1074db4"><span class="section-number-4">4.5.5</span> Helm-flyspell - flyspell correct</h4>
<div class="outline-text-4" id="text-4-5-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">helm-flyspell</span>
  <span style="color: #657b83; font-weight: bold;">:defer</span> t
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span>define-key flyspell-mode-map <span style="color: #268bd2;">(</span>kbd <span style="color: #2aa198;">"M-S"</span><span style="color: #268bd2;">)</span> 'helm-flyspell-correct<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org69a5d00" class="outline-3">
<h3 id="org69a5d00"><span class="section-number-3">4.6</span> Backup and autosave</h3>
<div class="outline-text-3" id="text-4-6">
<p>
Backup is one of the things people usually want to <a href="http://ergoemacs.org/emacs/emacs_set_backup_into_a_directory.html">change right away</a>. By
default, Emacs saves backup files in the current directory. These are the files
ending in <code>~</code> that are cluttering up your directory lists. The following code
stashes them all in <code>$HOME/.emacs.d/backup</code>, where I can find them with <code>C-x
C-f</code> if I really need to.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">backup in one place. flat, no tree structure</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> backup-directory-alist `<span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">".*"</span> . ,user-emacs-backup-dir<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> make-backup-files t<span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">store the undo-tree history in one place</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> undo-tree-history-directory-alist `<span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">".*"</span> . ,user-emacs-backup-dir<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>      
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> undo-tree-auto-save-history t<span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">backup misc settings</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> backup-by-copying t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> delete-old-versions t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> version-control t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> vc-make-backup-files t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> kept-new-versions 6
      kept-old-versions 2<span style="color: #2aa198;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> auto-save-file-name-transforms `<span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">".*"</span> ,user-emacs-autosave-dir t<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> auto-save-default t<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org2af9b1c" class="outline-3">
<h3 id="org2af9b1c"><span class="section-number-3">4.7</span> Persistence and history</h3>
<div class="outline-text-3" id="text-4-7">
</div>
<div id="outline-container-orgc711b9e" class="outline-4">
<h4 id="orgc711b9e"><span class="section-number-4">4.7.1</span> Recentf - recent files</h4>
<div class="outline-text-4" id="text-4-7-1">
<p>
<code>Recentf</code> is a minor mode that builds a list of recently opened files. Turn it
on, then call <code>recentf-open-files</code> to open recently opened files fast.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">recentf</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>recentf-mode 1<span style="color: #2aa198;">)</span> <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">keep a list of recently opened files, for future sessions</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> recentf-save-file <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"recentf"</span> user-emacs-savefile-dir<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> recentf-max-saved-items 500
      recentf-max-menu-items 25
      <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">disable recentf-cleanup on Emacs start, because it can cause</span>
      <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">problems with remote files</span>
      recentf-auto-cleanup 'never<span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-c f r"</span><span style="color: #b58900;">)</span> 'recentf-open-files<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga68a285" class="outline-4">
<h4 id="orga68a285"><span class="section-number-4">4.7.2</span> Saveplace - save file position</h4>
<div class="outline-text-4" id="text-4-7-2">
<p>
You can save the cursor position for every file you opened. So, next time you
open the file, the cursor will be at the position you last opened it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">saveplace</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>save-place-mode 1<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> save-place-file <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"saveplace"</span> user-emacs-savefile-dir<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org717bf2e" class="outline-4">
<h4 id="org717bf2e"><span class="section-number-4">4.7.3</span> Savehist - save history</h4>
<div class="outline-text-4" id="text-4-7-3">
<p>
By default, <code>Savehist</code> saves only your minibuffer histories, but you can
optionally save other histories and other variables as well.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">savehist</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>savehist-mode 1<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> savehist-file <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"savehist"</span> user-emacs-savefile-dir<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> history-length t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> history-delete-duplicates t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> savehist-save-minibuffer-history 1<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> savehist-additional-variables
      '<span style="color: #b58900;">(</span>kill-ring
        search-ring
        regexp-search-ring<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org05b5b9a" class="outline-4">
<h4 id="org05b5b9a"><span class="section-number-4">4.7.4</span> Desktop - save and restore opened files and windows config</h4>
<div class="outline-text-4" id="text-4-7-4">
<p>
<code>Desktop</code> can save and restore all previously opened files in last Emacs
session, and also previous windows configuration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">desktop</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>desktop-save-mode 1<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> desktop-base-file-name <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"desktop"</span> user-emacs-savefile-dir<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> desktop-base-lock-name <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"desktop.lock"</span> user-emacs-savefile-dir<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> desktop-save 'ask<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> desktop-auto-save-timeout nil<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org795566d" class="outline-4">
<h4 id="org795566d"><span class="section-number-4">4.7.5</span> Bookmarks</h4>
<div class="outline-text-4" id="text-4-7-5">
<p>
<code>Bookmarks</code> lets you easily open frequently needed files. It is similar to
browser's bookmark. Read this <a href="http://ergoemacs.org/emacs/bookmark.html">article</a> about the usage.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">bookmark</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> bookmark-default-file <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"bookmark"</span> user-emacs-savefile-dir<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> bookmark-save-flag 1<span style="color: #2aa198;">)</span> <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">everytime bookmark is changed, auto save it</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge62c0fd" class="outline-4">
<h4 id="orge62c0fd"><span class="section-number-4">4.7.6</span> Eshell</h4>
<div class="outline-text-4" id="text-4-7-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">eshell</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> eshell-directory-name <span style="color: #b58900;">(</span>expand-file-name <span style="color: #2aa198;">"eshell"</span> user-emacs-savefile-dir<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgec2ec2c" class="outline-3">
<h3 id="orgec2ec2c"><span class="section-number-3">4.8</span> Miscellaneous Settings</h3>
<div class="outline-text-3" id="text-4-8">
</div>
<div id="outline-container-orgd5995c1" class="outline-4">
<h4 id="orgd5995c1"><span class="section-number-4">4.8.1</span> Flycheck</h4>
<div class="outline-text-4" id="text-4-8-1">
<p>
<a href="https://github.com/flycheck/flycheck">Flycheck</a> seems to be quite superior to <code>Flymake</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">flycheck</span>
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #2aa198;">"C-x t c"</span> . flycheck-mode<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:diminish</span> flycheck-mode
  <span style="color: #657b83; font-weight: bold;">:init</span>
  <span style="color: #b58900;">(</span>add-hook 'after-init-hook 'global-flycheck-mode<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq-default</span> flycheck-disabled-checkers '<span style="color: #268bd2;">(</span>emacs-lisp-checkdoc<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2f6acbd" class="outline-3">
<h3 id="org2f6acbd"><span class="section-number-3">4.9</span> Global Key Bindings</h3>
<div class="outline-text-3" id="text-4-9">
</div>
<div id="outline-container-org4137ed0" class="outline-4">
<h4 id="org4137ed0"><span class="section-number-4">4.9.1</span> Toggles</h4>
<div class="outline-text-4" id="text-4-9-1">
<p>
Bind shortcuts to some mode <i>toggle</i> functions. Inspired by <a href="http://endlessparentheses.com/the-toggle-map-and-wizardry.html">this article</a>, I am
a wizard now.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>define-prefix-command 'endless/toggle-map<span style="color: #2aa198;">)</span>
<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">The manual recommends C-c for user keys, but C-x t is</span>
<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">always free, whereas C-c t is used by some modes.</span>
<span style="color: #2aa198;">(</span>define-key ctl-x-map <span style="color: #2aa198;">"t"</span> 'endless/toggle-map<span style="color: #2aa198;">)</span>
<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">build-in packages</span>
<span style="color: #2aa198;">(</span>define-key endless/toggle-map <span style="color: #2aa198;">"d"</span> #'toggle-debug-on-error<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>define-key endless/toggle-map <span style="color: #2aa198;">"q"</span> #'toggle-debug-on-quit<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>define-key endless/toggle-map <span style="color: #2aa198;">"f"</span> #'auto-fill-mode<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>define-key endless/toggle-map <span style="color: #2aa198;">"t"</span> #'toggle-truncate-lines<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>define-key endless/toggle-map <span style="color: #2aa198;">"l"</span> #'display-line-numbers-mode<span style="color: #2aa198;">)</span>
<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">packages installed by `</span><span style="color: #268bd2; font-weight: bold;">use-packages</span><span style="color: #93a1a1;">'</span>
<span style="color: #2aa198;">(</span>define-key endless/toggle-map <span style="color: #2aa198;">"w"</span> #'whitespace-mode<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>define-key endless/toggle-map <span style="color: #2aa198;">"s"</span> #'flyspell-mode<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>define-key endless/toggle-map <span style="color: #2aa198;">"c"</span> #'flycheck-mode<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>define-key endless/toggle-map <span style="color: #2aa198;">"g"</span> #'git-timemachine<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org021bfc8" class="outline-4">
<h4 id="org021bfc8"><span class="section-number-4">4.9.2</span> Miscellaneous</h4>
<div class="outline-text-4" id="text-4-9-2">
<p>
Here are some useful global key bindings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Align your code in a pretty way.</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x \\"</span><span style="color: #b58900;">)</span> 'align-regexp<span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Font size</span>
<span style="color: #93a1a1;">;</span><span style="color: #93a1a1;">(global-set-key (kbd "C-+") 'text-scale-increase)</span>
<span style="color: #93a1a1;">;</span><span style="color: #93a1a1;">(global-set-key (kbd "C--") 'text-scale-decrease)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Start eshell or switch to it if it's active.</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x m"</span><span style="color: #b58900;">)</span> 'eshell<span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Start a new eshell even if one is active.</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x M"</span><span style="color: #b58900;">)</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">lambda</span> <span style="color: #268bd2;">()</span> <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #268bd2;">)</span> <span style="color: #268bd2;">(</span>eshell t<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Start a regular shell if you prefer that.</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x M-m"</span><span style="color: #b58900;">)</span> 'shell<span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">use hippie-expand instead of dabbrev</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"M-/"</span><span style="color: #b58900;">)</span> 'hippie-expand<span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">replace buffer-menu with ibuffer</span>
<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">(</span>kbd <span style="color: #2aa198;">"C-x C-b"</span><span style="color: #b58900;">)</span> 'ibuffer<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcaa40e1" class="outline-4">
<h4 id="orgcaa40e1"><span class="section-number-4">4.9.3</span> <code>Which-key</code> - keys cheat sheet</h4>
<div class="outline-text-4" id="text-4-9-3">
<p>
Many command sequences may be logical, but who can remember them all? Don't
worry. <a href="https://github.com/justbur/emacs-which-key">Which-key</a> can display the key bindings following your currently entered
incomplete command (a prefix) in a popup.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">which-key</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:config</span> <span style="color: #b58900;">(</span>which-key-mode<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org16dc910" class="outline-2">
<h2 id="org16dc910"><span class="section-number-2">5</span> Aesthetics</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgf685157" class="outline-3">
<h3 id="orgf685157"><span class="section-number-3">5.1</span> Color Themes</h3>
<div class="outline-text-3" id="text-5-1">
<p>
<a href="http://ethanschoonover.com/solarized">Solarized Theme</a> and <a href="https://github.com/nashamri/spacemacs-theme">Spacemacs Theme</a> are my favorite color themes. And the
<a href="https://github.com/bbatsov/zenburn-emacs">Zenburn Theme</a> is also really nice. I used these as my default color themes.
</p>

<p>
According to this <a href="http://stackoverflow.com/questions/23793288/cycle-custom-themes-w-emacs-24/23794179#23794179">Stackoverflow discuss</a> , I can use <code>f12</code> to switch color
themes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">zenburn-theme</span> <span style="color: #657b83; font-weight: bold;">:defer</span> t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">solarized-theme</span> <span style="color: #657b83; font-weight: bold;">:defer</span> t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">spacemacs-theme</span> <span style="color: #657b83; font-weight: bold;">:defer</span> t<span style="color: #2aa198;">)</span>

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">color theme cycle list</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> my-themes <span style="color: #b58900;">(</span>list
                 'zenburn
                 'spacemacs-light
                 'spacemacs-dark
                 <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">'solarized-light</span>
                 <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">'solarized-dark</span>
                 <span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">my-theme-cycle</span> <span style="color: #b58900;">()</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">interactive</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>disable-theme <span style="color: #268bd2;">(</span>car curr-theme<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span> <span style="color: #93a1a1;">;;</span><span style="color: #93a1a1;">Nee flickeringded to stop even worse</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> curr-theme <span style="color: #268bd2;">(</span>cdr curr-theme<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">if</span> <span style="color: #268bd2;">(</span>null curr-theme<span style="color: #268bd2;">)</span> <span style="color: #268bd2;">(</span><span style="color: #859900; font-weight: bold;">setq</span> curr-theme my-themes<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>load-theme <span style="color: #268bd2;">(</span>car curr-theme<span style="color: #268bd2;">)</span> t<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>message <span style="color: #2aa198;">"%s"</span> <span style="color: #268bd2;">(</span>car curr-theme<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>global-set-key <span style="color: #b58900;">[</span>f12<span style="color: #b58900;">]</span> 'my-theme-cycle<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> curr-theme my-themes<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>load-theme <span style="color: #b58900;">(</span>car curr-theme<span style="color: #b58900;">)</span> t<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6763f14" class="outline-3">
<h3 id="org6763f14"><span class="section-number-3">5.2</span> Modeline Theme</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">powerline</span>
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span>powerline-default-theme<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge66835a" class="outline-3">
<h3 id="orge66835a"><span class="section-number-3">5.3</span> Neotree Icons</h3>
<div class="outline-text-3" id="text-5-3">
<p>
According to <a href="https://github.com/jaypei/emacs-neotree">this</a>, install <a href="https://github.com/domtronn/all-the-icons.el">all-the-icon</a> package for neotree's color theme:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">all-the-icons</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
In order for the icons to work it is very important that you install the
<i>Resource Fonts</i> included in this package. Call the following command:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">M-x all-the-icons-install-fonts
</pre>
</div>

<p>
Then use <code>all-the-icons</code> for <code>neotree</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> inhibit-compacting-font-caches t<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">setq</span> neo-theme 'icons<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga5cbfbb" class="outline-3">
<h3 id="orga5cbfbb"><span class="section-number-3">5.4</span> Set Fonts</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Choosing a nice and comfortable font is quite important in your whole coding
life.
</p>

<p>
I prefer <i>Monaco</i>. And, as a Chinese, l choose <i>WenQuanYi</i> for Chinese charset.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">when</span> <span style="color: #b58900;">(</span>eq system-type 'darwin<span style="color: #b58900;">)</span>

  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">default Latin font (e.g. Consolas)</span>
  <span style="color: #b58900;">(</span>set-face-attribute 'default nil <span style="color: #657b83; font-weight: bold;">:family</span> <span style="color: #2aa198;">"Monaco"</span><span style="color: #b58900;">)</span>

  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">default font size (point * 10)</span>
  <span style="color: #93a1a1;">;;</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">WARNING!  Depending on the default font,</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">if the size is not supported very well, the frame will be clipped</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">so that the beginning of the buffer may not be visible correctly.</span>
  <span style="color: #b58900;">(</span>set-face-attribute 'default nil <span style="color: #657b83; font-weight: bold;">:height</span> 150<span style="color: #b58900;">)</span>

  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">use specific font for Chinese charset.</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">if you want to use different font size for specific charset,</span>
  <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">add :size POINT-SIZE in the font-spec.</span>
  <span style="color: #b58900;">(</span>set-fontset-font t 'han <span style="color: #268bd2;">(</span>font-spec <span style="color: #657b83; font-weight: bold;">:name</span> <span style="color: #2aa198;">"WenQuanYi Micro Hei Mono"</span><span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
  <span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
<code>M-x eshell</code>, then run the command <code>(print (font-family-list))</code>. You will see a
list of fonts can be used in Emacs.
</p>
</div>
</div>

<div id="outline-container-org95ec77f" class="outline-3">
<h3 id="org95ec77f"><span class="section-number-3">5.5</span> <code>Nyan-mode</code> - Nyan cat in modeline</h3>
<div class="outline-text-3" id="text-5-5">
<p>
Let <a href="https://en.wikipedia.org/wiki/Nyan_Cat">Nyan Cat</a> show you your buffer position in mode line. You can scroll the
buffer by clicking on the Nyan Cat’s rainbow and the space in front of it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">nyan-mode</span>
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span>nyan-mode<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge078638" class="outline-3">
<h3 id="orge078638"><span class="section-number-3">5.6</span> <code>Rainbow-delimiters</code> - color delimiters for LISP</h3>
<div class="outline-text-3" id="text-5-6">
<p>
For lisp like languages, I want to witness the full power of colorful
<a href="https://github.com/Fanael/rainbow-delimiters">rainbow-delimiters</a>! I will even set them to pastel versions of the rainbow
colors.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">rainbow-delimiters</span>
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span>rainbow-delimiters-mode 1<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span>set-face-attribute 'rainbow-delimiters-depth-1-face nil
                    <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"</span><span style="color: #000000; background-color: #78c5d6;">#78c5d6</span><span style="color: #2aa198;">"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-face-attribute 'rainbow-delimiters-depth-2-face nil
                    <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"</span><span style="color: #ffffff; background-color: #bf62a6;">#bf62a6</span><span style="color: #2aa198;">"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-face-attribute 'rainbow-delimiters-depth-3-face nil
                    <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"</span><span style="color: #000000; background-color: #459ba8;">#459ba8</span><span style="color: #2aa198;">"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-face-attribute 'rainbow-delimiters-depth-4-face nil
                    <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"</span><span style="color: #000000; background-color: #e868a2;">#e868a2</span><span style="color: #2aa198;">"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-face-attribute 'rainbow-delimiters-depth-5-face nil
                    <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"</span><span style="color: #000000; background-color: #79c267;">#79c267</span><span style="color: #2aa198;">"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-face-attribute 'rainbow-delimiters-depth-6-face nil
                    <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"</span><span style="color: #000000; background-color: #f28c33;">#f28c33</span><span style="color: #2aa198;">"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-face-attribute 'rainbow-delimiters-depth-7-face nil
                    <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"</span><span style="color: #000000; background-color: #c5d647;">#c5d647</span><span style="color: #2aa198;">"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-face-attribute 'rainbow-delimiters-depth-8-face nil
                    <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"</span><span style="color: #000000; background-color: #f5d63d;">#f5d63d</span><span style="color: #2aa198;">"</span><span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>set-face-attribute 'rainbow-delimiters-depth-9-face nil
                    <span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"</span><span style="color: #000000; background-color: #78c5d6;">#78c5d6</span><span style="color: #2aa198;">"</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
We also want to make unmatched parens stand out more:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>set-face-attribute 'rainbow-delimiters-unmatched-face nil
                    <span style="color: #657b83; font-weight: bold;">:foreground</span> 'unspecified
                    <span style="color: #657b83; font-weight: bold;">:inherit</span> 'show-paren-mismatch
                    <span style="color: #657b83; font-weight: bold;">:strike-through</span> t<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Now we just need to adjust the hook for lisp-like languages. Possibly have to
add clojure, if I ever want to mess with that.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>add-hook 'emacs-lisp-mode-hook 'rainbow-delimiters-mode<span style="color: #2aa198;">)</span>
<span style="color: #2aa198;">(</span>add-hook 'lisp-mode-hook 'rainbow-delimiters-mode<span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga52c8d2" class="outline-3">
<h3 id="orga52c8d2"><span class="section-number-3">5.7</span> <code>Rainbow-mode</code> - color words for CSS</h3>
<div class="outline-text-3" id="text-5-7">
<p>
<code>Rainbow-mode</code> makes "color words" in my programs appear in the colours they
describe. Particularly good for CSS and the like.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">rainbow-mode</span>
  <span style="color: #657b83; font-weight: bold;">:diminish</span> rainbow-mode
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span>add-hook 'emacs-lisp-mode-hook 'rainbow-mode<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>add-hook 'css-mode-hook 'rainbow-mode<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>add-hook 'html-mode-hook 'rainbow-mode<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>add-hook 'js2-mode-hook 'rainbow-mode<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org1e34fed" class="outline-2">
<h2 id="org1e34fed"><span class="section-number-2">6</span> Languages</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgfff5942" class="outline-3">
<h3 id="orgfff5942"><span class="section-number-3">6.1</span> Markdown</h3>
<div class="outline-text-3" id="text-6-1">
<p>
<a href="https://github.com/defunkt/markdown-mode">Markdown-mode</a> is a major mode for editing Markdown-formatted text.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">markdown-mode</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:commands</span> <span style="color: #b58900;">(</span>markdown-mode gfm-mode<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:mode</span> <span style="color: #b58900;">(</span><span style="color: #268bd2;">(</span><span style="color: #2aa198;">"README\\.md\\'"</span> . gfm-mode<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"\\.md\\'"</span> . markdown-mode<span style="color: #268bd2;">)</span>
         <span style="color: #268bd2;">(</span><span style="color: #2aa198;">"\\.markdown\\'"</span> . markdown-mode<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> markdown-command <span style="color: #2aa198;">"multimarkdown"</span><span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd7e3d18" class="outline-3">
<h3 id="orgd7e3d18"><span class="section-number-3">6.2</span> Shell</h3>
<div class="outline-text-3" id="text-6-2">
<p>
Make a shell script executable automatically on save.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>add-hook 'after-save-hook
          'executable-make-buffer-file-executable-if-script-p<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Files with <code>.zsh</code> extension is shell script too.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span>add-to-list 'auto-mode-alist '<span style="color: #b58900;">(</span><span style="color: #2aa198;">"\\.zsh\\'"</span> . sh-mode<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orge2dd258" class="outline-2">
<h2 id="orge2dd258"><span class="section-number-2">7</span> Git - version control system</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-orgd541fd7" class="outline-3">
<h3 id="orgd541fd7"><span class="section-number-3">7.1</span> Git basic settings</h3>
<div class="outline-text-3" id="text-7-1">
<p>
I like <a href="https://github.com/dgutov/diff-hl">diff-hl</a>. This mode can highlight uncommitted changes on the left side of
the window, allows you to jump between and revert them selectively.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">diff-hl</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:init</span> <span style="color: #b58900;">(</span>global-diff-hl-mode<span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span>add-hook 'dired-mode-hook 'diff-hl-dired-mode<span style="color: #b58900;">)</span>
  <span style="color: #b58900;">(</span>add-hook 'magit-post-refresh-hook 'diff-hl-magit-post-refresh<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
I want to have special mode for Git's <code>gitconfig</code> and <code>gitignore</code> file:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">gitconfig-mode</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t<span style="color: #2aa198;">)</span>

<span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">gitignore-mode</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t<span style="color: #2aa198;">)</span>
</pre>
</div>

<p>
Finally, I want to play with <a href="https://gitlab.com/pidu/git-timemachine/blob/master/README.md">Git Time Machine</a> project for viewing the different
version history of a file with <code>p</code> and <code>n</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">git-timemachine</span>
  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #2aa198;">"C-x t g"</span> . git-timemachine<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org64edd53" class="outline-3">
<h3 id="org64edd53"><span class="section-number-3">7.2</span> Magit</h3>
<div class="outline-text-3" id="text-7-2">
<p>
Git is <a href="http://emacswiki.org/emacs/Git">already part of Emacs</a>. However, <b><a href="https://magit.vc">Magit</a> is sweet!</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">(</span><span style="color: #859900; font-weight: bold;">use-package</span> <span style="color: #268bd2; font-weight: bold;">magit</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> t
  <span style="color: #657b83; font-weight: bold;">:commands</span> magit-status magit-blame
  <span style="color: #657b83; font-weight: bold;">:init</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">defadvice</span> <span style="color: #268bd2;">magit-status</span> <span style="color: #268bd2;">(</span>around magit-fullscreen activate<span style="color: #268bd2;">)</span>
    <span style="color: #268bd2;">(</span>window-configuration-to-register <span style="color: #657b83; font-weight: bold;">:magit-fullscreen</span><span style="color: #268bd2;">)</span>
    ad-do-it
    <span style="color: #268bd2;">(</span>delete-other-windows<span style="color: #268bd2;">)</span><span style="color: #b58900;">)</span>
  <span style="color: #657b83; font-weight: bold;">:config</span>
  <span style="color: #b58900;">(</span><span style="color: #859900; font-weight: bold;">setq</span> magit-branch-arguments nil
        <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">use ido to look for branches</span>
        magit-completing-read-function 'magit-ido-completing-read
        <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">don't put "origin-" in front of new branch names by default</span>
        magit-default-tracking-name-function 'magit-default-tracking-name-branch-only
        magit-push-always-verify nil
        <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Get rid of the previous advice to go into fullscreen</span>
        magit-restore-window-configuration t<span style="color: #b58900;">)</span>

  <span style="color: #657b83; font-weight: bold;">:bind</span> <span style="color: #b58900;">(</span><span style="color: #2aa198;">"C-x g"</span> . magit-status<span style="color: #b58900;">)</span><span style="color: #2aa198;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org7a97319" class="outline-2">
<h2 id="org7a97319"><span class="section-number-2">8</span> Org - plain text system</h2>
</div>
<div id="outline-container-org0dda367" class="outline-2">
<h2 id="org0dda367"><span class="section-number-2">9</span> Acknowledges</h2>
<div class="outline-text-2" id="text-9">
<ul class="org-ul">
<li>Inspired by <a href="http://pages.sachachua.com/.emacs.d/Sacha.html">Sacha</a> and <a href="http://doc.norang.ca/org-mode.html">Bernt</a>, I began to maintain my Emacs configuration using
org-babel in literate style as if maintain a document.</li>

<li>My configuration taken a lot from <a href="https://github.com/howardabrams/dot-files">Howard Abrams's Emacs initialization code</a>
which is well structured and documented with org-mode.</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Xiaojie Feng</p>
<p class="email">Email: <a href="mailto:fengxiaojie1997@gmail.com">fengxiaojie1997@gmail.com</a></p>
<p class="date">Created: 2019-08-27 Tue 14:29</p>
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 26.1 (<a href="https://orgmode.org">Org</a> mode 9.1.9)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
